{
  "{\"sourceRoot\":\"/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master/backend/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master\",\"filename\":\"/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master/backend/server.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master/backend/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master",
      "filename": "/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master/backend/server.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master/backend/server.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master/backend/server.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master/backend/",
        "sourceFileName": "server.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _path = _interopRequireDefault(require(\"path\"));\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nvar _bodyParser = _interopRequireDefault(require(\"body-parser\"));\n\nvar _config = _interopRequireDefault(require(\"./config\"));\n\nvar _userRoute = _interopRequireDefault(require(\"./routes/userRoute\"));\n\nvar _productRoute = _interopRequireDefault(require(\"./routes/productRoute\"));\n\nvar _orderRoute = _interopRequireDefault(require(\"./routes/orderRoute\"));\n\nvar _uploadRoute = _interopRequireDefault(require(\"./routes/uploadRoute\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst mongodbUrl = _config.default.MONGODB_URL;\n\n_mongoose.default.connect(mongodbUrl, {\n  useNewUrlParser: true,\n  useUnifiedTopology: true,\n  useCreateIndex: true\n}).catch(error => console.log(error.reason));\n\nconst app = (0, _express.default)();\napp.use(_bodyParser.default.json());\napp.use('/api/uploads', _uploadRoute.default);\napp.use('/api/users', _userRoute.default);\napp.use('/api/products', _productRoute.default);\napp.use('/api/orders', _orderRoute.default);\napp.get('/api/config/paypal', (req, res) => {\n  res.send(_config.default.PAYPAL_CLIENT_ID);\n});\napp.use('/uploads', _express.default.static(_path.default.join(__dirname, '/../uploads')));\napp.use(_express.default.static(_path.default.join(__dirname, '/../frontend/build')));\napp.get('*', (req, res) => {\n  res.sendFile(_path.default.join(`${__dirname}/../frontend/build/index.html`));\n});\napp.listen(_config.default.PORT, () => {\n  console.log('Server started at http://localhost:5000');\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlcnZlci5qcyJdLCJuYW1lcyI6WyJtb25nb2RiVXJsIiwiY29uZmlnIiwiTU9OR09EQl9VUkwiLCJtb25nb29zZSIsImNvbm5lY3QiLCJ1c2VOZXdVcmxQYXJzZXIiLCJ1c2VVbmlmaWVkVG9wb2xvZ3kiLCJ1c2VDcmVhdGVJbmRleCIsImNhdGNoIiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIiwicmVhc29uIiwiYXBwIiwidXNlIiwiYm9keVBhcnNlciIsImpzb24iLCJ1cGxvYWRSb3V0ZSIsInVzZXJSb3V0ZSIsInByb2R1Y3RSb3V0ZSIsIm9yZGVyUm91dGUiLCJnZXQiLCJyZXEiLCJyZXMiLCJzZW5kIiwiUEFZUEFMX0NMSUVOVF9JRCIsImV4cHJlc3MiLCJzdGF0aWMiLCJwYXRoIiwiam9pbiIsIl9fZGlybmFtZSIsInNlbmRGaWxlIiwibGlzdGVuIiwiUE9SVCJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7OztBQUVBLE1BQU1BLFVBQVUsR0FBR0MsZ0JBQU9DLFdBQTFCOztBQUNBQyxrQkFDR0MsT0FESCxDQUNXSixVQURYLEVBQ3VCO0FBQ25CSyxFQUFBQSxlQUFlLEVBQUUsSUFERTtBQUVuQkMsRUFBQUEsa0JBQWtCLEVBQUUsSUFGRDtBQUduQkMsRUFBQUEsY0FBYyxFQUFFO0FBSEcsQ0FEdkIsRUFNR0MsS0FOSCxDQU1VQyxLQUFELElBQVdDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZRixLQUFLLENBQUNHLE1BQWxCLENBTnBCOztBQVFBLE1BQU1DLEdBQUcsR0FBRyx1QkFBWjtBQUNBQSxHQUFHLENBQUNDLEdBQUosQ0FBUUMsb0JBQVdDLElBQVgsRUFBUjtBQUNBSCxHQUFHLENBQUNDLEdBQUosQ0FBUSxjQUFSLEVBQXdCRyxvQkFBeEI7QUFDQUosR0FBRyxDQUFDQyxHQUFKLENBQVEsWUFBUixFQUFzQkksa0JBQXRCO0FBQ0FMLEdBQUcsQ0FBQ0MsR0FBSixDQUFRLGVBQVIsRUFBeUJLLHFCQUF6QjtBQUNBTixHQUFHLENBQUNDLEdBQUosQ0FBUSxhQUFSLEVBQXVCTSxtQkFBdkI7QUFDQVAsR0FBRyxDQUFDUSxHQUFKLENBQVEsb0JBQVIsRUFBOEIsQ0FBQ0MsR0FBRCxFQUFNQyxHQUFOLEtBQWM7QUFDMUNBLEVBQUFBLEdBQUcsQ0FBQ0MsSUFBSixDQUFTdkIsZ0JBQU93QixnQkFBaEI7QUFDRCxDQUZEO0FBR0FaLEdBQUcsQ0FBQ0MsR0FBSixDQUFRLFVBQVIsRUFBb0JZLGlCQUFRQyxNQUFSLENBQWVDLGNBQUtDLElBQUwsQ0FBVUMsU0FBVixFQUFxQixhQUFyQixDQUFmLENBQXBCO0FBQ0FqQixHQUFHLENBQUNDLEdBQUosQ0FBUVksaUJBQVFDLE1BQVIsQ0FBZUMsY0FBS0MsSUFBTCxDQUFVQyxTQUFWLEVBQXFCLG9CQUFyQixDQUFmLENBQVI7QUFDQWpCLEdBQUcsQ0FBQ1EsR0FBSixDQUFRLEdBQVIsRUFBYSxDQUFDQyxHQUFELEVBQU1DLEdBQU4sS0FBYztBQUN6QkEsRUFBQUEsR0FBRyxDQUFDUSxRQUFKLENBQWFILGNBQUtDLElBQUwsQ0FBVyxHQUFFQyxTQUFVLCtCQUF2QixDQUFiO0FBQ0QsQ0FGRDtBQUlBakIsR0FBRyxDQUFDbUIsTUFBSixDQUFXL0IsZ0JBQU9nQyxJQUFsQixFQUF3QixNQUFNO0FBQzVCdkIsRUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVkseUNBQVo7QUFDRCxDQUZEIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9NZS9EZXNrdG9wL1JlYWN0UHJvamVjdHMvbm9kZS1yZWFjdC1lY29tbWVyY2UtbWFzdGVyL2JhY2tlbmQvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJztcbmltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSc7XG5pbXBvcnQgYm9keVBhcnNlciBmcm9tICdib2R5LXBhcnNlcic7XG5pbXBvcnQgY29uZmlnIGZyb20gJy4vY29uZmlnJztcbmltcG9ydCB1c2VyUm91dGUgZnJvbSAnLi9yb3V0ZXMvdXNlclJvdXRlJztcbmltcG9ydCBwcm9kdWN0Um91dGUgZnJvbSAnLi9yb3V0ZXMvcHJvZHVjdFJvdXRlJztcbmltcG9ydCBvcmRlclJvdXRlIGZyb20gJy4vcm91dGVzL29yZGVyUm91dGUnO1xuaW1wb3J0IHVwbG9hZFJvdXRlIGZyb20gJy4vcm91dGVzL3VwbG9hZFJvdXRlJztcblxuY29uc3QgbW9uZ29kYlVybCA9IGNvbmZpZy5NT05HT0RCX1VSTDtcbm1vbmdvb3NlXG4gIC5jb25uZWN0KG1vbmdvZGJVcmwsIHtcbiAgICB1c2VOZXdVcmxQYXJzZXI6IHRydWUsXG4gICAgdXNlVW5pZmllZFRvcG9sb2d5OiB0cnVlLFxuICAgIHVzZUNyZWF0ZUluZGV4OiB0cnVlLFxuICB9KVxuICAuY2F0Y2goKGVycm9yKSA9PiBjb25zb2xlLmxvZyhlcnJvci5yZWFzb24pKTtcblxuY29uc3QgYXBwID0gZXhwcmVzcygpO1xuYXBwLnVzZShib2R5UGFyc2VyLmpzb24oKSk7XG5hcHAudXNlKCcvYXBpL3VwbG9hZHMnLCB1cGxvYWRSb3V0ZSk7XG5hcHAudXNlKCcvYXBpL3VzZXJzJywgdXNlclJvdXRlKTtcbmFwcC51c2UoJy9hcGkvcHJvZHVjdHMnLCBwcm9kdWN0Um91dGUpO1xuYXBwLnVzZSgnL2FwaS9vcmRlcnMnLCBvcmRlclJvdXRlKTtcbmFwcC5nZXQoJy9hcGkvY29uZmlnL3BheXBhbCcsIChyZXEsIHJlcykgPT4ge1xuICByZXMuc2VuZChjb25maWcuUEFZUEFMX0NMSUVOVF9JRCk7XG59KTtcbmFwcC51c2UoJy91cGxvYWRzJywgZXhwcmVzcy5zdGF0aWMocGF0aC5qb2luKF9fZGlybmFtZSwgJy8uLi91cGxvYWRzJykpKTtcbmFwcC51c2UoZXhwcmVzcy5zdGF0aWMocGF0aC5qb2luKF9fZGlybmFtZSwgJy8uLi9mcm9udGVuZC9idWlsZCcpKSk7XG5hcHAuZ2V0KCcqJywgKHJlcSwgcmVzKSA9PiB7XG4gIHJlcy5zZW5kRmlsZShwYXRoLmpvaW4oYCR7X19kaXJuYW1lfS8uLi9mcm9udGVuZC9idWlsZC9pbmRleC5odG1sYCkpO1xufSk7XG5cbmFwcC5saXN0ZW4oY29uZmlnLlBPUlQsICgpID0+IHtcbiAgY29uc29sZS5sb2coJ1NlcnZlciBzdGFydGVkIGF0IGh0dHA6Ly9sb2NhbGhvc3Q6NTAwMCcpO1xufSk7XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "server.js"
      ],
      "names": [
        "mongodbUrl",
        "config",
        "MONGODB_URL",
        "mongoose",
        "connect",
        "useNewUrlParser",
        "useUnifiedTopology",
        "useCreateIndex",
        "catch",
        "error",
        "console",
        "log",
        "reason",
        "app",
        "use",
        "bodyParser",
        "json",
        "uploadRoute",
        "userRoute",
        "productRoute",
        "orderRoute",
        "get",
        "req",
        "res",
        "send",
        "PAYPAL_CLIENT_ID",
        "express",
        "static",
        "path",
        "join",
        "__dirname",
        "sendFile",
        "listen",
        "PORT"
      ],
      "mappings": ";;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;AAEA,MAAMA,UAAU,GAAGC,gBAAOC,WAA1B;;AACAC,kBACGC,OADH,CACWJ,UADX,EACuB;AACnBK,EAAAA,eAAe,EAAE,IADE;AAEnBC,EAAAA,kBAAkB,EAAE,IAFD;AAGnBC,EAAAA,cAAc,EAAE;AAHG,CADvB,EAMGC,KANH,CAMUC,KAAD,IAAWC,OAAO,CAACC,GAAR,CAAYF,KAAK,CAACG,MAAlB,CANpB;;AAQA,MAAMC,GAAG,GAAG,uBAAZ;AACAA,GAAG,CAACC,GAAJ,CAAQC,oBAAWC,IAAX,EAAR;AACAH,GAAG,CAACC,GAAJ,CAAQ,cAAR,EAAwBG,oBAAxB;AACAJ,GAAG,CAACC,GAAJ,CAAQ,YAAR,EAAsBI,kBAAtB;AACAL,GAAG,CAACC,GAAJ,CAAQ,eAAR,EAAyBK,qBAAzB;AACAN,GAAG,CAACC,GAAJ,CAAQ,aAAR,EAAuBM,mBAAvB;AACAP,GAAG,CAACQ,GAAJ,CAAQ,oBAAR,EAA8B,CAACC,GAAD,EAAMC,GAAN,KAAc;AAC1CA,EAAAA,GAAG,CAACC,IAAJ,CAASvB,gBAAOwB,gBAAhB;AACD,CAFD;AAGAZ,GAAG,CAACC,GAAJ,CAAQ,UAAR,EAAoBY,iBAAQC,MAAR,CAAeC,cAAKC,IAAL,CAAUC,SAAV,EAAqB,aAArB,CAAf,CAApB;AACAjB,GAAG,CAACC,GAAJ,CAAQY,iBAAQC,MAAR,CAAeC,cAAKC,IAAL,CAAUC,SAAV,EAAqB,oBAArB,CAAf,CAAR;AACAjB,GAAG,CAACQ,GAAJ,CAAQ,GAAR,EAAa,CAACC,GAAD,EAAMC,GAAN,KAAc;AACzBA,EAAAA,GAAG,CAACQ,QAAJ,CAAaH,cAAKC,IAAL,CAAW,GAAEC,SAAU,+BAAvB,CAAb;AACD,CAFD;AAIAjB,GAAG,CAACmB,MAAJ,CAAW/B,gBAAOgC,IAAlB,EAAwB,MAAM;AAC5BvB,EAAAA,OAAO,CAACC,GAAR,CAAY,yCAAZ;AACD,CAFD",
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master/backend/",
      "sourcesContent": [
        "import express from 'express';\nimport path from 'path';\nimport mongoose from 'mongoose';\nimport bodyParser from 'body-parser';\nimport config from './config';\nimport userRoute from './routes/userRoute';\nimport productRoute from './routes/productRoute';\nimport orderRoute from './routes/orderRoute';\nimport uploadRoute from './routes/uploadRoute';\n\nconst mongodbUrl = config.MONGODB_URL;\nmongoose\n  .connect(mongodbUrl, {\n    useNewUrlParser: true,\n    useUnifiedTopology: true,\n    useCreateIndex: true,\n  })\n  .catch((error) => console.log(error.reason));\n\nconst app = express();\napp.use(bodyParser.json());\napp.use('/api/uploads', uploadRoute);\napp.use('/api/users', userRoute);\napp.use('/api/products', productRoute);\napp.use('/api/orders', orderRoute);\napp.get('/api/config/paypal', (req, res) => {\n  res.send(config.PAYPAL_CLIENT_ID);\n});\napp.use('/uploads', express.static(path.join(__dirname, '/../uploads')));\napp.use(express.static(path.join(__dirname, '/../frontend/build')));\napp.get('*', (req, res) => {\n  res.sendFile(path.join(`${__dirname}/../frontend/build/index.html`));\n});\n\napp.listen(config.PORT, () => {\n  console.log('Server started at http://localhost:5000');\n});\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1595823100000
  },
  "{\"sourceRoot\":\"/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master/backend/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master\",\"filename\":\"/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master/backend/config.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master/backend/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master",
      "filename": "/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master/backend/config.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master/backend/config.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master/backend/config.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master/backend/",
        "sourceFileName": "config.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _dotenv = _interopRequireDefault(require(\"dotenv\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_dotenv.default.config();\n\nvar _default = {\n  PORT: process.env.PORT || 5000,\n  MONGODB_URL: process.env.MONGODB_URL || 'mongodb://localhost/amazona',\n  JWT_SECRET: process.env.JWT_SECRET || 'somethingsecret',\n  PAYPAL_CLIENT_ID: process.env.PAYPAL_CLIENT_ID || 'sb',\n  accessKeyId: process.env.accessKeyId || 'accessKeyId',\n  secretAccessKey: process.env.secretAccessKey || 'secretAccessKey'\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbmZpZy5qcyJdLCJuYW1lcyI6WyJkb3RlbnYiLCJjb25maWciLCJQT1JUIiwicHJvY2VzcyIsImVudiIsIk1PTkdPREJfVVJMIiwiSldUX1NFQ1JFVCIsIlBBWVBBTF9DTElFTlRfSUQiLCJhY2Nlc3NLZXlJZCIsInNlY3JldEFjY2Vzc0tleSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7O0FBRUFBLGdCQUFPQyxNQUFQOztlQUVlO0FBQ2JDLEVBQUFBLElBQUksRUFBRUMsT0FBTyxDQUFDQyxHQUFSLENBQVlGLElBQVosSUFBb0IsSUFEYjtBQUViRyxFQUFBQSxXQUFXLEVBQUVGLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxXQUFaLElBQTJCLDZCQUYzQjtBQUdiQyxFQUFBQSxVQUFVLEVBQUVILE9BQU8sQ0FBQ0MsR0FBUixDQUFZRSxVQUFaLElBQTBCLGlCQUh6QjtBQUliQyxFQUFBQSxnQkFBZ0IsRUFBRUosT0FBTyxDQUFDQyxHQUFSLENBQVlHLGdCQUFaLElBQWdDLElBSnJDO0FBS2JDLEVBQUFBLFdBQVcsRUFBRUwsT0FBTyxDQUFDQyxHQUFSLENBQVlJLFdBQVosSUFBMkIsYUFMM0I7QUFNYkMsRUFBQUEsZUFBZSxFQUFFTixPQUFPLENBQUNDLEdBQVIsQ0FBWUssZUFBWixJQUErQjtBQU5uQyxDIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9NZS9EZXNrdG9wL1JlYWN0UHJvamVjdHMvbm9kZS1yZWFjdC1lY29tbWVyY2UtbWFzdGVyL2JhY2tlbmQvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGRvdGVudiBmcm9tICdkb3RlbnYnO1xuXG5kb3RlbnYuY29uZmlnKCk7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgUE9SVDogcHJvY2Vzcy5lbnYuUE9SVCB8fCA1MDAwLFxuICBNT05HT0RCX1VSTDogcHJvY2Vzcy5lbnYuTU9OR09EQl9VUkwgfHwgJ21vbmdvZGI6Ly9sb2NhbGhvc3QvYW1hem9uYScsXG4gIEpXVF9TRUNSRVQ6IHByb2Nlc3MuZW52LkpXVF9TRUNSRVQgfHwgJ3NvbWV0aGluZ3NlY3JldCcsXG4gIFBBWVBBTF9DTElFTlRfSUQ6IHByb2Nlc3MuZW52LlBBWVBBTF9DTElFTlRfSUQgfHwgJ3NiJyxcbiAgYWNjZXNzS2V5SWQ6IHByb2Nlc3MuZW52LmFjY2Vzc0tleUlkIHx8ICdhY2Nlc3NLZXlJZCcsXG4gIHNlY3JldEFjY2Vzc0tleTogcHJvY2Vzcy5lbnYuc2VjcmV0QWNjZXNzS2V5IHx8ICdzZWNyZXRBY2Nlc3NLZXknLFxufTtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "config.js"
      ],
      "names": [
        "dotenv",
        "config",
        "PORT",
        "process",
        "env",
        "MONGODB_URL",
        "JWT_SECRET",
        "PAYPAL_CLIENT_ID",
        "accessKeyId",
        "secretAccessKey"
      ],
      "mappings": ";;;;;;;AAAA;;;;AAEAA,gBAAOC,MAAP;;eAEe;AACbC,EAAAA,IAAI,EAAEC,OAAO,CAACC,GAAR,CAAYF,IAAZ,IAAoB,IADb;AAEbG,EAAAA,WAAW,EAAEF,OAAO,CAACC,GAAR,CAAYC,WAAZ,IAA2B,6BAF3B;AAGbC,EAAAA,UAAU,EAAEH,OAAO,CAACC,GAAR,CAAYE,UAAZ,IAA0B,iBAHzB;AAIbC,EAAAA,gBAAgB,EAAEJ,OAAO,CAACC,GAAR,CAAYG,gBAAZ,IAAgC,IAJrC;AAKbC,EAAAA,WAAW,EAAEL,OAAO,CAACC,GAAR,CAAYI,WAAZ,IAA2B,aAL3B;AAMbC,EAAAA,eAAe,EAAEN,OAAO,CAACC,GAAR,CAAYK,eAAZ,IAA+B;AANnC,C",
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master/backend/",
      "sourcesContent": [
        "import dotenv from 'dotenv';\n\ndotenv.config();\n\nexport default {\n  PORT: process.env.PORT || 5000,\n  MONGODB_URL: process.env.MONGODB_URL || 'mongodb://localhost/amazona',\n  JWT_SECRET: process.env.JWT_SECRET || 'somethingsecret',\n  PAYPAL_CLIENT_ID: process.env.PAYPAL_CLIENT_ID || 'sb',\n  accessKeyId: process.env.accessKeyId || 'accessKeyId',\n  secretAccessKey: process.env.secretAccessKey || 'secretAccessKey',\n};\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1595823100000
  },
  "{\"sourceRoot\":\"/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master/backend/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master\",\"filename\":\"/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master/backend/routes/userRoute.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master/backend/routes/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master",
      "filename": "/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master/backend/routes/userRoute.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master/backend/routes/userRoute.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master/backend/routes/userRoute.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master/backend/routes/",
        "sourceFileName": "userRoute.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _userModel = _interopRequireDefault(require(\"../models/userModel\"));\n\nvar _util = require(\"../util\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst router = _express.default.Router();\n\nrouter.put('/:id', _util.isAuth, async (req, res) => {\n  const userId = req.params.id;\n  const user = await _userModel.default.findById(userId);\n\n  if (user) {\n    user.name = req.body.name || user.name;\n    user.email = req.body.email || user.email;\n    user.password = req.body.password || user.password;\n    const updatedUser = await user.save();\n    res.send({\n      _id: updatedUser.id,\n      name: updatedUser.name,\n      email: updatedUser.email,\n      isAdmin: updatedUser.isAdmin,\n      token: (0, _util.getToken)(updatedUser)\n    });\n  } else {\n    res.status(404).send({\n      message: 'User Not Found'\n    });\n  }\n});\nrouter.post('/signin', async (req, res) => {\n  const signinUser = await _userModel.default.findOne({\n    email: req.body.email,\n    password: req.body.password\n  });\n\n  if (signinUser) {\n    res.send({\n      _id: signinUser.id,\n      name: signinUser.name,\n      email: signinUser.email,\n      isAdmin: signinUser.isAdmin,\n      token: (0, _util.getToken)(signinUser)\n    });\n  } else {\n    res.status(401).send({\n      message: 'Invalid Email or Password.'\n    });\n  }\n});\nrouter.post('/register', async (req, res) => {\n  const user = new _userModel.default({\n    name: req.body.name,\n    email: req.body.email,\n    password: req.body.password\n  });\n  const newUser = await user.save();\n\n  if (newUser) {\n    res.send({\n      _id: newUser.id,\n      name: newUser.name,\n      email: newUser.email,\n      isAdmin: newUser.isAdmin,\n      token: (0, _util.getToken)(newUser)\n    });\n  } else {\n    res.status(401).send({\n      message: 'Invalid User Data.'\n    });\n  }\n});\nrouter.get('/createadmin', async (req, res) => {\n  try {\n    const user = new _userModel.default({\n      name: 'Basir',\n      email: 'admin@example.com',\n      password: '1234',\n      isAdmin: true\n    });\n    const newUser = await user.save();\n    res.send(newUser);\n  } catch (error) {\n    res.send({\n      message: error.message\n    });\n  }\n});\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJSb3V0ZS5qcyJdLCJuYW1lcyI6WyJyb3V0ZXIiLCJleHByZXNzIiwiUm91dGVyIiwicHV0IiwiaXNBdXRoIiwicmVxIiwicmVzIiwidXNlcklkIiwicGFyYW1zIiwiaWQiLCJ1c2VyIiwiVXNlciIsImZpbmRCeUlkIiwibmFtZSIsImJvZHkiLCJlbWFpbCIsInBhc3N3b3JkIiwidXBkYXRlZFVzZXIiLCJzYXZlIiwic2VuZCIsIl9pZCIsImlzQWRtaW4iLCJ0b2tlbiIsInN0YXR1cyIsIm1lc3NhZ2UiLCJwb3N0Iiwic2lnbmluVXNlciIsImZpbmRPbmUiLCJuZXdVc2VyIiwiZ2V0IiwiZXJyb3IiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7OztBQUVBLE1BQU1BLE1BQU0sR0FBR0MsaUJBQVFDLE1BQVIsRUFBZjs7QUFFQUYsTUFBTSxDQUFDRyxHQUFQLENBQVcsTUFBWCxFQUFtQkMsWUFBbkIsRUFBMkIsT0FBT0MsR0FBUCxFQUFZQyxHQUFaLEtBQW9CO0FBQzdDLFFBQU1DLE1BQU0sR0FBR0YsR0FBRyxDQUFDRyxNQUFKLENBQVdDLEVBQTFCO0FBQ0EsUUFBTUMsSUFBSSxHQUFHLE1BQU1DLG1CQUFLQyxRQUFMLENBQWNMLE1BQWQsQ0FBbkI7O0FBQ0EsTUFBSUcsSUFBSixFQUFVO0FBQ1JBLElBQUFBLElBQUksQ0FBQ0csSUFBTCxHQUFZUixHQUFHLENBQUNTLElBQUosQ0FBU0QsSUFBVCxJQUFpQkgsSUFBSSxDQUFDRyxJQUFsQztBQUNBSCxJQUFBQSxJQUFJLENBQUNLLEtBQUwsR0FBYVYsR0FBRyxDQUFDUyxJQUFKLENBQVNDLEtBQVQsSUFBa0JMLElBQUksQ0FBQ0ssS0FBcEM7QUFDQUwsSUFBQUEsSUFBSSxDQUFDTSxRQUFMLEdBQWdCWCxHQUFHLENBQUNTLElBQUosQ0FBU0UsUUFBVCxJQUFxQk4sSUFBSSxDQUFDTSxRQUExQztBQUNBLFVBQU1DLFdBQVcsR0FBRyxNQUFNUCxJQUFJLENBQUNRLElBQUwsRUFB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QUFBQSxJQUFJLEVBQUUsT0FEYztBQUVwQkUsTUFBQUEsS0FBSyxFQUFFLG1CQUZhO0FBR3BCQyxNQUFBQSxRQUFRLEVBQUUsTUFIVTtBQUlwQkssTUFBQUEsT0FBTyxFQUFFO0FBSlcsS0FBVCxDQUFiO0FBTUEsVUFBTU8sT0FBTyxHQUFHLE1BQU1sQixJQUFJLENBQUNRLElBQUwsRUFBdEI7QUFDQVosSUFBQUEsR0FBRyxDQUFDYSxJQUFKLENBQVNTLE9BQVQ7QUFDRCxHQVRELENBU0UsT0FBT0UsS0FBUCxFQUFjO0FBQ2R4QixJQUFBQSxHQUFHLENBQUNhLElBQUosQ0FBUztBQUFFSyxNQUFBQSxPQUFPLEVBQUVNLEtBQUssQ0FBQ047QUFBakIsS0FBVDtBQUNEO0FBQ0YsQ0FiRDtlQWVleEIsTSIsInNvdXJjZVJvb3QiOiIvVXNlcnMvTWUvRGVza3RvcC9SZWFjdFByb2plY3RzL25vZGUtcmVhY3QtZWNvbW1lcmNlLW1hc3Rlci9iYWNrZW5kL3JvdXRlcy8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcbmltcG9ydCBVc2VyIGZyb20gJy4uL21vZGVscy91c2VyTW9kZWwnO1xuaW1wb3J0IHsgZ2V0VG9rZW4sIGlzQXV0aCB9IGZyb20gJy4uL3V0aWwnO1xuXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xuXG5yb3V0ZXIucHV0KCcvOmlkJywgaXNBdXRoLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgY29uc3QgdXNlcklkID0gcmVxLnBhcmFtcy5pZDtcbiAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXIuZmluZEJ5SWQodXNlcklkKTtcbiAgaWYgKHVzZXIpIHtcbiAgICB1c2VyLm5hbWUgPSByZXEuYm9keS5uYW1lIHx8IHVzZXIubmFtZTtcbiAgICB1c2VyLmVtYWlsID0gcmVxLmJvZHkuZW1haWwgfHwgdXNlci5lbWFpbDtcbiAgICB1c2VyLnBhc3N3b3JkID0gcmVxLmJvZHkucGFzc3dvcmQgfHwgdXNlci5wYXNzd29yZDtcbiAgICBjb25zdCB1cGRhdGVkVXNlciA9IGF3YWl0IHVzZXIuc2F2ZSgpO1xuICAgIHJlcy5zZW5kKHtcbiAgICAgIF9pZDogdXBkYXRlZFVzZXIuaWQsXG4gICAgICBuYW1lOiB1cGRhdGVkVXNlci5uYW1lLFxuICAgICAgZW1haWw6IHVwZGF0ZWRVc2VyLmVtYWlsLFxuICAgICAgaXNBZG1pbjogdXBkYXRlZFVzZXIuaXNBZG1pbixcbiAgICAgIHRva2VuOiBnZXRUb2tlbih1cGRhdGVkVXNlciksXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoeyBtZXNzYWdlOiAnVXNlciBOb3QgRm91bmQnIH0pO1xuICB9XG59KTtcblxucm91dGVyLnBvc3QoJy9zaWduaW4nLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgY29uc3Qgc2lnbmluVXNlciA9IGF3YWl0IFVzZXIuZmluZE9uZSh7XG4gICAgZW1haWw6IHJlcS5ib2R5LmVtYWlsLFxuICAgIHBhc3N3b3JkOiByZXEuYm9keS5wYXNzd29yZCxcbiAgfSk7XG4gIGlmIChzaWduaW5Vc2VyKSB7XG4gICAgcmVzLnNlbmQoe1xuICAgICAgX2lkOiBzaWduaW5Vc2VyLmlkLFxuICAgICAgbmFtZTogc2lnbmluVXNlci5uYW1lLFxuICAgICAgZW1haWw6IHNpZ25pblVzZXIuZW1haWwsXG4gICAgICBpc0FkbWluOiBzaWduaW5Vc2VyLmlzQWRtaW4sXG4gICAgICB0b2tlbjogZ2V0VG9rZW4oc2lnbmluVXNlciksXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgcmVzLnN0YXR1cyg0MDEpLnNlbmQoeyBtZXNzYWdlOiAnSW52YWxpZCBFbWFpbCBvciBQYXNzd29yZC4nIH0pO1xuICB9XG59KTtcblxucm91dGVyLnBvc3QoJy9yZWdpc3RlcicsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICBjb25zdCB1c2VyID0gbmV3IFVzZXIoe1xuICAgIG5hbWU6IHJlcS5ib2R5Lm5hbWUsXG4gICAgZW1haWw6IHJlcS5ib2R5LmVtYWlsLFxuICAgIHBhc3N3b3JkOiByZXEuYm9keS5wYXNzd29yZCxcbiAgfSk7XG4gIGNvbnN0IG5ld1VzZXIgPSBhd2FpdCB1c2VyLnNhdmUoKTtcbiAgaWYgKG5ld1VzZXIpIHtcbiAgICByZXMuc2VuZCh7XG4gICAgICBfaWQ6IG5ld1VzZXIuaWQsXG4gICAgICBuYW1lOiBuZXdVc2VyLm5hbWUsXG4gICAgICBlbWFpbDogbmV3VXNlci5lbWFpbCxcbiAgICAgIGlzQWRtaW46IG5ld1VzZXIuaXNBZG1pbixcbiAgICAgIHRva2VuOiBnZXRUb2tlbihuZXdVc2VyKSxcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICByZXMuc3RhdHVzKDQwMSkuc2VuZCh7IG1lc3NhZ2U6ICdJbnZhbGlkIFVzZXIgRGF0YS4nIH0pO1xuICB9XG59KTtcblxucm91dGVyLmdldCgnL2NyZWF0ZWFkbWluJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgdXNlciA9IG5ldyBVc2VyKHtcbiAgICAgIG5hbWU6ICdCYXNpcicsXG4gICAgICBlbWFpbDogJ2FkbWluQGV4YW1wbGUuY29tJyxcbiAgICAgIHBhc3N3b3JkOiAnMTIzNCcsXG4gICAgICBpc0FkbWluOiB0cnVlLFxuICAgIH0pO1xuICAgIGNvbnN0IG5ld1VzZXIgPSBhd2FpdCB1c2VyLnNhdmUoKTtcbiAgICByZXMuc2VuZChuZXdVc2VyKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXMuc2VuZCh7IG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UgfSk7XG4gIH1cbn0pO1xuXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "userRoute.js"
      ],
      "names": [
        "router",
        "express",
        "Router",
        "put",
        "isAuth",
        "req",
        "res",
        "userId",
        "params",
        "id",
        "user",
        "User",
        "findById",
        "name",
        "body",
        "email",
        "password",
        "updatedUser",
        "save",
        "send",
        "_id",
        "isAdmin",
        "token",
        "status",
        "message",
        "post",
        "signinUser",
        "findOne",
        "newUser",
        "get",
        "error"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master/backend/routes/",
      "sourcesContent": [
        "import express from 'express';\nimport User from '../models/userModel';\nimport { getToken, isAuth } from '../util';\n\nconst router = express.Router();\n\nrouter.put('/:id', isAuth, async (req, res) => {\n  const userId = req.params.id;\n  const user = await User.findById(userId);\n  if (user) {\n    user.name = req.body.name || user.name;\n    user.email = req.body.email || user.email;\n    user.password = req.body.password || user.password;\n    const updatedUser = await user.save();\n    res.send({\n      _id: updatedUser.id,\n      name: updatedUser.name,\n      email: updatedUser.email,\n      isAdmin: updatedUser.isAdmin,\n      token: getToken(updatedUser),\n    });\n  } else {\n    res.status(404).send({ message: 'User Not Found' });\n  }\n});\n\nrouter.post('/signin', async (req, res) => {\n  const signinUser = await User.findOne({\n    email: req.body.email,\n    password: req.body.password,\n  });\n  if (signinUser) {\n    res.send({\n      _id: signinUser.id,\n      name: signinUser.name,\n      email: signinUser.email,\n      isAdmin: signinUser.isAdmin,\n      token: getToken(signinUser),\n    });\n  } else {\n    res.status(401).send({ message: 'Invalid Email or Password.' });\n  }\n});\n\nrouter.post('/register', async (req, res) => {\n  const user = new User({\n    name: req.body.name,\n    email: req.body.email,\n    password: req.body.password,\n  });\n  const newUser = await user.save();\n  if (newUser) {\n    res.send({\n      _id: newUser.id,\n      name: newUser.name,\n      email: newUser.email,\n      isAdmin: newUser.isAdmin,\n      token: getToken(newUser),\n    });\n  } else {\n    res.status(401).send({ message: 'Invalid User Data.' });\n  }\n});\n\nrouter.get('/createadmin', async (req, res) => {\n  try {\n    const user = new User({\n      name: 'Basir',\n      email: 'admin@example.com',\n      password: '1234',\n      isAdmin: true,\n    });\n    const newUser = await user.save();\n    res.send(newUser);\n  } catch (error) {\n    res.send({ message: error.message });\n  }\n});\n\nexport default router;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1595823100000
  },
  "{\"sourceRoot\":\"/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master/backend/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master\",\"filename\":\"/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master/backend/models/userModel.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master/backend/models/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master",
      "filename": "/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master/backend/models/userModel.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master/backend/models/userModel.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master/backend/models/userModel.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master/backend/models/",
        "sourceFileName": "userModel.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst userSchema = new _mongoose.default.Schema({\n  name: {\n    type: String,\n    required: true\n  },\n  email: {\n    type: String,\n    required: true,\n    unique: true,\n    index: true,\n    dropDups: true\n  },\n  password: {\n    type: String,\n    required: true\n  },\n  isAdmin: {\n    type: Boolean,\n    required: true,\n    default: false\n  }\n});\n\nconst userModel = _mongoose.default.model('User', userSchema);\n\nvar _default = userModel;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJNb2RlbC5qcyJdLCJuYW1lcyI6WyJ1c2VyU2NoZW1hIiwibW9uZ29vc2UiLCJTY2hlbWEiLCJuYW1lIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwiZW1haWwiLCJ1bmlxdWUiLCJpbmRleCIsImRyb3BEdXBzIiwicGFzc3dvcmQiLCJpc0FkbWluIiwiQm9vbGVhbiIsImRlZmF1bHQiLCJ1c2VyTW9kZWwiLCJtb2RlbCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7O0FBRUEsTUFBTUEsVUFBVSxHQUFHLElBQUlDLGtCQUFTQyxNQUFiLENBQW9CO0FBQ3JDQyxFQUFBQSxJQUFJLEVBQUU7QUFBRUMsSUFBQUEsSUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxJQUFBQSxRQUFRLEVBQUU7QUFBMUIsR0FEK0I7QUFFckNDLEVBQUFBLEtBQUssRUFBRTtBQUNMSCxJQUFBQSxJQUFJLEVBQUVDLE1BREQ7QUFDU0MsSUFBQUEsUUFBUSxFQUFFLElBRG5CO0FBQ3lCRSxJQUFBQSxNQUFNLEVBQUUsSUFEakM7QUFDdUNDLElBQUFBLEtBQUssRUFBRSxJQUQ5QztBQUNvREMsSUFBQUEsUUFBUSxFQUFFO0FBRDlELEdBRjhCO0FBS3JDQyxFQUFBQSxRQUFRLEVBQUU7QUFBRVAsSUFBQUEsSUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxJQUFBQSxRQUFRLEVBQUU7QUFBMUIsR0FMMkI7QUFNckNNLEVBQUFBLE9BQU8sRUFBRTtBQUFFUixJQUFBQSxJQUFJLEVBQUVTLE9BQVI7QUFBaUJQLElBQUFBLFFBQVEsRUFBRSxJQUEzQjtBQUFpQ1EsSUFBQUEsT0FBTyxFQUFFO0FBQTFDO0FBTjRCLENBQXBCLENBQW5COztBQVNBLE1BQU1DLFNBQVMsR0FBR2Qsa0JBQVNlLEtBQVQsQ0FBZSxNQUFmLEVBQXVCaEIsVUFBdkIsQ0FBbEI7O2VBRWVlLFMiLCJzb3VyY2VSb290IjoiL1VzZXJzL01lL0Rlc2t0b3AvUmVhY3RQcm9qZWN0cy9ub2RlLXJlYWN0LWVjb21tZXJjZS1tYXN0ZXIvYmFja2VuZC9tb2RlbHMvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcblxuY29uc3QgdXNlclNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoe1xuICBuYW1lOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgZW1haWw6IHtcbiAgICB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlLCB1bmlxdWU6IHRydWUsIGluZGV4OiB0cnVlLCBkcm9wRHVwczogdHJ1ZSxcbiAgfSxcbiAgcGFzc3dvcmQ6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxuICBpc0FkbWluOiB7IHR5cGU6IEJvb2xlYW4sIHJlcXVpcmVkOiB0cnVlLCBkZWZhdWx0OiBmYWxzZSB9LFxufSk7XG5cbmNvbnN0IHVzZXJNb2RlbCA9IG1vbmdvb3NlLm1vZGVsKCdVc2VyJywgdXNlclNjaGVtYSk7XG5cbmV4cG9ydCBkZWZhdWx0IHVzZXJNb2RlbDtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "userModel.js"
      ],
      "names": [
        "userSchema",
        "mongoose",
        "Schema",
        "name",
        "type",
        "String",
        "required",
        "email",
        "unique",
        "index",
        "dropDups",
        "password",
        "isAdmin",
        "Boolean",
        "default",
        "userModel",
        "model"
      ],
      "mappings": ";;;;;;;AAAA;;;;AAEA,MAAMA,UAAU,GAAG,IAAIC,kBAASC,MAAb,CAAoB;AACrCC,EAAAA,IAAI,EAAE;AAAEC,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAD+B;AAErCC,EAAAA,KAAK,EAAE;AACLH,IAAAA,IAAI,EAAEC,MADD;AACSC,IAAAA,QAAQ,EAAE,IADnB;AACyBE,IAAAA,MAAM,EAAE,IADjC;AACuCC,IAAAA,KAAK,EAAE,IAD9C;AACoDC,IAAAA,QAAQ,EAAE;AAD9D,GAF8B;AAKrCC,EAAAA,QAAQ,EAAE;AAAEP,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAL2B;AAMrCM,EAAAA,OAAO,EAAE;AAAER,IAAAA,IAAI,EAAES,OAAR;AAAiBP,IAAAA,QAAQ,EAAE,IAA3B;AAAiCQ,IAAAA,OAAO,EAAE;AAA1C;AAN4B,CAApB,CAAnB;;AASA,MAAMC,SAAS,GAAGd,kBAASe,KAAT,CAAe,MAAf,EAAuBhB,UAAvB,CAAlB;;eAEee,S",
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master/backend/models/",
      "sourcesContent": [
        "import mongoose from 'mongoose';\n\nconst userSchema = new mongoose.Schema({\n  name: { type: String, required: true },\n  email: {\n    type: String, required: true, unique: true, index: true, dropDups: true,\n  },\n  password: { type: String, required: true },\n  isAdmin: { type: Boolean, required: true, default: false },\n});\n\nconst userModel = mongoose.model('User', userSchema);\n\nexport default userModel;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1595823100000
  },
  "{\"sourceRoot\":\"/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master/backend/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master\",\"filename\":\"/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master/backend/util.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master/backend/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master",
      "filename": "/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master/backend/util.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master/backend/util.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master/backend/util.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master/backend/",
        "sourceFileName": "util.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isAdmin = exports.isAuth = exports.getToken = void 0;\n\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\n\nvar _config = _interopRequireDefault(require(\"./config\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst getToken = user => {\n  return _jsonwebtoken.default.sign({\n    _id: user._id,\n    name: user.name,\n    email: user.email,\n    isAdmin: user.isAdmin\n  }, _config.default.JWT_SECRET, {\n    expiresIn: '48h'\n  });\n};\n\nexports.getToken = getToken;\n\nconst isAuth = (req, res, next) => {\n  const token = req.headers.authorization;\n\n  if (token) {\n    const onlyToken = token.slice(7, token.length);\n\n    _jsonwebtoken.default.verify(onlyToken, _config.default.JWT_SECRET, (err, decode) => {\n      if (err) {\n        return res.status(401).send({\n          message: 'Invalid Token'\n        });\n      }\n\n      req.user = decode;\n      next();\n      return;\n    });\n  } else {\n    return res.status(401).send({\n      message: 'Token is not supplied.'\n    });\n  }\n};\n\nexports.isAuth = isAuth;\n\nconst isAdmin = (req, res, next) => {\n  console.log(req.user);\n\n  if (req.user && req.user.isAdmin) {\n    return next();\n  }\n\n  return res.status(401).send({\n    message: 'Admin Token is not valid.'\n  });\n};\n\nexports.isAdmin = isAdmin;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInV0aWwuanMiXSwibmFtZXMiOlsiZ2V0VG9rZW4iLCJ1c2VyIiwiand0Iiwic2lnbiIsIl9pZCIsIm5hbWUiLCJlbWFpbCIsImlzQWRtaW4iLCJjb25maWciLCJKV1RfU0VDUkVUIiwiZXhwaXJlc0luIiwiaXNBdXRoIiwicmVxIiwicmVzIiwibmV4dCIsInRva2VuIiwiaGVhZGVycyIsImF1dGhvcml6YXRpb24iLCJvbmx5VG9rZW4iLCJzbGljZSIsImxlbmd0aCIsInZlcmlmeSIsImVyciIsImRlY29kZSIsInN0YXR1cyIsInNlbmQiLCJtZXNzYWdlIiwiY29uc29sZSIsImxvZyJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOzs7O0FBQ0EsTUFBTUEsUUFBUSxHQUFJQyxJQUFELElBQVU7QUFDekIsU0FBT0Msc0JBQUlDLElBQUosQ0FDTDtBQUNFQyxJQUFBQSxHQUFHLEVBQUVILElBQUksQ0FBQ0csR0FEWjtBQUVFQyxJQUFBQSxJQUFJLEVBQUVKLElBQUksQ0FBQ0ksSUFGYjtBQUdFQyxJQUFBQSxLQUFLLEVBQUVMLElBQUksQ0FBQ0ssS0FIZDtBQUlFQyxJQUFBQSxPQUFPLEVBQUVOLElBQUksQ0FBQ007QUFKaEIsR0FESyxFQU9MQyxnQkFBT0MsVUFQRixFQVFMO0FBQ0VDLElBQUFBLFNBQVMsRUFBRTtBQURiLEdBUkssQ0FBUDtBQVlELENBYkQ7Ozs7QUFlQSxNQUFNQyxNQUFNLEdBQUcsQ0FBQ0MsR0FBRCxFQUFNQyxHQUFOLEVBQVdDLElBQVgsS0FBb0I7QUFDakMsUUFBTUMsS0FBSyxHQUFHSCxHQUFHLENBQUNJLE9BQUosQ0FBWUMsYUFBMUI7O0FBRUEsTUFBSUYsS0FBSixFQUFXO0FBQ1QsVUFBTUcsU0FBUyxHQUFHSCxLQUFLLENBQUNJLEtBQU4sQ0FBWSxDQUFaLEVBQWVKLEtBQUssQ0FBQ0ssTUFBckIsQ0FBbEI7O0FBQ0FsQiwwQkFBSW1CLE1BQUosQ0FBV0gsU0FBWCxFQUFzQlYsZ0JBQU9DLFVBQTdCLEVBQXlDLENBQUNhLEdBQUQsRUFBTUMsTUFBTixLQUFpQjtBQUN4RCxVQUFJRCxHQUFKLEVBQVM7QUFDUCxlQUFPVCxHQUFHLENBQUNXLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFFQyxVQUFBQSxPQUFPLEVBQUU7QUFBWCxTQUFyQixDQUFQO0FBQ0Q7O0FBQ0RkLE1BQUFBLEdBQUcsQ0FBQ1gsSUFBSixHQUFXc0IsTUFBWDtBQUNBVCxNQUFBQSxJQUFJO0FBQ0o7QUFDRCxLQVBEO0FBUUQsR0FWRCxNQVVPO0FBQ0wsV0FBT0QsR0FBRyxDQUFDVyxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBRUMsTUFBQUEsT0FBTyxFQUFFO0FBQVgsS0FBckIsQ0FBUDtBQUNEO0FBQ0YsQ0FoQkQ7Ozs7QUFrQkEsTUFBTW5CLE9BQU8sR0FBRyxDQUFDSyxHQUFELEVBQU1DLEdBQU4sRUFBV0MsSUFBWCxLQUFvQjtBQUNsQ2EsRUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVloQixHQUFHLENBQUNYLElBQWhCOztBQUNBLE1BQUlXLEdBQUcsQ0FBQ1gsSUFBSixJQUFZVyxHQUFHLENBQUNYLElBQUosQ0FBU00sT0FBekIsRUFBa0M7QUFDaEMsV0FBT08sSUFBSSxFQUFYO0FBQ0Q7O0FBQ0QsU0FBT0QsR0FBRyxDQUFDVyxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBRUMsSUFBQUEsT0FBTyxFQUFFO0FBQVgsR0FBckIsQ0FBUDtBQUNELENBTkQiLCJzb3VyY2VSb290IjoiL1VzZXJzL01lL0Rlc2t0b3AvUmVhY3RQcm9qZWN0cy9ub2RlLXJlYWN0LWVjb21tZXJjZS1tYXN0ZXIvYmFja2VuZC8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgand0IGZyb20gJ2pzb253ZWJ0b2tlbic7XG5pbXBvcnQgY29uZmlnIGZyb20gJy4vY29uZmlnJztcbmNvbnN0IGdldFRva2VuID0gKHVzZXIpID0+IHtcbiAgcmV0dXJuIGp3dC5zaWduKFxuICAgIHtcbiAgICAgIF9pZDogdXNlci5faWQsXG4gICAgICBuYW1lOiB1c2VyLm5hbWUsXG4gICAgICBlbWFpbDogdXNlci5lbWFpbCxcbiAgICAgIGlzQWRtaW46IHVzZXIuaXNBZG1pbixcbiAgICB9LFxuICAgIGNvbmZpZy5KV1RfU0VDUkVULFxuICAgIHtcbiAgICAgIGV4cGlyZXNJbjogJzQ4aCcsXG4gICAgfVxuICApO1xufTtcblxuY29uc3QgaXNBdXRoID0gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gIGNvbnN0IHRva2VuID0gcmVxLmhlYWRlcnMuYXV0aG9yaXphdGlvbjtcblxuICBpZiAodG9rZW4pIHtcbiAgICBjb25zdCBvbmx5VG9rZW4gPSB0b2tlbi5zbGljZSg3LCB0b2tlbi5sZW5ndGgpO1xuICAgIGp3dC52ZXJpZnkob25seVRva2VuLCBjb25maWcuSldUX1NFQ1JFVCwgKGVyciwgZGVjb2RlKSA9PiB7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuc2VuZCh7IG1lc3NhZ2U6ICdJbnZhbGlkIFRva2VuJyB9KTtcbiAgICAgIH1cbiAgICAgIHJlcS51c2VyID0gZGVjb2RlO1xuICAgICAgbmV4dCgpO1xuICAgICAgcmV0dXJuO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuc2VuZCh7IG1lc3NhZ2U6ICdUb2tlbiBpcyBub3Qgc3VwcGxpZWQuJyB9KTtcbiAgfVxufTtcblxuY29uc3QgaXNBZG1pbiA9IChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICBjb25zb2xlLmxvZyhyZXEudXNlcik7XG4gIGlmIChyZXEudXNlciAmJiByZXEudXNlci5pc0FkbWluKSB7XG4gICAgcmV0dXJuIG5leHQoKTtcbiAgfVxuICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLnNlbmQoeyBtZXNzYWdlOiAnQWRtaW4gVG9rZW4gaXMgbm90IHZhbGlkLicgfSk7XG59O1xuXG5leHBvcnQgeyBnZXRUb2tlbiwgaXNBdXRoLCBpc0FkbWluIH07XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "util.js"
      ],
      "names": [
        "getToken",
        "user",
        "jwt",
        "sign",
        "_id",
        "name",
        "email",
        "isAdmin",
        "config",
        "JWT_SECRET",
        "expiresIn",
        "isAuth",
        "req",
        "res",
        "next",
        "token",
        "headers",
        "authorization",
        "onlyToken",
        "slice",
        "length",
        "verify",
        "err",
        "decode",
        "status",
        "send",
        "message",
        "console",
        "log"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;;;AACA,MAAMA,QAAQ,GAAIC,IAAD,IAAU;AACzB,SAAOC,sBAAIC,IAAJ,CACL;AACEC,IAAAA,GAAG,EAAEH,IAAI,CAACG,GADZ;AAEEC,IAAAA,IAAI,EAAEJ,IAAI,CAACI,IAFb;AAGEC,IAAAA,KAAK,EAAEL,IAAI,CAACK,KAHd;AAIEC,IAAAA,OAAO,EAAEN,IAAI,CAACM;AAJhB,GADK,EAOLC,gBAAOC,UAPF,EAQL;AACEC,IAAAA,SAAS,EAAE;AADb,GARK,CAAP;AAYD,CAbD;;;;AAeA,MAAMC,MAAM,GAAG,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;AACjC,QAAMC,KAAK,GAAGH,GAAG,CAACI,OAAJ,CAAYC,aAA1B;;AAEA,MAAIF,KAAJ,EAAW;AACT,UAAMG,SAAS,GAAGH,KAAK,CAACI,KAAN,CAAY,CAAZ,EAAeJ,KAAK,CAACK,MAArB,CAAlB;;AACAlB,0BAAImB,MAAJ,CAAWH,SAAX,EAAsBV,gBAAOC,UAA7B,EAAyC,CAACa,GAAD,EAAMC,MAAN,KAAiB;AACxD,UAAID,GAAJ,EAAS;AACP,eAAOT,GAAG,CAACW,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,UAAAA,OAAO,EAAE;AAAX,SAArB,CAAP;AACD;;AACDd,MAAAA,GAAG,CAACX,IAAJ,GAAWsB,MAAX;AACAT,MAAAA,IAAI;AACJ;AACD,KAPD;AAQD,GAVD,MAUO;AACL,WAAOD,GAAG,CAACW,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,MAAAA,OAAO,EAAE;AAAX,KAArB,CAAP;AACD;AACF,CAhBD;;;;AAkBA,MAAMnB,OAAO,GAAG,CAACK,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;AAClCa,EAAAA,OAAO,CAACC,GAAR,CAAYhB,GAAG,CAACX,IAAhB;;AACA,MAAIW,GAAG,CAACX,IAAJ,IAAYW,GAAG,CAACX,IAAJ,CAASM,OAAzB,EAAkC;AAChC,WAAOO,IAAI,EAAX;AACD;;AACD,SAAOD,GAAG,CAACW,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,IAAAA,OAAO,EAAE;AAAX,GAArB,CAAP;AACD,CAND",
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master/backend/",
      "sourcesContent": [
        "import jwt from 'jsonwebtoken';\nimport config from './config';\nconst getToken = (user) => {\n  return jwt.sign(\n    {\n      _id: user._id,\n      name: user.name,\n      email: user.email,\n      isAdmin: user.isAdmin,\n    },\n    config.JWT_SECRET,\n    {\n      expiresIn: '48h',\n    }\n  );\n};\n\nconst isAuth = (req, res, next) => {\n  const token = req.headers.authorization;\n\n  if (token) {\n    const onlyToken = token.slice(7, token.length);\n    jwt.verify(onlyToken, config.JWT_SECRET, (err, decode) => {\n      if (err) {\n        return res.status(401).send({ message: 'Invalid Token' });\n      }\n      req.user = decode;\n      next();\n      return;\n    });\n  } else {\n    return res.status(401).send({ message: 'Token is not supplied.' });\n  }\n};\n\nconst isAdmin = (req, res, next) => {\n  console.log(req.user);\n  if (req.user && req.user.isAdmin) {\n    return next();\n  }\n  return res.status(401).send({ message: 'Admin Token is not valid.' });\n};\n\nexport { getToken, isAuth, isAdmin };\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1595823100000
  },
  "{\"sourceRoot\":\"/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master/backend/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master\",\"filename\":\"/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master/backend/routes/productRoute.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master/backend/routes/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master",
      "filename": "/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master/backend/routes/productRoute.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master/backend/routes/productRoute.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master/backend/routes/productRoute.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master/backend/routes/",
        "sourceFileName": "productRoute.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _productModel = _interopRequireDefault(require(\"../models/productModel\"));\n\nvar _util = require(\"../util\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst router = _express.default.Router();\n\nrouter.get('/', async (req, res) => {\n  const category = req.query.category ? {\n    category: req.query.category\n  } : {};\n  const searchKeyword = req.query.searchKeyword ? {\n    name: {\n      $regex: req.query.searchKeyword,\n      $options: 'i'\n    }\n  } : {};\n  const sortOrder = req.query.sortOrder ? req.query.sortOrder === 'lowest' ? {\n    price: 1\n  } : {\n    price: -1\n  } : {\n    _id: -1\n  };\n  const products = await _productModel.default.find({ ...category,\n    ...searchKeyword\n  }).sort(sortOrder);\n  res.send(products);\n});\nrouter.get('/:id', async (req, res) => {\n  const product = await _productModel.default.findOne({\n    _id: req.params.id\n  });\n\n  if (product) {\n    res.send(product);\n  } else {\n    res.status(404).send({\n      message: 'Product Not Found.'\n    });\n  }\n});\nrouter.post('/:id/reviews', _util.isAuth, async (req, res) => {\n  const product = await _productModel.default.findById(req.params.id);\n\n  if (product) {\n    const review = {\n      name: req.body.name,\n      rating: Number(req.body.rating),\n      comment: req.body.comment\n    };\n    product.reviews.push(review);\n    product.numReviews = product.reviews.length;\n    product.rating = product.reviews.reduce((a, c) => c.rating + a, 0) / product.reviews.length;\n    const updatedProduct = await product.save();\n    res.status(201).send({\n      data: updatedProduct.reviews[updatedProduct.reviews.length - 1],\n      message: 'Review saved successfully.'\n    });\n  } else {\n    res.status(404).send({\n      message: 'Product Not Found'\n    });\n  }\n});\nrouter.put('/:id', _util.isAuth, _util.isAdmin, async (req, res) => {\n  const productId = req.params.id;\n  const product = await _productModel.default.findById(productId);\n\n  if (product) {\n    product.name = req.body.name;\n    product.price = req.body.price;\n    product.image = req.body.image;\n    product.brand = req.body.brand;\n    product.category = req.body.category;\n    product.countInStock = req.body.countInStock;\n    product.description = req.body.description;\n    const updatedProduct = await product.save();\n\n    if (updatedProduct) {\n      return res.status(200).send({\n        message: 'Product Updated',\n        data: updatedProduct\n      });\n    }\n  }\n\n  return res.status(500).send({\n    message: ' Error in Updating Product.'\n  });\n});\nrouter.delete('/:id', _util.isAuth, _util.isAdmin, async (req, res) => {\n  const deletedProduct = await _productModel.default.findById(req.params.id);\n\n  if (deletedProduct) {\n    await deletedProduct.remove();\n    res.send({\n      message: 'Product Deleted'\n    });\n  } else {\n    res.send('Error in Deletion.');\n  }\n});\nrouter.post('/', _util.isAuth, _util.isAdmin, async (req, res) => {\n  const product = new _productModel.default({\n    name: req.body.name,\n    price: req.body.price,\n    image: req.body.image,\n    brand: req.body.brand,\n    category: req.body.category,\n    countInStock: req.body.countInStock,\n    description: req.body.description,\n    rating: req.body.rating,\n    numReviews: req.body.numReviews\n  });\n  const newProduct = await product.save();\n\n  if (newProduct) {\n    return res.status(201).send({\n      message: 'New Product Created',\n      data: newProduct\n    });\n  }\n\n  return res.status(500).send({\n    message: ' Error in Creating Product.'\n  });\n});\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2R1Y3RSb3V0ZS5qcyJdLCJuYW1lcyI6WyJyb3V0ZXIiLCJleHByZXNzIiwiUm91dGVyIiwiZ2V0IiwicmVxIiwicmVzIiwiY2F0ZWdvcnkiLCJxdWVyeSIsInNlYXJjaEtleXdvcmQiLCJuYW1lIiwiJHJlZ2V4IiwiJG9wdGlvbnMiLCJzb3J0T3JkZXIiLCJwcmljZSIsIl9pZCIsInByb2R1Y3RzIiwiUHJvZHVjdCIsImZpbmQiLCJzb3J0Iiwic2VuZCIsInByb2R1Y3QiLCJmaW5kT25lIiwicGFyYW1zIiwiaWQiLCJzdGF0dXMiLCJtZXNzYWdlIiwicG9zdCIsImlzQXV0aCIsImZpbmRCeUlkIiwicmV2aWV3IiwiYm9keSIsInJhdGluZyIsIk51bWJlciIsImNvbW1lbnQiLCJyZXZpZXdzIiwicHVzaCIsIm51bVJldmlld3MiLCJsZW5ndGgiLCJyZWR1Y2UiLCJhIiwiYyIsInVwZGF0ZWRQcm9kdWN0Iiwic2F2ZSIsImRhdGEiLCJwdXQiLCJpc0FkbWluIiwicHJvZHVjdElkIiwiaW1hZ2UiLCJicmFuZCIsImNvdW50SW5TdG9jayIsImRlc2NyaXB0aW9uIiwiZGVsZXRlIiwiZGVsZXRlZFByb2R1Y3QiLCJyZW1vdmUiLCJuZXdQcm9kdWN0Il0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7Ozs7QUFFQSxNQUFNQSxNQUFNLEdBQUdDLGlCQUFRQyxNQUFSLEVBQWY7O0FBRUFGLE1BQU0sQ0FBQ0csR0FBUCxDQUFXLEdBQVgsRUFBZ0IsT0FBT0MsR0FBUCxFQUFZQyxHQUFaLEtBQW9CO0FBQ2xDLFFBQU1DLFFBQVEsR0FBR0YsR0FBRyxDQUFDRyxLQUFKLENBQVVELFFBQVYsR0FBcUI7QUFBRUEsSUFBQUEsUUFBUSxFQUFFRixHQUFHLENBQUNHLEtBQUosQ0FBVUQ7QUFBdEIsR0FBckIsR0FBd0QsRUFBekU7QUFDQSxRQUFNRSxhQUFhLEdBQUdKLEdBQUcsQ0FBQ0csS0FBSixDQUFVQyxhQUFWLEdBQ2xCO0FBQ0VDLElBQUFBLElB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QyxHQUFHLENBQUMwQixJQUFKLENBQVNrQixLQUpVO0FBSzFCMUMsSUFBQUEsUUFBUSxFQUFFRixHQUFHLENBQUMwQixJQUFKLENBQVN4QixRQUxPO0FBTTFCMkMsSUFBQUEsWUFBWSxFQUFFN0MsR0FBRyxDQUFDMEIsSUFBSixDQUFTbUIsWUFORztBQU8xQkMsSUFBQUEsV0FBVyxFQUFFOUMsR0FBRyxDQUFDMEIsSUFBSixDQUFTb0IsV0FQSTtBQVExQm5CLElBQUFBLE1BQU0sRUFBRTNCLEdBQUcsQ0FBQzBCLElBQUosQ0FBU0MsTUFSUztBQVMxQkssSUFBQUEsVUFBVSxFQUFFaEMsR0FBRyxDQUFDMEIsSUFBSixDQUFTTTtBQVRLLEdBQVosQ0FBaEI7QUFXQSxRQUFNa0IsVUFBVSxHQUFHLE1BQU1sQyxPQUFPLENBQUNzQixJQUFSLEVBQXpCOztBQUNBLE1BQUlZLFVBQUosRUFBZ0I7QUFDZCxXQUFPakQsR0FBRyxDQUNQbUIsTUFESSxDQUNHLEdBREgsRUFFSkwsSUFGSSxDQUVDO0FBQUVNLE1BQUFBLE9BQU8sRUFBRSxxQkFBWDtBQUFrQ2tCLE1BQUFBLElBQUksRUFBRVc7QUFBeEMsS0FGRCxDQUFQO0FBR0Q7O0FBQ0QsU0FBT2pELEdBQUcsQ0FBQ21CLE1BQUosQ0FBVyxHQUFYLEVBQWdCTCxJQUFoQixDQUFxQjtBQUFFTSxJQUFBQSxPQUFPLEVBQUU7QUFBWCxHQUFyQixDQUFQO0FBQ0QsQ0FuQkQ7ZUFxQmV6QixNIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9NZS9EZXNrdG9wL1JlYWN0UHJvamVjdHMvbm9kZS1yZWFjdC1lY29tbWVyY2UtbWFzdGVyL2JhY2tlbmQvcm91dGVzLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IFByb2R1Y3QgZnJvbSAnLi4vbW9kZWxzL3Byb2R1Y3RNb2RlbCc7XG5pbXBvcnQgeyBpc0F1dGgsIGlzQWRtaW4gfSBmcm9tICcuLi91dGlsJztcblxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcblxucm91dGVyLmdldCgnLycsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICBjb25zdCBjYXRlZ29yeSA9IHJlcS5xdWVyeS5jYXRlZ29yeSA/IHsgY2F0ZWdvcnk6IHJlcS5xdWVyeS5jYXRlZ29yeSB9IDoge307XG4gIGNvbnN0IHNlYXJjaEtleXdvcmQgPSByZXEucXVlcnkuc2VhcmNoS2V5d29yZFxuICAgID8ge1xuICAgICAgICBuYW1lOiB7XG4gICAgICAgICAgJHJlZ2V4OiByZXEucXVlcnkuc2VhcmNoS2V5d29yZCxcbiAgICAgICAgICAkb3B0aW9uczogJ2knLFxuICAgICAgICB9LFxuICAgICAgfVxuICAgIDoge307XG4gIGNvbnN0IHNvcnRPcmRlciA9IHJlcS5xdWVyeS5zb3J0T3JkZXJcbiAgICA/IHJlcS5xdWVyeS5zb3J0T3JkZXIgPT09ICdsb3dlc3QnXG4gICAgICA/IHsgcHJpY2U6IDEgfVxuICAgICAgOiB7IHByaWNlOiAtMSB9XG4gICAgOiB7IF9pZDogLTEgfTtcbiAgY29uc3QgcHJvZHVjdHMgPSBhd2FpdCBQcm9kdWN0LmZpbmQoeyAuLi5jYXRlZ29yeSwgLi4uc2VhcmNoS2V5d29yZCB9KS5zb3J0KFxuICAgIHNvcnRPcmRlclxuICApO1xuICByZXMuc2VuZChwcm9kdWN0cyk7XG59KTtcblxucm91dGVyLmdldCgnLzppZCcsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICBjb25zdCBwcm9kdWN0ID0gYXdhaXQgUHJvZHVjdC5maW5kT25lKHsgX2lkOiByZXEucGFyYW1zLmlkIH0pO1xuICBpZiAocHJvZHVjdCkge1xuICAgIHJlcy5zZW5kKHByb2R1Y3QpO1xuICB9IGVsc2Uge1xuICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHsgbWVzc2FnZTogJ1Byb2R1Y3QgTm90IEZvdW5kLicgfSk7XG4gIH1cbn0pO1xucm91dGVyLnBvc3QoJy86aWQvcmV2aWV3cycsIGlzQXV0aCwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIGNvbnN0IHByb2R1Y3QgPSBhd2FpdCBQcm9kdWN0LmZpbmRCeUlkKHJlcS5wYXJhbXMuaWQpO1xuICBpZiAocHJvZHVjdCkge1xuICAgIGNvbnN0IHJldmlldyA9IHtcbiAgICAgIG5hbWU6IHJlcS5ib2R5Lm5hbWUsXG4gICAgICByYXRpbmc6IE51bWJlcihyZXEuYm9keS5yYXRpbmcpLFxuICAgICAgY29tbWVudDogcmVxLmJvZHkuY29tbWVudCxcbiAgICB9O1xuICAgIHByb2R1Y3QucmV2aWV3cy5wdXNoKHJldmlldyk7XG4gICAgcHJvZHVjdC5udW1SZXZpZXdzID0gcHJvZHVjdC5yZXZpZXdzLmxlbmd0aDtcbiAgICBwcm9kdWN0LnJhdGluZyA9XG4gICAgICBwcm9kdWN0LnJldmlld3MucmVkdWNlKChhLCBjKSA9PiBjLnJhdGluZyArIGEsIDApIC9cbiAgICAgIHByb2R1Y3QucmV2aWV3cy5sZW5ndGg7XG4gICAgY29uc3QgdXBkYXRlZFByb2R1Y3QgPSBhd2FpdCBwcm9kdWN0LnNhdmUoKTtcbiAgICByZXMuc3RhdHVzKDIwMSkuc2VuZCh7XG4gICAgICBkYXRhOiB1cGRhdGVkUHJvZHVjdC5yZXZpZXdzW3VwZGF0ZWRQcm9kdWN0LnJldmlld3MubGVuZ3RoIC0gMV0sXG4gICAgICBtZXNzYWdlOiAnUmV2aWV3IHNhdmVkIHN1Y2Nlc3NmdWxseS4nLFxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHsgbWVzc2FnZTogJ1Byb2R1Y3QgTm90IEZvdW5kJyB9KTtcbiAgfVxufSk7XG5yb3V0ZXIucHV0KCcvOmlkJywgaXNBdXRoLCBpc0FkbWluLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgY29uc3QgcHJvZHVjdElkID0gcmVxLnBhcmFtcy5pZDtcbiAgY29uc3QgcHJvZHVjdCA9IGF3YWl0IFByb2R1Y3QuZmluZEJ5SWQocHJvZHVjdElkKTtcbiAgaWYgKHByb2R1Y3QpIHtcbiAgICBwcm9kdWN0Lm5hbWUgPSByZXEuYm9keS5uYW1lO1xuICAgIHByb2R1Y3QucHJpY2UgPSByZXEuYm9keS5wcmljZTtcbiAgICBwcm9kdWN0LmltYWdlID0gcmVxLmJvZHkuaW1hZ2U7XG4gICAgcHJvZHVjdC5icmFuZCA9IHJlcS5ib2R5LmJyYW5kO1xuICAgIHByb2R1Y3QuY2F0ZWdvcnkgPSByZXEuYm9keS5jYXRlZ29yeTtcbiAgICBwcm9kdWN0LmNvdW50SW5TdG9jayA9IHJlcS5ib2R5LmNvdW50SW5TdG9jaztcbiAgICBwcm9kdWN0LmRlc2NyaXB0aW9uID0gcmVxLmJvZHkuZGVzY3JpcHRpb247XG4gICAgY29uc3QgdXBkYXRlZFByb2R1Y3QgPSBhd2FpdCBwcm9kdWN0LnNhdmUoKTtcbiAgICBpZiAodXBkYXRlZFByb2R1Y3QpIHtcbiAgICAgIHJldHVybiByZXNcbiAgICAgICAgLnN0YXR1cygyMDApXG4gICAgICAgIC5zZW5kKHsgbWVzc2FnZTogJ1Byb2R1Y3QgVXBkYXRlZCcsIGRhdGE6IHVwZGF0ZWRQcm9kdWN0IH0pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLnNlbmQoeyBtZXNzYWdlOiAnIEVycm9yIGluIFVwZGF0aW5nIFByb2R1Y3QuJyB9KTtcbn0pO1xuXG5yb3V0ZXIuZGVsZXRlKCcvOmlkJywgaXNBdXRoLCBpc0FkbWluLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgY29uc3QgZGVsZXRlZFByb2R1Y3QgPSBhd2FpdCBQcm9kdWN0LmZpbmRCeUlkKHJlcS5wYXJhbXMuaWQpO1xuICBpZiAoZGVsZXRlZFByb2R1Y3QpIHtcbiAgICBhd2FpdCBkZWxldGVkUHJvZHVjdC5yZW1vdmUoKTtcbiAgICByZXMuc2VuZCh7IG1lc3NhZ2U6ICdQcm9kdWN0IERlbGV0ZWQnIH0pO1xuICB9IGVsc2Uge1xuICAgIHJlcy5zZW5kKCdFcnJvciBpbiBEZWxldGlvbi4nKTtcbiAgfVxufSk7XG5cbnJvdXRlci5wb3N0KCcvJywgaXNBdXRoLCBpc0FkbWluLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgY29uc3QgcHJvZHVjdCA9IG5ldyBQcm9kdWN0KHtcbiAgICBuYW1lOiByZXEuYm9keS5uYW1lLFxuICAgIHByaWNlOiByZXEuYm9keS5wcmljZSxcbiAgICBpbWFnZTogcmVxLmJvZHkuaW1hZ2UsXG4gICAgYnJhbmQ6IHJlcS5ib2R5LmJyYW5kLFxuICAgIGNhdGVnb3J5OiByZXEuYm9keS5jYXRlZ29yeSxcbiAgICBjb3VudEluU3RvY2s6IHJlcS5ib2R5LmNvdW50SW5TdG9jayxcbiAgICBkZXNjcmlwdGlvbjogcmVxLmJvZHkuZGVzY3JpcHRpb24sXG4gICAgcmF0aW5nOiByZXEuYm9keS5yYXRpbmcsXG4gICAgbnVtUmV2aWV3czogcmVxLmJvZHkubnVtUmV2aWV3cyxcbiAgfSk7XG4gIGNvbnN0IG5ld1Byb2R1Y3QgPSBhd2FpdCBwcm9kdWN0LnNhdmUoKTtcbiAgaWYgKG5ld1Byb2R1Y3QpIHtcbiAgICByZXR1cm4gcmVzXG4gICAgICAuc3RhdHVzKDIwMSlcbiAgICAgIC5zZW5kKHsgbWVzc2FnZTogJ05ldyBQcm9kdWN0IENyZWF0ZWQnLCBkYXRhOiBuZXdQcm9kdWN0IH0pO1xuICB9XG4gIHJldHVybiByZXMuc3RhdHVzKDUwMCkuc2VuZCh7IG1lc3NhZ2U6ICcgRXJyb3IgaW4gQ3JlYXRpbmcgUHJvZHVjdC4nIH0pO1xufSk7XG5cbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "productRoute.js"
      ],
      "names": [
        "router",
        "express",
        "Router",
        "get",
        "req",
        "res",
        "category",
        "query",
        "searchKeyword",
        "name",
        "$regex",
        "$options",
        "sortOrder",
        "price",
        "_id",
        "products",
        "Product",
        "find",
        "sort",
        "send",
        "product",
        "findOne",
        "params",
        "id",
        "status",
        "message",
        "post",
        "isAuth",
        "findById",
        "review",
        "body",
        "rating",
        "Number",
        "comment",
        "reviews",
        "push",
        "numReviews",
        "length",
        "reduce",
        "a",
        "c",
        "updatedProduct",
        "save",
        "data",
        "put",
        "isAdmin",
        "productId",
        "image",
        "brand",
        "countInStock",
        "description",
        "delete",
        "deletedProduct",
        "remove",
        "newProduct"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master/backend/routes/",
      "sourcesContent": [
        "import express from 'express';\nimport Product from '../models/productModel';\nimport { isAuth, isAdmin } from '../util';\n\nconst router = express.Router();\n\nrouter.get('/', async (req, res) => {\n  const category = req.query.category ? { category: req.query.category } : {};\n  const searchKeyword = req.query.searchKeyword\n    ? {\n        name: {\n          $regex: req.query.searchKeyword,\n          $options: 'i',\n        },\n      }\n    : {};\n  const sortOrder = req.query.sortOrder\n    ? req.query.sortOrder === 'lowest'\n      ? { price: 1 }\n      : { price: -1 }\n    : { _id: -1 };\n  const products = await Product.find({ ...category, ...searchKeyword }).sort(\n    sortOrder\n  );\n  res.send(products);\n});\n\nrouter.get('/:id', async (req, res) => {\n  const product = await Product.findOne({ _id: req.params.id });\n  if (product) {\n    res.send(product);\n  } else {\n    res.status(404).send({ message: 'Product Not Found.' });\n  }\n});\nrouter.post('/:id/reviews', isAuth, async (req, res) => {\n  const product = await Product.findById(req.params.id);\n  if (product) {\n    const review = {\n      name: req.body.name,\n      rating: Number(req.body.rating),\n      comment: req.body.comment,\n    };\n    product.reviews.push(review);\n    product.numReviews = product.reviews.length;\n    product.rating =\n      product.reviews.reduce((a, c) => c.rating + a, 0) /\n      product.reviews.length;\n    const updatedProduct = await product.save();\n    res.status(201).send({\n      data: updatedProduct.reviews[updatedProduct.reviews.length - 1],\n      message: 'Review saved successfully.',\n    });\n  } else {\n    res.status(404).send({ message: 'Product Not Found' });\n  }\n});\nrouter.put('/:id', isAuth, isAdmin, async (req, res) => {\n  const productId = req.params.id;\n  const product = await Product.findById(productId);\n  if (product) {\n    product.name = req.body.name;\n    product.price = req.body.price;\n    product.image = req.body.image;\n    product.brand = req.body.brand;\n    product.category = req.body.category;\n    product.countInStock = req.body.countInStock;\n    product.description = req.body.description;\n    const updatedProduct = await product.save();\n    if (updatedProduct) {\n      return res\n        .status(200)\n        .send({ message: 'Product Updated', data: updatedProduct });\n    }\n  }\n  return res.status(500).send({ message: ' Error in Updating Product.' });\n});\n\nrouter.delete('/:id', isAuth, isAdmin, async (req, res) => {\n  const deletedProduct = await Product.findById(req.params.id);\n  if (deletedProduct) {\n    await deletedProduct.remove();\n    res.send({ message: 'Product Deleted' });\n  } else {\n    res.send('Error in Deletion.');\n  }\n});\n\nrouter.post('/', isAuth, isAdmin, async (req, res) => {\n  const product = new Product({\n    name: req.body.name,\n    price: req.body.price,\n    image: req.body.image,\n    brand: req.body.brand,\n    category: req.body.category,\n    countInStock: req.body.countInStock,\n    description: req.body.description,\n    rating: req.body.rating,\n    numReviews: req.body.numReviews,\n  });\n  const newProduct = await product.save();\n  if (newProduct) {\n    return res\n      .status(201)\n      .send({ message: 'New Product Created', data: newProduct });\n  }\n  return res.status(500).send({ message: ' Error in Creating Product.' });\n});\n\nexport default router;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1595823100000
  },
  "{\"sourceRoot\":\"/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master/backend/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master\",\"filename\":\"/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master/backend/models/productModel.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master/backend/models/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master",
      "filename": "/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master/backend/models/productModel.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master/backend/models/productModel.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master/backend/models/productModel.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master/backend/models/",
        "sourceFileName": "productModel.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst reviewSchema = new _mongoose.default.Schema({\n  name: {\n    type: String,\n    required: true\n  },\n  rating: {\n    type: Number,\n    default: 0\n  },\n  comment: {\n    type: String,\n    required: true\n  }\n}, {\n  timestamps: true\n});\nconst prodctSchema = new _mongoose.default.Schema({\n  name: {\n    type: String,\n    required: true\n  },\n  image: {\n    type: String,\n    required: true\n  },\n  brand: {\n    type: String,\n    required: true\n  },\n  price: {\n    type: Number,\n    default: 0,\n    required: true\n  },\n  category: {\n    type: String,\n    required: true\n  },\n  countInStock: {\n    type: Number,\n    default: 0,\n    required: true\n  },\n  description: {\n    type: String,\n    required: true\n  },\n  rating: {\n    type: Number,\n    default: 0,\n    required: true\n  },\n  numReviews: {\n    type: Number,\n    default: 0,\n    required: true\n  },\n  reviews: [reviewSchema]\n});\n\nconst productModel = _mongoose.default.model('Product', prodctSchema);\n\nvar _default = productModel;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2R1Y3RNb2RlbC5qcyJdLCJuYW1lcyI6WyJyZXZpZXdTY2hlbWEiLCJtb25nb29zZSIsIlNjaGVtYSIsIm5hbWUiLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJyYXRpbmciLCJOdW1iZXIiLCJkZWZhdWx0IiwiY29tbWVudCIsInRpbWVzdGFtcHMiLCJwcm9kY3RTY2hlbWEiLCJpbWFnZSIsImJyYW5kIiwicHJpY2UiLCJjYXRlZ29yeSIsImNvdW50SW5TdG9jayIsImRlc2NyaXB0aW9uIiwibnVtUmV2aWV3cyIsInJldmlld3MiLCJwcm9kdWN0TW9kZWwiLCJtb2RlbCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7O0FBRUEsTUFBTUEsWUFBWSxHQUFHLElBQUlDLGtCQUFTQyxNQUFiLENBQ25CO0FBQ0VDLEVBQUFBLElBQUksRUFBRTtBQUFFQyxJQUFBQSxJQUFJLEVBQUVDLE1BQVI7QUFBZ0JDLElBQUFBLFFBQVEsRUFBRTtBQUExQixHQURSO0FBRUVDLEVBQUFBLE1BQU0sRUFBRTtBQUFFSCxJQUFBQSxJQUFJLEVBQUVJLE1BQVI7QUFBZ0JDLElBQUFBLE9BQU8sRUFBRTtBQUF6QixHQUZWO0FBR0VDLEVBQUFBLE9BQU8sRUFBRTtBQUFFTixJQUFBQSxJQUFJLEVBQUVDLE1BQVI7QUFBZ0JDLElBQUFBLFFBQVEsRUFBRTtBQUExQjtBQUhYLENBRG1CLEVBTW5CO0FBQ0VLLEVBQUFBLFVBQVUsRUFBRTtBQURkLENBTm1CLENBQXJCO0FBVUEsTUFBTUMsWUFBWSxHQUFHLElBQUlYLGtCQUFTQyxNQUFiLENBQW9CO0FBQ3ZDQyxFQUFBQSxJQUFJLEVBQUU7QUFBRUMsSUFBQUEsSUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxJQUFBQSxRQUFRLEVBQUU7QUFBMUIsR0FEaUM7QUFFdkNPLEVBQUFBLEtBQUssRUFBRTtBQUFFVCxJQUFBQSxJQUFJLEVBQUVDLE1BQVI7QUFBZ0JDLElBQUFBLFFBQVEsRUFBRTtBQUExQixHQUZnQztBQUd2Q1EsRUFBQUEsS0FBSyxFQUFFO0FBQUVWLElBQUFBLElBQUksRUFBRUMsTUFBUjtBQUFnQkMsSUFBQUEsUUFBUSxFQUFFO0FBQTFCLEdBSGdDO0FBSXZDUyxFQUFBQSxLQUFLLEVBQUU7QUFBRVgsSUFBQUEsSUFBSSxFQUFFSSxNQUFSO0FBQWdCQyxJQUFBQSxPQUFPLEVBQUUsQ0FBekI7QUFBNEJILElBQUFBLFFBQVEsRUFBRTtBQUF0QyxHQUpnQztBQUt2Q1UsRUFBQUEsUUFBUSxFQUFFO0FBQUVaLElBQUFBLElBQUksRUFBRUMsTUFBUjtBQUFnQkMsSUFBQUEsUUFBUSxFQUFFO0FBQTFCLEdBTDZCO0FBTXZDVyxFQUFBQSxZQUFZLEVBQUU7QUFBRWIsSUFBQUEsSUFBSSxFQUFFSSxNQUFSO0FBQWdCQyxJQUFBQSxPQUFPLEVBQUUsQ0FBekI7QUFBNEJILElBQUFBLFFBQVEsRUFBRTtBQUF0QyxHQU55QjtBQU92Q1ksRUFBQUEsV0FBVyxFQUFFO0FBQUVkLElBQUFBLElBQUksRUFBRUMsTUFBUjtBQUFnQkMsSUFBQUEsUUFBUSxFQUFFO0FBQTFCLEdBUDBCO0FBUXZDQyxFQUFBQSxNQUFNLEVBQUU7QUFBRUgsSUFBQUEsSUFBSSxFQUFFSSxNQUFSO0FBQWdCQyxJQUFBQSxPQUFPLEVBQUUsQ0FBekI7QUFBNEJILElBQUFBLFFBQVEsRUFBRTtBQUF0QyxHQVIrQjtBQVN2Q2EsRUFBQUEsVUFBVSxFQUFFO0FBQUVmLElBQUFBLElBQUksRUFBRUksTUFBUjtBQUFnQkMsSUFBQUEsT0FBTyxFQUFFLENBQXpCO0FBQTRCSCxJQUFBQSxRQUFRLEVBQUU7QUFBdEMsR0FUMkI7QUFVdkNjLEVBQUFBLE9BQU8sRUFBRSxDQUFDcEIsWUFBRDtBQVY4QixDQUFwQixDQUFyQjs7QUFhQSxNQUFNcUIsWUFBWSxHQUFHcEIsa0JBQVNxQixLQUFULENBQWUsU0FBZixFQUEwQlYsWUFBMUIsQ0FBckI7O2VBRWVTLFkiLCJzb3VyY2VSb290IjoiL1VzZXJzL01lL0Rlc2t0b3AvUmVhY3RQcm9qZWN0cy9ub2RlLXJlYWN0LWVjb21tZXJjZS1tYXN0ZXIvYmFja2VuZC9tb2RlbHMvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcblxuY29uc3QgcmV2aWV3U2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYShcbiAge1xuICAgIG5hbWU6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgIHJhdGluZzogeyB0eXBlOiBOdW1iZXIsIGRlZmF1bHQ6IDAgfSxcbiAgICBjb21tZW50OiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgfSxcbiAge1xuICAgIHRpbWVzdGFtcHM6IHRydWUsXG4gIH1cbik7XG5jb25zdCBwcm9kY3RTY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKHtcbiAgbmFtZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gIGltYWdlOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgYnJhbmQ6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxuICBwcmljZTogeyB0eXBlOiBOdW1iZXIsIGRlZmF1bHQ6IDAsIHJlcXVpcmVkOiB0cnVlIH0sXG4gIGNhdGVnb3J5OiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgY291bnRJblN0b2NrOiB7IHR5cGU6IE51bWJlciwgZGVmYXVsdDogMCwgcmVxdWlyZWQ6IHRydWUgfSxcbiAgZGVzY3JpcHRpb246IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxuICByYXRpbmc6IHsgdHlwZTogTnVtYmVyLCBkZWZhdWx0OiAwLCByZXF1aXJlZDogdHJ1ZSB9LFxuICBudW1SZXZpZXdzOiB7IHR5cGU6IE51bWJlciwgZGVmYXVsdDogMCwgcmVxdWlyZWQ6IHRydWUgfSxcbiAgcmV2aWV3czogW3Jldmlld1NjaGVtYV0sXG59KTtcblxuY29uc3QgcHJvZHVjdE1vZGVsID0gbW9uZ29vc2UubW9kZWwoJ1Byb2R1Y3QnLCBwcm9kY3RTY2hlbWEpO1xuXG5leHBvcnQgZGVmYXVsdCBwcm9kdWN0TW9kZWw7XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "productModel.js"
      ],
      "names": [
        "reviewSchema",
        "mongoose",
        "Schema",
        "name",
        "type",
        "String",
        "required",
        "rating",
        "Number",
        "default",
        "comment",
        "timestamps",
        "prodctSchema",
        "image",
        "brand",
        "price",
        "category",
        "countInStock",
        "description",
        "numReviews",
        "reviews",
        "productModel",
        "model"
      ],
      "mappings": ";;;;;;;AAAA;;;;AAEA,MAAMA,YAAY,GAAG,IAAIC,kBAASC,MAAb,CACnB;AACEC,EAAAA,IAAI,EAAE;AAAEC,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GADR;AAEEC,EAAAA,MAAM,EAAE;AAAEH,IAAAA,IAAI,EAAEI,MAAR;AAAgBC,IAAAA,OAAO,EAAE;AAAzB,GAFV;AAGEC,EAAAA,OAAO,EAAE;AAAEN,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B;AAHX,CADmB,EAMnB;AACEK,EAAAA,UAAU,EAAE;AADd,CANmB,CAArB;AAUA,MAAMC,YAAY,GAAG,IAAIX,kBAASC,MAAb,CAAoB;AACvCC,EAAAA,IAAI,EAAE;AAAEC,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GADiC;AAEvCO,EAAAA,KAAK,EAAE;AAAET,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAFgC;AAGvCQ,EAAAA,KAAK,EAAE;AAAEV,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAHgC;AAIvCS,EAAAA,KAAK,EAAE;AAAEX,IAAAA,IAAI,EAAEI,MAAR;AAAgBC,IAAAA,OAAO,EAAE,CAAzB;AAA4BH,IAAAA,QAAQ,EAAE;AAAtC,GAJgC;AAKvCU,EAAAA,QAAQ,EAAE;AAAEZ,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAL6B;AAMvCW,EAAAA,YAAY,EAAE;AAAEb,IAAAA,IAAI,EAAEI,MAAR;AAAgBC,IAAAA,OAAO,EAAE,CAAzB;AAA4BH,IAAAA,QAAQ,EAAE;AAAtC,GANyB;AAOvCY,EAAAA,WAAW,EAAE;AAAEd,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAP0B;AAQvCC,EAAAA,MAAM,EAAE;AAAEH,IAAAA,IAAI,EAAEI,MAAR;AAAgBC,IAAAA,OAAO,EAAE,CAAzB;AAA4BH,IAAAA,QAAQ,EAAE;AAAtC,GAR+B;AASvCa,EAAAA,UAAU,EAAE;AAAEf,IAAAA,IAAI,EAAEI,MAAR;AAAgBC,IAAAA,OAAO,EAAE,CAAzB;AAA4BH,IAAAA,QAAQ,EAAE;AAAtC,GAT2B;AAUvCc,EAAAA,OAAO,EAAE,CAACpB,YAAD;AAV8B,CAApB,CAArB;;AAaA,MAAMqB,YAAY,GAAGpB,kBAASqB,KAAT,CAAe,SAAf,EAA0BV,YAA1B,CAArB;;eAEeS,Y",
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master/backend/models/",
      "sourcesContent": [
        "import mongoose from 'mongoose';\n\nconst reviewSchema = new mongoose.Schema(\n  {\n    name: { type: String, required: true },\n    rating: { type: Number, default: 0 },\n    comment: { type: String, required: true },\n  },\n  {\n    timestamps: true,\n  }\n);\nconst prodctSchema = new mongoose.Schema({\n  name: { type: String, required: true },\n  image: { type: String, required: true },\n  brand: { type: String, required: true },\n  price: { type: Number, default: 0, required: true },\n  category: { type: String, required: true },\n  countInStock: { type: Number, default: 0, required: true },\n  description: { type: String, required: true },\n  rating: { type: Number, default: 0, required: true },\n  numReviews: { type: Number, default: 0, required: true },\n  reviews: [reviewSchema],\n});\n\nconst productModel = mongoose.model('Product', prodctSchema);\n\nexport default productModel;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1595823100000
  },
  "{\"sourceRoot\":\"/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master/backend/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master\",\"filename\":\"/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master/backend/routes/orderRoute.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master/backend/routes/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master",
      "filename": "/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master/backend/routes/orderRoute.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master/backend/routes/orderRoute.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master/backend/routes/orderRoute.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master/backend/routes/",
        "sourceFileName": "orderRoute.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _orderModel = _interopRequireDefault(require(\"../models/orderModel\"));\n\nvar _util = require(\"../util\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst router = _express.default.Router();\n\nrouter.get(\"/\", _util.isAuth, async (req, res) => {\n  const orders = await _orderModel.default.find({}).populate('user');\n  res.send(orders);\n});\nrouter.get(\"/mine\", _util.isAuth, async (req, res) => {\n  const orders = await _orderModel.default.find({\n    user: req.user._id\n  });\n  res.send(orders);\n});\nrouter.get(\"/:id\", _util.isAuth, async (req, res) => {\n  const order = await _orderModel.default.findOne({\n    _id: req.params.id\n  });\n\n  if (order) {\n    res.send(order);\n  } else {\n    res.status(404).send(\"Order Not Found.\");\n  }\n});\nrouter.delete(\"/:id\", _util.isAuth, _util.isAdmin, async (req, res) => {\n  const order = await _orderModel.default.findOne({\n    _id: req.params.id\n  });\n\n  if (order) {\n    const deletedOrder = await order.remove();\n    res.send(deletedOrder);\n  } else {\n    res.status(404).send(\"Order Not Found.\");\n  }\n});\nrouter.post(\"/\", _util.isAuth, async (req, res) => {\n  const newOrder = new _orderModel.default({\n    orderItems: req.body.orderItems,\n    user: req.user._id,\n    shipping: req.body.shipping,\n    payment: req.body.payment,\n    itemsPrice: req.body.itemsPrice,\n    taxPrice: req.body.taxPrice,\n    shippingPrice: req.body.shippingPrice,\n    totalPrice: req.body.totalPrice\n  });\n  const newOrderCreated = await newOrder.save();\n  res.status(201).send({\n    message: \"New Order Created\",\n    data: newOrderCreated\n  });\n});\nrouter.put(\"/:id/pay\", _util.isAuth, async (req, res) => {\n  const order = await _orderModel.default.findById(req.params.id);\n\n  if (order) {\n    order.isPaid = true;\n    order.paidAt = Date.now();\n    order.payment = {\n      paymentMethod: 'paypal',\n      paymentResult: {\n        payerID: req.body.payerID,\n        orderID: req.body.orderID,\n        paymentID: req.body.paymentID\n      }\n    };\n    const updatedOrder = await order.save();\n    res.send({\n      message: 'Order Paid.',\n      order: updatedOrder\n    });\n  } else {\n    res.status(404).send({\n      message: 'Order not found.'\n    });\n  }\n});\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9yZGVyUm91dGUuanMiXSwibmFtZXMiOlsicm91dGVyIiwiZXhwcmVzcyIsIlJvdXRlciIsImdldCIsImlzQXV0aCIsInJlcSIsInJlcyIsIm9yZGVycyIsIk9yZGVyIiwiZmluZCIsInBvcHVsYXRlIiwic2VuZCIsInVzZXIiLCJfaWQiLCJvcmRlciIsImZpbmRPbmUiLCJwYXJhbXMiLCJpZCIsInN0YXR1cyIsImRlbGV0ZSIsImlzQWRtaW4iLCJkZWxldGVkT3JkZXIiLCJyZW1vdmUiLCJwb3N0IiwibmV3T3JkZXIiLCJvcmRlckl0ZW1zIiwiYm9keSIsInNoaXBwaW5nIiwicGF5bWVudCIsIml0ZW1zUHJpY2UiLCJ0YXhQcmljZSIsInNoaXBwaW5nUHJpY2UiLCJ0b3RhbFByaWNlIiwibmV3T3JkZXJDcmVhdGVkIiwic2F2ZSIsIm1lc3NhZ2UiLCJkYXRhIiwicHV0IiwiZmluZEJ5SWQiLCJpc1BhaWQiLCJwYWlkQXQiLCJEYXRlIiwibm93IiwicGF5bWVudE1ldGhvZCIsInBheW1lbnRSZXN1bHQiLCJwYXllcklEIiwib3JkZXJJRCIsInBheW1lbnRJRCIsInVwZGF0ZWRPcmRlciJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOzs7O0FBRUEsTUFBTUEsTUFBTSxHQUFHQyxpQkFBUUMsTUFBUixFQUFmOztBQUVBRixNQUFNLENBQUNHLEdBQVAsQ0FBVyxHQUFYLEVBQWdCQyxZQUFoQixFQUF3QixPQUFPQyxHQUFQLEVBQVlDLEdBQVosS0FBb0I7QUFDMUMsUUFBTUMsTUFBTSxHQUFHLE1BQU1DLG9CQUFNQyxJQUFOLENBQVcsRUFBWCxFQUFlQyxRQUFmLENBQXdCLE1BQXhCLENBQXJCO0FBQ0FKLEVBQUFBLEdBQUcsQ0FBQ0ssSUFBSixDQUFTSixNQUFUO0FBQ0QsQ0FIRDtBQUlBUCxNQUFNLENBQUNHLEdBQVAsQ0FBVyxPQUFYLEVBQW9CQyxZQUFwQixFQUE0QixPQUFPQyxHQUFQLEVBQVlDLEdBQVosS0FBb0I7QUFDOUMsUUFB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QSxNQUFJSCxLQUFKLEVBQVc7QUFDVEEsSUFBQUEsS0FBSyxDQUFDeUIsTUFBTixHQUFlLElBQWY7QUFDQXpCLElBQUFBLEtBQUssQ0FBQzBCLE1BQU4sR0FBZUMsSUFBSSxDQUFDQyxHQUFMLEVBQWY7QUFDQTVCLElBQUFBLEtBQUssQ0FBQ2MsT0FBTixHQUFnQjtBQUNkZSxNQUFBQSxhQUFhLEVBQUUsUUFERDtBQUVkQyxNQUFBQSxhQUFhLEVBQUU7QUFDYkMsUUFBQUEsT0FBTyxFQUFFeEMsR0FBRyxDQUFDcUIsSUFBSixDQUFTbUIsT0FETDtBQUViQyxRQUFBQSxPQUFPLEVBQUV6QyxHQUFHLENBQUNxQixJQUFKLENBQVNvQixPQUZMO0FBR2JDLFFBQUFBLFNBQVMsRUFBRTFDLEdBQUcsQ0FBQ3FCLElBQUosQ0FBU3FCO0FBSFA7QUFGRCxLQUFoQjtBQVFBLFVBQU1DLFlBQVksR0FBRyxNQUFNbEMsS0FBSyxDQUFDb0IsSUFBTixFQUEzQjtBQUNBNUIsSUFBQUEsR0FBRyxDQUFDSyxJQUFKLENBQVM7QUFBRXdCLE1BQUFBLE9BQU8sRUFBRSxhQUFYO0FBQTBCckIsTUFBQUEsS0FBSyxFQUFFa0M7QUFBakMsS0FBVDtBQUNELEdBYkQsTUFhTztBQUNMMUMsSUFBQUEsR0FBRyxDQUFDWSxNQUFKLENBQVcsR0FBWCxFQUFnQlAsSUFBaEIsQ0FBcUI7QUFBRXdCLE1BQUFBLE9BQU8sRUFBRTtBQUFYLEtBQXJCO0FBQ0Q7QUFDRixDQWxCRDtlQW9CZW5DLE0iLCJzb3VyY2VSb290IjoiL1VzZXJzL01lL0Rlc2t0b3AvUmVhY3RQcm9qZWN0cy9ub2RlLXJlYWN0LWVjb21tZXJjZS1tYXN0ZXIvYmFja2VuZC9yb3V0ZXMvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgT3JkZXIgZnJvbSAnLi4vbW9kZWxzL29yZGVyTW9kZWwnO1xuaW1wb3J0IHsgaXNBdXRoLCBpc0FkbWluIH0gZnJvbSAnLi4vdXRpbCc7XG5cbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5cbnJvdXRlci5nZXQoXCIvXCIsIGlzQXV0aCwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIGNvbnN0IG9yZGVycyA9IGF3YWl0IE9yZGVyLmZpbmQoe30pLnBvcHVsYXRlKCd1c2VyJyk7XG4gIHJlcy5zZW5kKG9yZGVycyk7XG59KTtcbnJvdXRlci5nZXQoXCIvbWluZVwiLCBpc0F1dGgsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICBjb25zdCBvcmRlcnMgPSBhd2FpdCBPcmRlci5maW5kKHsgdXNlcjogcmVxLnVzZXIuX2lkIH0pO1xuICByZXMuc2VuZChvcmRlcnMpO1xufSk7XG5cbnJvdXRlci5nZXQoXCIvOmlkXCIsIGlzQXV0aCwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIGNvbnN0IG9yZGVyID0gYXdhaXQgT3JkZXIuZmluZE9uZSh7IF9pZDogcmVxLnBhcmFtcy5pZCB9KTtcbiAgaWYgKG9yZGVyKSB7XG4gICAgcmVzLnNlbmQob3JkZXIpO1xuICB9IGVsc2Uge1xuICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKFwiT3JkZXIgTm90IEZvdW5kLlwiKVxuICB9XG59KTtcblxucm91dGVyLmRlbGV0ZShcIi86aWRcIiwgaXNBdXRoLCBpc0FkbWluLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgY29uc3Qgb3JkZXIgPSBhd2FpdCBPcmRlci5maW5kT25lKHsgX2lkOiByZXEucGFyYW1zLmlkIH0pO1xuICBpZiAob3JkZXIpIHtcbiAgICBjb25zdCBkZWxldGVkT3JkZXIgPSBhd2FpdCBvcmRlci5yZW1vdmUoKTtcbiAgICByZXMuc2VuZChkZWxldGVkT3JkZXIpO1xuICB9IGVsc2Uge1xuICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKFwiT3JkZXIgTm90IEZvdW5kLlwiKVxuICB9XG59KTtcblxucm91dGVyLnBvc3QoXCIvXCIsIGlzQXV0aCwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIGNvbnN0IG5ld09yZGVyID0gbmV3IE9yZGVyKHtcbiAgICBvcmRlckl0ZW1zOiByZXEuYm9keS5vcmRlckl0ZW1zLFxuICAgIHVzZXI6IHJlcS51c2VyLl9pZCxcbiAgICBzaGlwcGluZzogcmVxLmJvZHkuc2hpcHBpbmcsXG4gICAgcGF5bWVudDogcmVxLmJvZHkucGF5bWVudCxcbiAgICBpdGVtc1ByaWNlOiByZXEuYm9keS5pdGVtc1ByaWNlLFxuICAgIHRheFByaWNlOiByZXEuYm9keS50YXhQcmljZSxcbiAgICBzaGlwcGluZ1ByaWNlOiByZXEuYm9keS5zaGlwcGluZ1ByaWNlLFxuICAgIHRvdGFsUHJpY2U6IHJlcS5ib2R5LnRvdGFsUHJpY2UsXG4gIH0pO1xuICBjb25zdCBuZXdPcmRlckNyZWF0ZWQgPSBhd2FpdCBuZXdPcmRlci5zYXZlKCk7XG4gIHJlcy5zdGF0dXMoMjAxKS5zZW5kKHsgbWVzc2FnZTogXCJOZXcgT3JkZXIgQ3JlYXRlZFwiLCBkYXRhOiBuZXdPcmRlckNyZWF0ZWQgfSk7XG59KTtcblxucm91dGVyLnB1dChcIi86aWQvcGF5XCIsIGlzQXV0aCwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIGNvbnN0IG9yZGVyID0gYXdhaXQgT3JkZXIuZmluZEJ5SWQocmVxLnBhcmFtcy5pZCk7XG4gIGlmIChvcmRlcikge1xuICAgIG9yZGVyLmlzUGFpZCA9IHRydWU7XG4gICAgb3JkZXIucGFpZEF0ID0gRGF0ZS5ub3coKTtcbiAgICBvcmRlci5wYXltZW50ID0ge1xuICAgICAgcGF5bWVudE1ldGhvZDogJ3BheXBhbCcsXG4gICAgICBwYXltZW50UmVzdWx0OiB7XG4gICAgICAgIHBheWVySUQ6IHJlcS5ib2R5LnBheWVySUQsXG4gICAgICAgIG9yZGVySUQ6IHJlcS5ib2R5Lm9yZGVySUQsXG4gICAgICAgIHBheW1lbnRJRDogcmVxLmJvZHkucGF5bWVudElEXG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHVwZGF0ZWRPcmRlciA9IGF3YWl0IG9yZGVyLnNhdmUoKTtcbiAgICByZXMuc2VuZCh7IG1lc3NhZ2U6ICdPcmRlciBQYWlkLicsIG9yZGVyOiB1cGRhdGVkT3JkZXIgfSk7XG4gIH0gZWxzZSB7XG4gICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoeyBtZXNzYWdlOiAnT3JkZXIgbm90IGZvdW5kLicgfSlcbiAgfVxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjsiXX0=",
    "map": {
      "version": 3,
      "sources": [
        "orderRoute.js"
      ],
      "names": [
        "router",
        "express",
        "Router",
        "get",
        "isAuth",
        "req",
        "res",
        "orders",
        "Order",
        "find",
        "populate",
        "send",
        "user",
        "_id",
        "order",
        "findOne",
        "params",
        "id",
        "status",
        "delete",
        "isAdmin",
        "deletedOrder",
        "remove",
        "post",
        "newOrder",
        "orderItems",
        "body",
        "shipping",
        "payment",
        "itemsPrice",
        "taxPrice",
        "shippingPrice",
        "totalPrice",
        "newOrderCreated",
        "save",
        "message",
        "data",
        "put",
        "findById",
        "isPaid",
        "paidAt",
        "Date",
        "now",
        "paymentMethod",
        "paymentResult",
        "payerID",
        "orderID",
        "paymentID",
        "updatedOrder"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master/backend/routes/",
      "sourcesContent": [
        "import express from 'express';\nimport Order from '../models/orderModel';\nimport { isAuth, isAdmin } from '../util';\n\nconst router = express.Router();\n\nrouter.get(\"/\", isAuth, async (req, res) => {\n  const orders = await Order.find({}).populate('user');\n  res.send(orders);\n});\nrouter.get(\"/mine\", isAuth, async (req, res) => {\n  const orders = await Order.find({ user: req.user._id });\n  res.send(orders);\n});\n\nrouter.get(\"/:id\", isAuth, async (req, res) => {\n  const order = await Order.findOne({ _id: req.params.id });\n  if (order) {\n    res.send(order);\n  } else {\n    res.status(404).send(\"Order Not Found.\")\n  }\n});\n\nrouter.delete(\"/:id\", isAuth, isAdmin, async (req, res) => {\n  const order = await Order.findOne({ _id: req.params.id });\n  if (order) {\n    const deletedOrder = await order.remove();\n    res.send(deletedOrder);\n  } else {\n    res.status(404).send(\"Order Not Found.\")\n  }\n});\n\nrouter.post(\"/\", isAuth, async (req, res) => {\n  const newOrder = new Order({\n    orderItems: req.body.orderItems,\n    user: req.user._id,\n    shipping: req.body.shipping,\n    payment: req.body.payment,\n    itemsPrice: req.body.itemsPrice,\n    taxPrice: req.body.taxPrice,\n    shippingPrice: req.body.shippingPrice,\n    totalPrice: req.body.totalPrice,\n  });\n  const newOrderCreated = await newOrder.save();\n  res.status(201).send({ message: \"New Order Created\", data: newOrderCreated });\n});\n\nrouter.put(\"/:id/pay\", isAuth, async (req, res) => {\n  const order = await Order.findById(req.params.id);\n  if (order) {\n    order.isPaid = true;\n    order.paidAt = Date.now();\n    order.payment = {\n      paymentMethod: 'paypal',\n      paymentResult: {\n        payerID: req.body.payerID,\n        orderID: req.body.orderID,\n        paymentID: req.body.paymentID\n      }\n    }\n    const updatedOrder = await order.save();\n    res.send({ message: 'Order Paid.', order: updatedOrder });\n  } else {\n    res.status(404).send({ message: 'Order not found.' })\n  }\n});\n\nexport default router;"
      ]
    },
    "sourceType": "script",
    "mtime": 1595823100000
  },
  "{\"sourceRoot\":\"/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master/backend/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master\",\"filename\":\"/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master/backend/models/orderModel.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master/backend/models/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master",
      "filename": "/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master/backend/models/orderModel.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master/backend/models/orderModel.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master/backend/models/orderModel.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master/backend/models/",
        "sourceFileName": "orderModel.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst shippingSchema = {\n  address: {\n    type: String,\n    required: true\n  },\n  city: {\n    type: String,\n    required: true\n  },\n  postalCode: {\n    type: String,\n    required: true\n  },\n  country: {\n    type: String,\n    required: true\n  }\n};\nconst paymentSchema = {\n  paymentMethod: {\n    type: String,\n    required: true\n  }\n};\nconst orderItemSchema = new _mongoose.default.Schema({\n  name: {\n    type: String,\n    required: true\n  },\n  qty: {\n    type: Number,\n    required: true\n  },\n  image: {\n    type: String,\n    required: true\n  },\n  price: {\n    type: String,\n    required: true\n  },\n  product: {\n    type: _mongoose.default.Schema.Types.ObjectId,\n    ref: 'Product',\n    required: true\n  }\n});\nconst orderSchema = new _mongoose.default.Schema({\n  user: {\n    type: _mongoose.default.Schema.Types.ObjectId,\n    ref: 'User',\n    required: true\n  },\n  orderItems: [orderItemSchema],\n  shipping: shippingSchema,\n  payment: paymentSchema,\n  itemsPrice: {\n    type: Number\n  },\n  taxPrice: {\n    type: Number\n  },\n  shippingPrice: {\n    type: Number\n  },\n  totalPrice: {\n    type: Number\n  },\n  isPaid: {\n    type: Boolean,\n    default: false\n  },\n  paidAt: {\n    type: Date\n  },\n  isDelivered: {\n    type: Boolean,\n    default: false\n  },\n  deliveredAt: {\n    type: Date\n  }\n}, {\n  timestamps: true\n});\n\nconst orderModel = _mongoose.default.model(\"Order\", orderSchema);\n\nvar _default = orderModel;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9yZGVyTW9kZWwuanMiXSwibmFtZXMiOlsic2hpcHBpbmdTY2hlbWEiLCJhZGRyZXNzIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwiY2l0eSIsInBvc3RhbENvZGUiLCJjb3VudHJ5IiwicGF5bWVudFNjaGVtYSIsInBheW1lbnRNZXRob2QiLCJvcmRlckl0ZW1TY2hlbWEiLCJtb25nb29zZSIsIlNjaGVtYSIsIm5hbWUiLCJxdHkiLCJOdW1iZXIiLCJpbWFnZSIsInByaWNlIiwicHJvZHVjdCIsIlR5cGVzIiwiT2JqZWN0SWQiLCJyZWYiLCJvcmRlclNjaGVtYSIsInVzZXIiLCJvcmRlckl0ZW1zIiwic2hpcHBpbmciLCJwYXltZW50IiwiaXRlbXNQcmljZSIsInRheFByaWNlIiwic2hpcHBpbmdQcmljZSIsInRvdGFsUHJpY2UiLCJpc1BhaWQiLCJCb29sZWFuIiwiZGVmYXVsdCIsInBhaWRBdCIsIkRhdGUiLCJpc0RlbGl2ZXJlZCIsImRlbGl2ZXJlZEF0IiwidGltZXN0YW1wcyIsIm9yZGVyTW9kZWwiLCJtb2RlbCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7O0FBQ0EsTUFBTUEsY0FBYyxHQUFHO0FBQ3JCQyxFQUFBQSxPQUFPLEVBQUU7QUFBRUMsSUFBQUEsSUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxJQUFBQSxRQUFRLEVBQUU7QUFBMUIsR0FEWTtBQUVyQkMsRUFBQUEsSUFBSSxFQUFFO0FBQUVILElBQUFBLElBQUksRUFBRUMsTUFBUjtBQUFnQkMsSUFBQUEsUUFBUSxFQUFFO0FBQTFCLEdBRmU7QUFHckJFLEVBQUFBLFVBQVUsRUFBRTtBQUFFSixJQUFBQSxJQUFJLEVBQUVDLE1BQVI7QUFBZ0JDLElBQUFBLFFBQVEsRUFBRTtBQUExQixHQUhTO0FBSXJCRyxFQUFBQSxPQUFPLEVBQUU7QUFBRUwsSUFBQUEsSUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxJQUFBQSxRQUFRLEVBQUU7QUFBMUI7QUFKWSxDQUF2QjtBQU9BLE1BQU1JLGFBQWEsR0FBRztBQUNwQkMsRUFBQUEsYUFBYSxFQUFFO0FBQUVQLElBQUFBLElBQUksRUFBRUMsTUFBUjtBQUFnQkMsSUFBQUEsUUFBUSxFQUFFO0FBQTFCO0FBREssQ0FBdEI7QUFJQSxNQUFNTSxlQUFlLEdBQUcsSUFBSUMsa0JBQVNDLE1BQWIsQ0FBb0I7QUFDMUNDLEVBQUFBLElBQUksRUFBRTtBQUFFWCxJQUFBQSxJQUFJLEVBQUVDLE1BQVI7QUFBZ0JDLElBQUFBLFFBQVEsRUFBRTtBQUExQixHQURvQztBQUUxQ1UsRUFBQUEsR0FBRyxFQUFFO0FBQUVaLElBQUFBLElBQUksRUFBRWEsTUFBUjtBQUFnQlgsSUFBQUEsUUFBUSxFQUFFO0FBQTFCLEdBRnFDO0FBRzFDWSxFQUFBQSxLQUFLLEVBQUU7QUFBRWQsSUFBQUEsSUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxJQUFBQSxRQUFRLEVBQUU7QUFBMUIsR0FIbUM7QUFJMUNhLEVBQUFBLEtBQUssRUFBRTtBQUFFZixJQUFBQSxJQUFJLEVBQUVDLE1BQVI7QUFBZ0JDLElBQUFBLFFBQVEsRUFBRTtBQUExQixHQUptQztBQUsxQ2MsRUFBQUEsT0FBTyxFQUFFO0FBQ1BoQixJQUFBQSxJQUFJLEVBQUVTLGtCQUFTQyxNQUFULENBQWdCTyxLQUFoQixDQUFzQkMsUUFEckI7QUFFUEMsSUFBQUEsR0FBRyxFQUFFLFNBRkU7QUFHUGpCLElBQUFBLFFBQVEsRUFBRTtBQUhIO0FBTGlDLENBQXBCLENBQXhCO0FBWUEsTUFBTWtCLFdBQVcsR0FBRyxJQUFJWCxrQkFBU0MsTUFBYixDQUFvQjtBQUN0Q1csRUFBQUEsSUFBSSxFQUFFO0FBQUVyQixJQUFBQSxJQUFJLEVBQUVTLGtCQUFTQyxNQUFULENBQWdCTyxLQUFoQixDQUFzQkMsUUFBOUI7QUFBd0NDLElBQUFBLEdBQUcsRUFBRSxNQUE3QztBQUFxRGpCLElBQUFBLFFBQVEsRUFBRTtBQUEvRCxHQURnQztBQUV0Q29CLEVBQUFBLFVBQVUsRUFBRSxDQUFDZCxlQUFELENBRjBCO0FBR3RDZSxFQUFBQSxRQUFRLEVBQUV6QixjQUg0QjtBQUl0QzBCLEVBQUFBLE9BQU8sRUFBRWxCLGFBSjZCO0FBS3RDbUIsRUFBQUEsVUFBVSxFQUFFO0FBQUV6QixJQUFBQSxJQUFJLEVBQUVhO0FBQVIsR0FMMEI7QUFNdENhLEVBQUFBLFFBQVEsRUFBRTtBQUFFMUIsSUFBQUEsSUFBSSxFQUFFYTtBQUFSLEdBTjRCO0FBT3RDYyxFQUFBQSxhQUFhLEVBQUU7QUFBRTNCLElBQUFBLElBQUksRUFBRWE7QUFBUixHQVB1QjtBQVF0Q2UsRUFBQUEsVUFBVSxFQUFFO0FBQUU1QixJQUFBQSxJQUFJLEVBQUVhO0FBQVIsR0FSMEI7QUFTdENnQixFQUFBQSxNQUFNLEVBQUU7QUFBRTdCLElBQUFBLElBQUksRUFBRThCLE9BQVI7QUFBaUJDLElBQUFBLE9BQU8sRUFBRTtBQUExQixHQVQ4QjtBQVV0Q0MsRUFBQUEsTUFBTSxFQUFFO0FBQUVoQyxJQUFBQSxJQUFJLEVBQUVpQztBQUFSLEdBVjhCO0FBV3RDQyxFQUFBQSxXQUFXLEVBQUU7QUFBRWxDLElBQUFBLElBQUksRUFBRThCLE9BQVI7QUFBaUJDLElBQUFBLE9BQU8sRUFBRTtBQUExQixHQVh5QjtBQVl0Q0ksRUFBQUEsV0FBVyxFQUFFO0FBQUVuQyxJQUFBQSxJQUFJLEVBQUVpQztBQUFSO0FBWnlCLENBQXBCLEVBYWpCO0FBQ0RHLEVBQUFBLFVBQVUsRUFBRTtBQURYLENBYmlCLENBQXBCOztBQWlCQSxNQUFNQyxVQUFVLEdBQUc1QixrQkFBUzZCLEtBQVQsQ0FBZSxPQUFmLEVBQXdCbEIsV0FBeEIsQ0FBbkI7O2VBQ2VpQixVIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9NZS9EZXNrdG9wL1JlYWN0UHJvamVjdHMvbm9kZS1yZWFjdC1lY29tbWVyY2UtbWFzdGVyL2JhY2tlbmQvbW9kZWxzLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSc7XG5jb25zdCBzaGlwcGluZ1NjaGVtYSA9IHtcbiAgYWRkcmVzczogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gIGNpdHk6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxuICBwb3N0YWxDb2RlOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgY291bnRyeTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG59O1xuXG5jb25zdCBwYXltZW50U2NoZW1hID0ge1xuICBwYXltZW50TWV0aG9kOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfVxufTtcblxuY29uc3Qgb3JkZXJJdGVtU2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7XG4gIG5hbWU6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxuICBxdHk6IHsgdHlwZTogTnVtYmVyLCByZXF1aXJlZDogdHJ1ZSB9LFxuICBpbWFnZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gIHByaWNlOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgcHJvZHVjdDoge1xuICAgIHR5cGU6IG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5PYmplY3RJZCxcbiAgICByZWY6ICdQcm9kdWN0JyxcbiAgICByZXF1aXJlZDogdHJ1ZVxuICB9LFxufSk7XG5cbmNvbnN0IG9yZGVyU2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7XG4gIHVzZXI6IHsgdHlwZTogbW9uZ29vc2UuU2NoZW1hLlR5cGVzLk9iamVjdElkLCByZWY6ICdVc2VyJywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgb3JkZXJJdGVtczogW29yZGVySXRlbVNjaGVtYV0sXG4gIHNoaXBwaW5nOiBzaGlwcGluZ1NjaGVtYSxcbiAgcGF5bWVudDogcGF5bWVudFNjaGVtYSxcbiAgaXRlbXNQcmljZTogeyB0eXBlOiBOdW1iZXIgfSxcbiAgdGF4UHJpY2U6IHsgdHlwZTogTnVtYmVyIH0sXG4gIHNoaXBwaW5nUHJpY2U6IHsgdHlwZTogTnVtYmVyIH0sXG4gIHRvdGFsUHJpY2U6IHsgdHlwZTogTnVtYmVyIH0sXG4gIGlzUGFpZDogeyB0eXBlOiBCb29sZWFuLCBkZWZhdWx0OiBmYWxzZSB9LFxuICBwYWlkQXQ6IHsgdHlwZTogRGF0ZSB9LFxuICBpc0RlbGl2ZXJlZDogeyB0eXBlOiBCb29sZWFuLCBkZWZhdWx0OiBmYWxzZSB9LFxuICBkZWxpdmVyZWRBdDogeyB0eXBlOiBEYXRlIH0sXG59LCB7XG4gIHRpbWVzdGFtcHM6IHRydWVcbn0pO1xuXG5jb25zdCBvcmRlck1vZGVsID0gbW9uZ29vc2UubW9kZWwoXCJPcmRlclwiLCBvcmRlclNjaGVtYSk7XG5leHBvcnQgZGVmYXVsdCBvcmRlck1vZGVsOyJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "orderModel.js"
      ],
      "names": [
        "shippingSchema",
        "address",
        "type",
        "String",
        "required",
        "city",
        "postalCode",
        "country",
        "paymentSchema",
        "paymentMethod",
        "orderItemSchema",
        "mongoose",
        "Schema",
        "name",
        "qty",
        "Number",
        "image",
        "price",
        "product",
        "Types",
        "ObjectId",
        "ref",
        "orderSchema",
        "user",
        "orderItems",
        "shipping",
        "payment",
        "itemsPrice",
        "taxPrice",
        "shippingPrice",
        "totalPrice",
        "isPaid",
        "Boolean",
        "default",
        "paidAt",
        "Date",
        "isDelivered",
        "deliveredAt",
        "timestamps",
        "orderModel",
        "model"
      ],
      "mappings": ";;;;;;;AAAA;;;;AACA,MAAMA,cAAc,GAAG;AACrBC,EAAAA,OAAO,EAAE;AAAEC,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GADY;AAErBC,EAAAA,IAAI,EAAE;AAAEH,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAFe;AAGrBE,EAAAA,UAAU,EAAE;AAAEJ,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAHS;AAIrBG,EAAAA,OAAO,EAAE;AAAEL,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B;AAJY,CAAvB;AAOA,MAAMI,aAAa,GAAG;AACpBC,EAAAA,aAAa,EAAE;AAAEP,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B;AADK,CAAtB;AAIA,MAAMM,eAAe,GAAG,IAAIC,kBAASC,MAAb,CAAoB;AAC1CC,EAAAA,IAAI,EAAE;AAAEX,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GADoC;AAE1CU,EAAAA,GAAG,EAAE;AAAEZ,IAAAA,IAAI,EAAEa,MAAR;AAAgBX,IAAAA,QAAQ,EAAE;AAA1B,GAFqC;AAG1CY,EAAAA,KAAK,EAAE;AAAEd,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAHmC;AAI1Ca,EAAAA,KAAK,EAAE;AAAEf,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAJmC;AAK1Cc,EAAAA,OAAO,EAAE;AACPhB,IAAAA,IAAI,EAAES,kBAASC,MAAT,CAAgBO,KAAhB,CAAsBC,QADrB;AAEPC,IAAAA,GAAG,EAAE,SAFE;AAGPjB,IAAAA,QAAQ,EAAE;AAHH;AALiC,CAApB,CAAxB;AAYA,MAAMkB,WAAW,GAAG,IAAIX,kBAASC,MAAb,CAAoB;AACtCW,EAAAA,IAAI,EAAE;AAAErB,IAAAA,IAAI,EAAES,kBAASC,MAAT,CAAgBO,KAAhB,CAAsBC,QAA9B;AAAwCC,IAAAA,GAAG,EAAE,MAA7C;AAAqDjB,IAAAA,QAAQ,EAAE;AAA/D,GADgC;AAEtCoB,EAAAA,UAAU,EAAE,CAACd,eAAD,CAF0B;AAGtCe,EAAAA,QAAQ,EAAEzB,cAH4B;AAItC0B,EAAAA,OAAO,EAAElB,aAJ6B;AAKtCmB,EAAAA,UAAU,EAAE;AAAEzB,IAAAA,IAAI,EAAEa;AAAR,GAL0B;AAMtCa,EAAAA,QAAQ,EAAE;AAAE1B,IAAAA,IAAI,EAAEa;AAAR,GAN4B;AAOtCc,EAAAA,aAAa,EAAE;AAAE3B,IAAAA,IAAI,EAAEa;AAAR,GAPuB;AAQtCe,EAAAA,UAAU,EAAE;AAAE5B,IAAAA,IAAI,EAAEa;AAAR,GAR0B;AAStCgB,EAAAA,MAAM,EAAE;AAAE7B,IAAAA,IAAI,EAAE8B,OAAR;AAAiBC,IAAAA,OAAO,EAAE;AAA1B,GAT8B;AAUtCC,EAAAA,MAAM,EAAE;AAAEhC,IAAAA,IAAI,EAAEiC;AAAR,GAV8B;AAWtCC,EAAAA,WAAW,EAAE;AAAElC,IAAAA,IAAI,EAAE8B,OAAR;AAAiBC,IAAAA,OAAO,EAAE;AAA1B,GAXyB;AAYtCI,EAAAA,WAAW,EAAE;AAAEnC,IAAAA,IAAI,EAAEiC;AAAR;AAZyB,CAApB,EAajB;AACDG,EAAAA,UAAU,EAAE;AADX,CAbiB,CAApB;;AAiBA,MAAMC,UAAU,GAAG5B,kBAAS6B,KAAT,CAAe,OAAf,EAAwBlB,WAAxB,CAAnB;;eACeiB,U",
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master/backend/models/",
      "sourcesContent": [
        "import mongoose from 'mongoose';\nconst shippingSchema = {\n  address: { type: String, required: true },\n  city: { type: String, required: true },\n  postalCode: { type: String, required: true },\n  country: { type: String, required: true },\n};\n\nconst paymentSchema = {\n  paymentMethod: { type: String, required: true }\n};\n\nconst orderItemSchema = new mongoose.Schema({\n  name: { type: String, required: true },\n  qty: { type: Number, required: true },\n  image: { type: String, required: true },\n  price: { type: String, required: true },\n  product: {\n    type: mongoose.Schema.Types.ObjectId,\n    ref: 'Product',\n    required: true\n  },\n});\n\nconst orderSchema = new mongoose.Schema({\n  user: { type: mongoose.Schema.Types.ObjectId, ref: 'User', required: true },\n  orderItems: [orderItemSchema],\n  shipping: shippingSchema,\n  payment: paymentSchema,\n  itemsPrice: { type: Number },\n  taxPrice: { type: Number },\n  shippingPrice: { type: Number },\n  totalPrice: { type: Number },\n  isPaid: { type: Boolean, default: false },\n  paidAt: { type: Date },\n  isDelivered: { type: Boolean, default: false },\n  deliveredAt: { type: Date },\n}, {\n  timestamps: true\n});\n\nconst orderModel = mongoose.model(\"Order\", orderSchema);\nexport default orderModel;"
      ]
    },
    "sourceType": "script",
    "mtime": 1595823100000
  },
  "{\"sourceRoot\":\"/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master/backend/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master\",\"filename\":\"/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master/backend/routes/uploadRoute.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master/backend/routes/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master",
      "filename": "/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master/backend/routes/uploadRoute.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master/backend/routes/uploadRoute.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master/backend/routes/uploadRoute.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master/backend/routes/",
        "sourceFileName": "uploadRoute.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _multer = _interopRequireDefault(require(\"multer\"));\n\nvar _multerS = _interopRequireDefault(require(\"multer-s3\"));\n\nvar _awsSdk = _interopRequireDefault(require(\"aws-sdk\"));\n\nvar _config = _interopRequireDefault(require(\"../config\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst storage = _multer.default.diskStorage({\n  destination(req, file, cb) {\n    cb(null, 'uploads/');\n  },\n\n  filename(req, file, cb) {\n    cb(null, `${Date.now()}.jpg`);\n  }\n\n});\n\nconst upload = (0, _multer.default)({\n  storage\n});\n\nconst router = _express.default.Router();\n\nrouter.post('/', upload.single('image'), (req, res) => {\n  res.send(`/${req.file.path}`);\n});\n\n_awsSdk.default.config.update({\n  accessKeyId: _config.default.accessKeyId,\n  secretAccessKey: _config.default.secretAccessKey\n});\n\nconst s3 = new _awsSdk.default.S3();\nconst storageS3 = (0, _multerS.default)({\n  s3,\n  bucket: 'amazona-bucket',\n  acl: 'public-read',\n  contentType: _multerS.default.AUTO_CONTENT_TYPE,\n\n  key(req, file, cb) {\n    cb(null, file.originalname);\n  }\n\n});\nconst uploadS3 = (0, _multer.default)({\n  storage: storageS3\n});\nrouter.post('/s3', uploadS3.single('image'), (req, res) => {\n  res.send(req.file.location);\n});\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVwbG9hZFJvdXRlLmpzIl0sIm5hbWVzIjpbInN0b3JhZ2UiLCJtdWx0ZXIiLCJkaXNrU3RvcmFnZSIsImRlc3RpbmF0aW9uIiwicmVxIiwiZmlsZSIsImNiIiwiZmlsZW5hbWUiLCJEYXRlIiwibm93IiwidXBsb2FkIiwicm91dGVyIiwiZXhwcmVzcyIsIlJvdXRlciIsInBvc3QiLCJzaW5nbGUiLCJyZXMiLCJzZW5kIiwicGF0aCIsImF3cyIsImNvbmZpZyIsInVwZGF0ZSIsImFjY2Vzc0tleUlkIiwic2VjcmV0QWNjZXNzS2V5IiwiczMiLCJTMyIsInN0b3JhZ2VTMyIsImJ1Y2tldCIsImFjbCIsImNvbnRlbnRUeXBlIiwibXVsdGVyUzMiLCJBVVRPX0NPTlRFTlRfVFlQRSIsImtleSIsIm9yaWdpbmFsbmFtZSIsInVwbG9hZFMzIiwibG9jYXRpb24iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7OztBQUVBLE1BQU1BLE9BQU8sR0FBR0MsZ0JBQU9DLFdBQVAsQ0FBbUI7QUFDakNDLEVBQUFBLFdBQVcsQ0FBQ0MsR0FBRCxFQUFNQyxJQUFOLEVBQVlDLEVBQVosRUFBZ0I7QUFDekJBLElBQUFBLEVBQUUsQ0FBQyxJQUFELEVBQU8sVUFBUCxDQUFGO0FBQ0QsR0FIZ0M7O0FBSWpDQyxFQUFBQSxRQUFRLENBQUNILEdBQUQsRUFBTUMsSUFBTixFQUFZQyxFQUFaLEVBQWdCO0FBQ3RCQSxJQUFBQSxFQUFFLENBQUMsSUFBRCxFQUFRLEdBQUVFLElBQUksQ0FBQ0MsR0FBTCxFQUFXLE1BQXJCLENBQUY7QUFDRDs7QUFOZ0MsQ0FBbkIsQ0FBaEI7O0FBU0EsTUFBTUMsTUFBTSxHQUFHLHFCQUFPO0FBQUVWLEVBQUFBO0FBQUYsQ0FBUCxDQUFmOztBQUVBLE1BQU1XLE1BQU0sR0FBR0MsaUJBQVFDLE1BQVIsRUFBZjs7QUFFQUYsTUFBTSxDQUFDRyxJQUFQLENBQVksR0FBWixFQUFpQkosTUFBTSxDQUFDSyxNQUFQLENBQWMsT0FBZCxDQUFqQixFQUF5QyxDQUFDWCxHQUFELEVBQU1ZLEdBQU4sS0FBYztBQUNyREEsRUFBQUEsR0FBRyxDQUFDQyxJQUFKLENBQVUsSUFBR2IsR0FBRyxDQUFDQyxJQUFKLENBQVNhLElBQUssRUFBM0I7QUFDRCxDQUZEOztBQUlBQyxnQkFBSUMsTUFBSixDQUFXQyxNQUFYLENBQWtCO0FBQ2hCQyxFQUFBQSxXQUFXLEVBQUVGLGdCQUFPRSxXQURKO0FBRWhCQyxFQUFBQSxlQUFlLEVBQUVILGdCQUFPRztBQUZSLENBQWxCOztBQUlBLE1BQU1DLEVBQUUsR0FBRyxJQUFJTCxnQkFBSU0sRUFBUixFQUFYO0FBQ0EsTUFBTUMsU0FBUyxHQUFHLHNCQUFTO0FBQ3pCRixFQUFBQSxFQUR5QjtBQUV6QkcsRUFBQUEsTUFBTSxFQUFFLGdCQUZpQjtBQUd6QkMsRUFBQUEsR0FBRyxFQUFFLGFBSG9CO0FBSXpCQyxFQUFBQSxXQUFXLEVBQUVDLGlCQUFTQyxpQkFKRzs7QUFLekJDLEVBQUFBLEdBQUcsQ0FBQzVCLEdBQUQsRUFBTUMsSUFBTixFQUFZQyxFQUFaLEVBQWdCO0FBQ2pCQSxJQUFBQSxFQUFFLENBQUMsSUFBRCxFQUFPRCxJQUFJLENBQUM0QixZQUFaLENBQUY7QUFDRDs7QUFQd0IsQ0FBVCxDQUFsQjtBQVNBLE1BQU1DLFFBQVEsR0FBRyxxQkFBTztBQUFFbEMsRUFBQUEsT0FBTyxFQUFFMEI7QUFBWCxDQUFQLENBQWpCO0FBQ0FmLE1BQU0sQ0FBQ0csSUFBUCxDQUFZLEtBQVosRUFBbUJvQixRQUFRLENBQUNuQixNQUFULENBQWdCLE9BQWhCLENBQW5CLEVBQTZDLENBQUNYLEdBQUQsRUFBTVksR0FBTixLQUFjO0FBQ3pEQSxFQUFBQSxHQUFHLENBQUNDLElBQUosQ0FBU2IsR0FBRyxDQUFDQyxJQUFKLENBQVM4QixRQUFsQjtBQUNELENBRkQ7ZUFHZXhCLE0iLCJzb3VyY2VSb290IjoiL1VzZXJzL01lL0Rlc2t0b3AvUmVhY3RQcm9qZWN0cy9ub2RlLXJlYWN0LWVjb21tZXJjZS1tYXN0ZXIvYmFja2VuZC9yb3V0ZXMvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgbXVsdGVyIGZyb20gJ211bHRlcic7XG5pbXBvcnQgbXVsdGVyUzMgZnJvbSAnbXVsdGVyLXMzJztcbmltcG9ydCBhd3MgZnJvbSAnYXdzLXNkayc7XG5pbXBvcnQgY29uZmlnIGZyb20gJy4uL2NvbmZpZyc7XG5cbmNvbnN0IHN0b3JhZ2UgPSBtdWx0ZXIuZGlza1N0b3JhZ2Uoe1xuICBkZXN0aW5hdGlvbihyZXEsIGZpbGUsIGNiKSB7XG4gICAgY2IobnVsbCwgJ3VwbG9hZHMvJyk7XG4gIH0sXG4gIGZpbGVuYW1lKHJlcSwgZmlsZSwgY2IpIHtcbiAgICBjYihudWxsLCBgJHtEYXRlLm5vdygpfS5qcGdgKTtcbiAgfSxcbn0pO1xuXG5jb25zdCB1cGxvYWQgPSBtdWx0ZXIoeyBzdG9yYWdlIH0pO1xuXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xuXG5yb3V0ZXIucG9zdCgnLycsIHVwbG9hZC5zaW5nbGUoJ2ltYWdlJyksIChyZXEsIHJlcykgPT4ge1xuICByZXMuc2VuZChgLyR7cmVxLmZpbGUucGF0aH1gKTtcbn0pO1xuXG5hd3MuY29uZmlnLnVwZGF0ZSh7XG4gIGFjY2Vzc0tleUlkOiBjb25maWcuYWNjZXNzS2V5SWQsXG4gIHNlY3JldEFjY2Vzc0tleTogY29uZmlnLnNlY3JldEFjY2Vzc0tleSxcbn0pO1xuY29uc3QgczMgPSBuZXcgYXdzLlMzKCk7XG5jb25zdCBzdG9yYWdlUzMgPSBtdWx0ZXJTMyh7XG4gIHMzLFxuICBidWNrZXQ6ICdhbWF6b25hLWJ1Y2tldCcsXG4gIGFjbDogJ3B1YmxpYy1yZWFkJyxcbiAgY29udGVudFR5cGU6IG11bHRlclMzLkFVVE9fQ09OVEVOVF9UWVBFLFxuICBrZXkocmVxLCBmaWxlLCBjYikge1xuICAgIGNiKG51bGwsIGZpbGUub3JpZ2luYWxuYW1lKTtcbiAgfSxcbn0pO1xuY29uc3QgdXBsb2FkUzMgPSBtdWx0ZXIoeyBzdG9yYWdlOiBzdG9yYWdlUzMgfSk7XG5yb3V0ZXIucG9zdCgnL3MzJywgdXBsb2FkUzMuc2luZ2xlKCdpbWFnZScpLCAocmVxLCByZXMpID0+IHtcbiAgcmVzLnNlbmQocmVxLmZpbGUubG9jYXRpb24pO1xufSk7XG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "uploadRoute.js"
      ],
      "names": [
        "storage",
        "multer",
        "diskStorage",
        "destination",
        "req",
        "file",
        "cb",
        "filename",
        "Date",
        "now",
        "upload",
        "router",
        "express",
        "Router",
        "post",
        "single",
        "res",
        "send",
        "path",
        "aws",
        "config",
        "update",
        "accessKeyId",
        "secretAccessKey",
        "s3",
        "S3",
        "storageS3",
        "bucket",
        "acl",
        "contentType",
        "multerS3",
        "AUTO_CONTENT_TYPE",
        "key",
        "originalname",
        "uploadS3",
        "location"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;;;AAEA,MAAMA,OAAO,GAAGC,gBAAOC,WAAP,CAAmB;AACjCC,EAAAA,WAAW,CAACC,GAAD,EAAMC,IAAN,EAAYC,EAAZ,EAAgB;AACzBA,IAAAA,EAAE,CAAC,IAAD,EAAO,UAAP,CAAF;AACD,GAHgC;;AAIjCC,EAAAA,QAAQ,CAACH,GAAD,EAAMC,IAAN,EAAYC,EAAZ,EAAgB;AACtBA,IAAAA,EAAE,CAAC,IAAD,EAAQ,GAAEE,IAAI,CAACC,GAAL,EAAW,MAArB,CAAF;AACD;;AANgC,CAAnB,CAAhB;;AASA,MAAMC,MAAM,GAAG,qBAAO;AAAEV,EAAAA;AAAF,CAAP,CAAf;;AAEA,MAAMW,MAAM,GAAGC,iBAAQC,MAAR,EAAf;;AAEAF,MAAM,CAACG,IAAP,CAAY,GAAZ,EAAiBJ,MAAM,CAACK,MAAP,CAAc,OAAd,CAAjB,EAAyC,CAACX,GAAD,EAAMY,GAAN,KAAc;AACrDA,EAAAA,GAAG,CAACC,IAAJ,CAAU,IAAGb,GAAG,CAACC,IAAJ,CAASa,IAAK,EAA3B;AACD,CAFD;;AAIAC,gBAAIC,MAAJ,CAAWC,MAAX,CAAkB;AAChBC,EAAAA,WAAW,EAAEF,gBAAOE,WADJ;AAEhBC,EAAAA,eAAe,EAAEH,gBAAOG;AAFR,CAAlB;;AAIA,MAAMC,EAAE,GAAG,IAAIL,gBAAIM,EAAR,EAAX;AACA,MAAMC,SAAS,GAAG,sBAAS;AACzBF,EAAAA,EADyB;AAEzBG,EAAAA,MAAM,EAAE,gBAFiB;AAGzBC,EAAAA,GAAG,EAAE,aAHoB;AAIzBC,EAAAA,WAAW,EAAEC,iBAASC,iBAJG;;AAKzBC,EAAAA,GAAG,CAAC5B,GAAD,EAAMC,IAAN,EAAYC,EAAZ,EAAgB;AACjBA,IAAAA,EAAE,CAAC,IAAD,EAAOD,IAAI,CAAC4B,YAAZ,CAAF;AACD;;AAPwB,CAAT,CAAlB;AASA,MAAMC,QAAQ,GAAG,qBAAO;AAAElC,EAAAA,OAAO,EAAE0B;AAAX,CAAP,CAAjB;AACAf,MAAM,CAACG,IAAP,CAAY,KAAZ,EAAmBoB,QAAQ,CAACnB,MAAT,CAAgB,OAAhB,CAAnB,EAA6C,CAACX,GAAD,EAAMY,GAAN,KAAc;AACzDA,EAAAA,GAAG,CAACC,IAAJ,CAASb,GAAG,CAACC,IAAJ,CAAS8B,QAAlB;AACD,CAFD;eAGexB,M",
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master/backend/routes/",
      "sourcesContent": [
        "import express from 'express';\nimport multer from 'multer';\nimport multerS3 from 'multer-s3';\nimport aws from 'aws-sdk';\nimport config from '../config';\n\nconst storage = multer.diskStorage({\n  destination(req, file, cb) {\n    cb(null, 'uploads/');\n  },\n  filename(req, file, cb) {\n    cb(null, `${Date.now()}.jpg`);\n  },\n});\n\nconst upload = multer({ storage });\n\nconst router = express.Router();\n\nrouter.post('/', upload.single('image'), (req, res) => {\n  res.send(`/${req.file.path}`);\n});\n\naws.config.update({\n  accessKeyId: config.accessKeyId,\n  secretAccessKey: config.secretAccessKey,\n});\nconst s3 = new aws.S3();\nconst storageS3 = multerS3({\n  s3,\n  bucket: 'amazona-bucket',\n  acl: 'public-read',\n  contentType: multerS3.AUTO_CONTENT_TYPE,\n  key(req, file, cb) {\n    cb(null, file.originalname);\n  },\n});\nconst uploadS3 = multer({ storage: storageS3 });\nrouter.post('/s3', uploadS3.single('image'), (req, res) => {\n  res.send(req.file.location);\n});\nexport default router;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1595823100000
  },
  "{\"sourceRoot\":\"/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master/backend/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master\",\"filename\":\"/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master/backend/config.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master/backend/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master",
      "filename": "/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master/backend/config.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master/backend/config.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master/backend/config.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master/backend/",
        "sourceFileName": "config.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _dotenv = _interopRequireDefault(require(\"dotenv\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_dotenv.default.config();\n\nvar _default = {\n  PORT: process.env.PORT || 5000,\n  MONGODB_URL: process.env.MONGODB_URL || 'mongodb://localhost/amazona',\n  JWT_SECRET: process.env.JWT_SECRET || 'somethingsecret',\n  PAYPAL_CLIENT_ID: process.env.PAYPAL_CLIENT_ID || 'sb',\n  accessKeyId: process.env.accessKeyId || 'accessKeyId',\n  secretAccessKey: process.env.secretAccessKey || 'secretAccessKey'\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbmZpZy5qcyJdLCJuYW1lcyI6WyJkb3RlbnYiLCJjb25maWciLCJQT1JUIiwicHJvY2VzcyIsImVudiIsIk1PTkdPREJfVVJMIiwiSldUX1NFQ1JFVCIsIlBBWVBBTF9DTElFTlRfSUQiLCJhY2Nlc3NLZXlJZCIsInNlY3JldEFjY2Vzc0tleSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7O0FBRUFBLGdCQUFPQyxNQUFQOztlQUVlO0FBQ2JDLEVBQUFBLElBQUksRUFBRUMsT0FBTyxDQUFDQyxHQUFSLENBQVlGLElBQVosSUFBb0IsSUFEYjtBQUViRyxFQUFBQSxXQUFXLEVBQUVGLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxXQUFaLElBQTJCLDZCQUYzQjtBQUdiQyxFQUFBQSxVQUFVLEVBQUVILE9BQU8sQ0FBQ0MsR0FBUixDQUFZRSxVQUFaLElBQTBCLGlCQUh6QjtBQUliQyxFQUFBQSxnQkFBZ0IsRUFBRUosT0FBTyxDQUFDQyxHQUFSLENBQVlHLGdCQUFaLElBQWdDLElBSnJDO0FBS2JDLEVBQUFBLFdBQVcsRUFBRUwsT0FBTyxDQUFDQyxHQUFSLENBQVlJLFdBQVosSUFBMkIsYUFMM0I7QUFNYkMsRUFBQUEsZUFBZSxFQUFFTixPQUFPLENBQUNDLEdBQVIsQ0FBWUssZUFBWixJQUErQjtBQU5uQyxDIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9NZS9EZXNrdG9wL1JlYWN0UHJvamVjdHMvbm9kZS1yZWFjdC1lY29tbWVyY2UtbWFzdGVyL2JhY2tlbmQvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGRvdGVudiBmcm9tICdkb3RlbnYnO1xuXG5kb3RlbnYuY29uZmlnKCk7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgUE9SVDogcHJvY2Vzcy5lbnYuUE9SVCB8fCA1MDAwLFxuICBNT05HT0RCX1VSTDogcHJvY2Vzcy5lbnYuTU9OR09EQl9VUkwgfHwgJ21vbmdvZGI6Ly9sb2NhbGhvc3QvYW1hem9uYScsXG4gIEpXVF9TRUNSRVQ6IHByb2Nlc3MuZW52LkpXVF9TRUNSRVQgfHwgJ3NvbWV0aGluZ3NlY3JldCcsXG4gIFBBWVBBTF9DTElFTlRfSUQ6IHByb2Nlc3MuZW52LlBBWVBBTF9DTElFTlRfSUQgfHwgJ3NiJyxcbiAgYWNjZXNzS2V5SWQ6IHByb2Nlc3MuZW52LmFjY2Vzc0tleUlkIHx8ICdhY2Nlc3NLZXlJZCcsXG4gIHNlY3JldEFjY2Vzc0tleTogcHJvY2Vzcy5lbnYuc2VjcmV0QWNjZXNzS2V5IHx8ICdzZWNyZXRBY2Nlc3NLZXknLFxufTtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "config.js"
      ],
      "names": [
        "dotenv",
        "config",
        "PORT",
        "process",
        "env",
        "MONGODB_URL",
        "JWT_SECRET",
        "PAYPAL_CLIENT_ID",
        "accessKeyId",
        "secretAccessKey"
      ],
      "mappings": ";;;;;;;AAAA;;;;AAEAA,gBAAOC,MAAP;;eAEe;AACbC,EAAAA,IAAI,EAAEC,OAAO,CAACC,GAAR,CAAYF,IAAZ,IAAoB,IADb;AAEbG,EAAAA,WAAW,EAAEF,OAAO,CAACC,GAAR,CAAYC,WAAZ,IAA2B,6BAF3B;AAGbC,EAAAA,UAAU,EAAEH,OAAO,CAACC,GAAR,CAAYE,UAAZ,IAA0B,iBAHzB;AAIbC,EAAAA,gBAAgB,EAAEJ,OAAO,CAACC,GAAR,CAAYG,gBAAZ,IAAgC,IAJrC;AAKbC,EAAAA,WAAW,EAAEL,OAAO,CAACC,GAAR,CAAYI,WAAZ,IAA2B,aAL3B;AAMbC,EAAAA,eAAe,EAAEN,OAAO,CAACC,GAAR,CAAYK,eAAZ,IAA+B;AANnC,C",
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master/backend/",
      "sourcesContent": [
        "import dotenv from 'dotenv';\n\ndotenv.config();\n\nexport default {\n  PORT: process.env.PORT || 5000,\n  MONGODB_URL: process.env.MONGODB_URL || 'mongodb://localhost/amazona',\n  JWT_SECRET: process.env.JWT_SECRET || 'somethingsecret',\n  PAYPAL_CLIENT_ID: process.env.PAYPAL_CLIENT_ID || 'sb',\n  accessKeyId: process.env.accessKeyId || 'accessKeyId',\n  secretAccessKey: process.env.secretAccessKey || 'secretAccessKey',\n};\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1595823100000
  },
  "{\"sourceRoot\":\"/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master/backend/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master\",\"filename\":\"/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master/backend/routes/userRoute.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master/backend/routes/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master",
      "filename": "/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master/backend/routes/userRoute.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master/backend/routes/userRoute.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master/backend/routes/userRoute.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master/backend/routes/",
        "sourceFileName": "userRoute.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _userModel = _interopRequireDefault(require(\"../models/userModel\"));\n\nvar _util = require(\"../util\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst router = _express.default.Router();\n\nrouter.put('/:id', _util.isAuth, async (req, res) => {\n  const userId = req.params.id;\n  const user = await _userModel.default.findById(userId);\n\n  if (user) {\n    user.name = req.body.name || user.name;\n    user.email = req.body.email || user.email;\n    user.password = req.body.password || user.password;\n    const updatedUser = await user.save();\n    res.send({\n      _id: updatedUser.id,\n      name: updatedUser.name,\n      email: updatedUser.email,\n      isAdmin: updatedUser.isAdmin,\n      token: (0, _util.getToken)(updatedUser)\n    });\n  } else {\n    res.status(404).send({\n      message: 'User Not Found'\n    });\n  }\n});\nrouter.post('/signin', async (req, res) => {\n  const signinUser = await _userModel.default.findOne({\n    email: req.body.email,\n    password: req.body.password\n  });\n\n  if (signinUser) {\n    res.send({\n      _id: signinUser.id,\n      name: signinUser.name,\n      email: signinUser.email,\n      isAdmin: signinUser.isAdmin,\n      token: (0, _util.getToken)(signinUser)\n    });\n  } else {\n    res.status(401).send({\n      message: 'Invalid Email or Password.'\n    });\n  }\n});\nrouter.post('/register', async (req, res) => {\n  const user = new _userModel.default({\n    name: req.body.name,\n    email: req.body.email,\n    password: req.body.password\n  });\n  const newUser = await user.save();\n\n  if (newUser) {\n    res.send({\n      _id: newUser.id,\n      name: newUser.name,\n      email: newUser.email,\n      isAdmin: newUser.isAdmin,\n      token: (0, _util.getToken)(newUser)\n    });\n  } else {\n    res.status(401).send({\n      message: 'Invalid User Data.'\n    });\n  }\n});\nrouter.get('/createadmin', async (req, res) => {\n  try {\n    const user = new _userModel.default({\n      name: 'Basir',\n      email: 'admin@example.com',\n      password: '1234',\n      isAdmin: true\n    });\n    const newUser = await user.save();\n    res.send(newUser);\n  } catch (error) {\n    res.send({\n      message: error.message\n    });\n  }\n});\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJSb3V0ZS5qcyJdLCJuYW1lcyI6WyJyb3V0ZXIiLCJleHByZXNzIiwiUm91dGVyIiwicHV0IiwiaXNBdXRoIiwicmVxIiwicmVzIiwidXNlcklkIiwicGFyYW1zIiwiaWQiLCJ1c2VyIiwiVXNlciIsImZpbmRCeUlkIiwibmFtZSIsImJvZHkiLCJlbWFpbCIsInBhc3N3b3JkIiwidXBkYXRlZFVzZXIiLCJzYXZlIiwic2VuZCIsIl9pZCIsImlzQWRtaW4iLCJ0b2tlbiIsInN0YXR1cyIsIm1lc3NhZ2UiLCJwb3N0Iiwic2lnbmluVXNlciIsImZpbmRPbmUiLCJuZXdVc2VyIiwiZ2V0IiwiZXJyb3IiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7OztBQUVBLE1BQU1BLE1BQU0sR0FBR0MsaUJBQVFDLE1BQVIsRUFBZjs7QUFFQUYsTUFBTSxDQUFDRyxHQUFQLENBQVcsTUFBWCxFQUFtQkMsWUFBbkIsRUFBMkIsT0FBT0MsR0FBUCxFQUFZQyxHQUFaLEtBQW9CO0FBQzdDLFFBQU1DLE1BQU0sR0FBR0YsR0FBRyxDQUFDRyxNQUFKLENBQVdDLEVBQTFCO0FBQ0EsUUFBTUMsSUFBSSxHQUFHLE1BQU1DLG1CQUFLQyxRQUFMLENBQWNMLE1BQWQsQ0FBbkI7O0FBQ0EsTUFBSUcsSUFBSixFQUFVO0FBQ1JBLElBQUFBLElBQUksQ0FBQ0csSUFBTCxHQUFZUixHQUFHLENBQUNTLElBQUosQ0FBU0QsSUFBVCxJQUFpQkgsSUFBSSxDQUFDRyxJQUFsQztBQUNBSCxJQUFBQSxJQUFJLENBQUNLLEtBQUwsR0FBYVYsR0FBRyxDQUFDUyxJQUFKLENBQVNDLEtBQVQsSUFBa0JMLElBQUksQ0FBQ0ssS0FBcEM7QUFDQUwsSUFBQUEsSUFBSSxDQUFDTSxRQUFMLEdBQWdCWCxHQUFHLENBQUNTLElBQUosQ0FBU0UsUUFBVCxJQUFxQk4sSUFBSSxDQUFDTSxRQUExQztBQUNBLFVBQU1DLFdBQVcsR0FBRyxNQUFNUCxJQUFJLENBQUNRLElBQUwsRUFB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QUFBQSxJQUFJLEVBQUUsT0FEYztBQUVwQkUsTUFBQUEsS0FBSyxFQUFFLG1CQUZhO0FBR3BCQyxNQUFBQSxRQUFRLEVBQUUsTUFIVTtBQUlwQkssTUFBQUEsT0FBTyxFQUFFO0FBSlcsS0FBVCxDQUFiO0FBTUEsVUFBTU8sT0FBTyxHQUFHLE1BQU1sQixJQUFJLENBQUNRLElBQUwsRUFBdEI7QUFDQVosSUFBQUEsR0FBRyxDQUFDYSxJQUFKLENBQVNTLE9BQVQ7QUFDRCxHQVRELENBU0UsT0FBT0UsS0FBUCxFQUFjO0FBQ2R4QixJQUFBQSxHQUFHLENBQUNhLElBQUosQ0FBUztBQUFFSyxNQUFBQSxPQUFPLEVBQUVNLEtBQUssQ0FBQ047QUFBakIsS0FBVDtBQUNEO0FBQ0YsQ0FiRDtlQWVleEIsTSIsInNvdXJjZVJvb3QiOiIvVXNlcnMvTWUvRGVza3RvcC9SZWFjdFByb2plY3RzL25vZGUtcmVhY3QtZWNvbW1lcmNlLW1hc3Rlci9iYWNrZW5kL3JvdXRlcy8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcbmltcG9ydCBVc2VyIGZyb20gJy4uL21vZGVscy91c2VyTW9kZWwnO1xuaW1wb3J0IHsgZ2V0VG9rZW4sIGlzQXV0aCB9IGZyb20gJy4uL3V0aWwnO1xuXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xuXG5yb3V0ZXIucHV0KCcvOmlkJywgaXNBdXRoLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgY29uc3QgdXNlcklkID0gcmVxLnBhcmFtcy5pZDtcbiAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXIuZmluZEJ5SWQodXNlcklkKTtcbiAgaWYgKHVzZXIpIHtcbiAgICB1c2VyLm5hbWUgPSByZXEuYm9keS5uYW1lIHx8IHVzZXIubmFtZTtcbiAgICB1c2VyLmVtYWlsID0gcmVxLmJvZHkuZW1haWwgfHwgdXNlci5lbWFpbDtcbiAgICB1c2VyLnBhc3N3b3JkID0gcmVxLmJvZHkucGFzc3dvcmQgfHwgdXNlci5wYXNzd29yZDtcbiAgICBjb25zdCB1cGRhdGVkVXNlciA9IGF3YWl0IHVzZXIuc2F2ZSgpO1xuICAgIHJlcy5zZW5kKHtcbiAgICAgIF9pZDogdXBkYXRlZFVzZXIuaWQsXG4gICAgICBuYW1lOiB1cGRhdGVkVXNlci5uYW1lLFxuICAgICAgZW1haWw6IHVwZGF0ZWRVc2VyLmVtYWlsLFxuICAgICAgaXNBZG1pbjogdXBkYXRlZFVzZXIuaXNBZG1pbixcbiAgICAgIHRva2VuOiBnZXRUb2tlbih1cGRhdGVkVXNlciksXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoeyBtZXNzYWdlOiAnVXNlciBOb3QgRm91bmQnIH0pO1xuICB9XG59KTtcblxucm91dGVyLnBvc3QoJy9zaWduaW4nLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgY29uc3Qgc2lnbmluVXNlciA9IGF3YWl0IFVzZXIuZmluZE9uZSh7XG4gICAgZW1haWw6IHJlcS5ib2R5LmVtYWlsLFxuICAgIHBhc3N3b3JkOiByZXEuYm9keS5wYXNzd29yZCxcbiAgfSk7XG4gIGlmIChzaWduaW5Vc2VyKSB7XG4gICAgcmVzLnNlbmQoe1xuICAgICAgX2lkOiBzaWduaW5Vc2VyLmlkLFxuICAgICAgbmFtZTogc2lnbmluVXNlci5uYW1lLFxuICAgICAgZW1haWw6IHNpZ25pblVzZXIuZW1haWwsXG4gICAgICBpc0FkbWluOiBzaWduaW5Vc2VyLmlzQWRtaW4sXG4gICAgICB0b2tlbjogZ2V0VG9rZW4oc2lnbmluVXNlciksXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgcmVzLnN0YXR1cyg0MDEpLnNlbmQoeyBtZXNzYWdlOiAnSW52YWxpZCBFbWFpbCBvciBQYXNzd29yZC4nIH0pO1xuICB9XG59KTtcblxucm91dGVyLnBvc3QoJy9yZWdpc3RlcicsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICBjb25zdCB1c2VyID0gbmV3IFVzZXIoe1xuICAgIG5hbWU6IHJlcS5ib2R5Lm5hbWUsXG4gICAgZW1haWw6IHJlcS5ib2R5LmVtYWlsLFxuICAgIHBhc3N3b3JkOiByZXEuYm9keS5wYXNzd29yZCxcbiAgfSk7XG4gIGNvbnN0IG5ld1VzZXIgPSBhd2FpdCB1c2VyLnNhdmUoKTtcbiAgaWYgKG5ld1VzZXIpIHtcbiAgICByZXMuc2VuZCh7XG4gICAgICBfaWQ6IG5ld1VzZXIuaWQsXG4gICAgICBuYW1lOiBuZXdVc2VyLm5hbWUsXG4gICAgICBlbWFpbDogbmV3VXNlci5lbWFpbCxcbiAgICAgIGlzQWRtaW46IG5ld1VzZXIuaXNBZG1pbixcbiAgICAgIHRva2VuOiBnZXRUb2tlbihuZXdVc2VyKSxcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICByZXMuc3RhdHVzKDQwMSkuc2VuZCh7IG1lc3NhZ2U6ICdJbnZhbGlkIFVzZXIgRGF0YS4nIH0pO1xuICB9XG59KTtcblxucm91dGVyLmdldCgnL2NyZWF0ZWFkbWluJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgdXNlciA9IG5ldyBVc2VyKHtcbiAgICAgIG5hbWU6ICdCYXNpcicsXG4gICAgICBlbWFpbDogJ2FkbWluQGV4YW1wbGUuY29tJyxcbiAgICAgIHBhc3N3b3JkOiAnMTIzNCcsXG4gICAgICBpc0FkbWluOiB0cnVlLFxuICAgIH0pO1xuICAgIGNvbnN0IG5ld1VzZXIgPSBhd2FpdCB1c2VyLnNhdmUoKTtcbiAgICByZXMuc2VuZChuZXdVc2VyKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXMuc2VuZCh7IG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UgfSk7XG4gIH1cbn0pO1xuXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "userRoute.js"
      ],
      "names": [
        "router",
        "express",
        "Router",
        "put",
        "isAuth",
        "req",
        "res",
        "userId",
        "params",
        "id",
        "user",
        "User",
        "findById",
        "name",
        "body",
        "email",
        "password",
        "updatedUser",
        "save",
        "send",
        "_id",
        "isAdmin",
        "token",
        "status",
        "message",
        "post",
        "signinUser",
        "findOne",
        "newUser",
        "get",
        "error"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/node-react-ecommerce-master/backend/routes/",
      "sourcesContent": [
        "import express from 'express';\nimport User from '../models/userModel';\nimport { getToken, isAuth } from '../util';\n\nconst router = express.Router();\n\nrouter.put('/:id', isAuth, async (req, res) => {\n  const userId = req.params.id;\n  const user = await User.findById(userId);\n  if (user) {\n    user.name = req.body.name || user.name;\n    user.email = req.body.email || user.email;\n    user.password = req.body.password || user.password;\n    const updatedUser = await user.save();\n    res.send({\n      _id: updatedUser.id,\n      name: updatedUser.name,\n      email: updatedUser.email,\n      isAdmin: updatedUser.isAdmin,\n      token: getToken(updatedUser),\n    });\n  } else {\n    res.status(404).send({ message: 'User Not Found' });\n  }\n});\n\nrouter.post('/signin', async (req, res) => {\n  const signinUser = await User.findOne({\n    email: req.body.email,\n    password: req.body.password,\n  });\n  if (signinUser) {\n    res.send({\n      _id: signinUser.id,\n      name: signinUser.name,\n      email: signinUser.email,\n      isAdmin: signinUser.isAdmin,\n      token: getToken(signinUser),\n    });\n  } else {\n    res.status(401).send({ message: 'Invalid Email or Password.' });\n  }\n});\n\nrouter.post('/register', async (req, res) => {\n  const user = new User({\n    name: req.body.name,\n    email: req.body.email,\n    password: req.body.password,\n  });\n  const newUser = await user.save();\n  if (newUser) {\n    res.send({\n      _id: newUser.id,\n      name: newUser.name,\n      email: newUser.email,\n      isAdmin: newUser.isAdmin,\n      token: getToken(newUser),\n    });\n  } else {\n    res.status(401).send({ message: 'Invalid User Data.' });\n  }\n});\n\nrouter.get('/createadmin', async (req, res) => {\n  try {\n    const user = new User({\n      name: 'Basir',\n      email: 'admin@example.com',\n      password: '1234',\n      isAdmin: true,\n    });\n    const newUser = await user.save();\n    res.send(newUser);\n  } catch (error) {\n    res.send({ message: error.message });\n  }\n});\n\nexport default router;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1595823100000
  },
  "{\"sourceRoot\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop\",\"filename\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/server.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop",
      "filename": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/server.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/server.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/server.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/",
        "sourceFileName": "server.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nvar _dotenv = _interopRequireDefault(require(\"dotenv\"));\n\nvar _path = _interopRequireDefault(require(\"path\"));\n\nvar _productRouter = _interopRequireDefault(require(\"./routes/productRouter.js\"));\n\nvar _userRouter = _interopRequireDefault(require(\"./routes/userRouter.js\"));\n\nvar _orderRouter = _interopRequireDefault(require(\"./routes/orderRouter.js\"));\n\nvar _uploadRouter = _interopRequireDefault(require(\"./routes/uploadRouter.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_dotenv.default.config();\n\nconst app = (0, _express.default)();\napp.use(_express.default.json());\napp.use(_express.default.urlencoded({\n  extended: true\n}));\n\n_mongoose.default.connect(process.env.MONGODB_URL || 'mongodb://localhost/luxeshop', {\n  useNewUrlParser: true,\n  useUnifiedTopology: true,\n  useCreateIndex: true\n});\n\napp.use('/api/uploads', _uploadRouter.default);\napp.use('/api/users', _userRouter.default);\napp.use('/api/products', _productRouter.default);\napp.use('/api/orders', _orderRouter.default);\napp.get('/api/config/paypal', (req, res) => {\n  res.send(process.env.PAYPAL_CLIENT_ID || 'sb');\n});\n\nconst _dirname = _path.default.resolve();\n\napp.use('/uploads', _express.default.static(_path.default.join(_dirname, '/uploads')));\napp.use(_express.default.static(_path.default.join(_dirname, '/frontend/build')));\napp.get('*', (req, res) => res.sendFile(_path.default.join(_dirname, '/frontend/build/index.html')));\napp.use((err, req, res, next) => {\n  res.status(500).send({\n    message: err.message\n  });\n});\nconst port = process.env.PORT || 5000;\napp.listen(port, () => {\n  console.log(`Server started at http://localhost:${port}`);\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlcnZlci5qcyJdLCJuYW1lcyI6WyJkb3RlbnYiLCJjb25maWciLCJhcHAiLCJ1c2UiLCJleHByZXNzIiwianNvbiIsInVybGVuY29kZWQiLCJleHRlbmRlZCIsIm1vbmdvb3NlIiwiY29ubmVjdCIsInByb2Nlc3MiLCJlbnYiLCJNT05HT0RCX1VSTCIsInVzZU5ld1VybFBhcnNlciIsInVzZVVuaWZpZWRUb3BvbG9neSIsInVzZUNyZWF0ZUluZGV4IiwidXBsb2FkUm91dGVyIiwidXNlclJvdXRlciIsInByb2R1Y3RSb3V0ZXIiLCJvcmRlclJvdXRlciIsImdldCIsInJlcSIsInJlcyIsInNlbmQiLCJQQVlQQUxfQ0xJRU5UX0lEIiwiX19kaXJuYW1lIiwicGF0aCIsInJlc29sdmUiLCJzdGF0aWMiLCJqb2luIiwic2VuZEZpbGUiLCJlcnIiLCJuZXh0Iiwic3RhdHVzIiwibWVzc2FnZSIsInBvcnQiLCJQT1JUIiwibGlzdGVuIiwiY29uc29sZSIsImxvZyJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7OztBQUVBQSxnQkFBT0MsTUFBUDs7QUFFQSxNQUFNQyxHQUFHLEdBQUcsdUJBQVo7QUFDQUEsR0FBRyxDQUFDQyxHQUFKLENBQVFDLGlCQUFRQyxJQUFSLEVBQVI7QUFDQUgsR0FBRyxDQUFDQyxHQUFKLENBQVFDLGlCQUFRRSxVQUFSLENBQW1CO0FBQUVDLEVBQUFBLFFBQVEsRUFBRTtBQUFaLENBQW5CLENBQVI7O0FBRUFDLGtCQUFTQyxPQUFULENBQWlCQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsV0FBWixJQUEyQiw4QkFBNUMsRUFBNEU7QUFDMUVDLEVBQUFBLGVBQWUsRUFBRSxJQUR5RDtBQUUxRUMsRUFBQUEsa0JBQWtCLEVBQUUsSUFGc0Q7QUFHMUVDLEVBQUFBLGNBQWMsRUFBRTtBQUgwRCxDQUE1RTs7QUFLQWIsR0FBRyxDQUFDQyxHQUFKLENBQVEsY0FBUixFQUF3QmEscUJBQXhCO0FBQ0FkLEdBQUcsQ0FBQ0MsR0FBSixDQUFRLFlBQVIsRUFBc0JjLG1CQUF0QjtBQUNBZixHQUFHLENBQUNDLEdBQUosQ0FBUSxlQUFSLEVBQXlCZSxzQkFBekI7QUFDQWhCLEdBQUcsQ0FBQ0MsR0FBSixDQUFRLGFBQVIsRUFBdUJnQixvQkFBdkI7QUFDQWpCLEdBQUcsQ0FBQ2tCLEdBQUosQ0FBUSxvQkFBUixFQUE4QixDQUFDQyxHQUFELEVBQU1DLEdBQU4sS0FBYztBQUMxQ0EsRUFBQUEsR0FBRyxDQUFDQyxJQUFKLENBQVNiLE9BQU8sQ0FBQ0MsR0FBUixDQUFZYSxnQkFBWixJQUFnQyxJQUF6QztBQUNELENBRkQ7O0FBR0EsTUFBTUMsUUFBUyxHQUFHQyxjQUFLQyxPQUFMLEVBQWxCOztBQUNBekIsR0FBRyxDQUFDQyxHQUFKLENBQVEsVUFBUixFQUFvQkMsaUJBQVF3QixNQUFSLENBQWVGLGNBQUtHLElBQUwsQ0FBVUosUUFBVixFQUFxQixVQUFyQixDQUFmLENBQXBCO0FBQ0F2QixHQUFHLENBQUNDLEdBQUosQ0FBUUMsaUJBQVF3QixNQUFSLENBQWVGLGNBQUtHLElBQUwsQ0FBVUosUUFBVixFQUFxQixpQkFBckIsQ0FBZixDQUFSO0FBQ0F2QixHQUFHLENBQUNrQixHQUFKLENBQVEsR0FBUixFQUFhLENBQUNDLEdBQUQsRUFBTUMsR0FBTixLQUNYQSxHQUFHLENBQUNRLFFBQUosQ0FBYUosY0FBS0csSUFBTCxDQUFVSixRQUFWLEVBQXFCLDRCQUFyQixDQUFiLENBREY7QUFLQXZCLEdBQUcsQ0FBQ0MsR0FBSixDQUFRLENBQUM0QixHQUFELEVBQU1WLEdBQU4sRUFBV0MsR0FBWCxFQUFnQlUsSUFBaEIsS0FBeUI7QUFDL0JWLEVBQUFBLEdBQUcsQ0FBQ1csTUFBSixDQUFXLEdBQVgsRUFBZ0JWLElBQWhCLENBQXFCO0FBQUVXLElBQUFBLE9BQU8sRUFBRUgsR0FBRyxDQUFDRztBQUFmLEdBQXJCO0FBQ0QsQ0FGRDtBQUlBLE1BQU1DLElBQUksR0FBR3pCLE9BQU8sQ0FBQ0MsR0FBUixDQUFZeUIsSUFBWixJQUFvQixJQUFqQztBQUNBbEMsR0FBRyxDQUFDbUMsTUFBSixDQUFXRixJQUFYLEVBQWlCLE1BQU07QUFDckJHLEVBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFhLHNDQUFxQ0osSUFBSyxFQUF2RDtBQUNELENBRkQiLCJzb3VyY2VSb290IjoiL1VzZXJzL01lL0Rlc2t0b3AvUmVhY3RQcm9qZWN0cy9lY29tbS9sdXhlc2hvcC9iYWNrZW5kLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcbmltcG9ydCBkb3RlbnYgZnJvbSAnZG90ZW52JztcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xuaW1wb3J0IHByb2R1Y3RSb3V0ZXIgZnJvbSAnLi9yb3V0ZXMvcHJvZHVjdFJvdXRlci5qcyc7XG5pbXBvcnQgdXNlclJvdXRlciBmcm9tICcuL3JvdXRlcy91c2VyUm91dGVyLmpzJztcbmltcG9ydCBvcmRlclJvdXRlciBmcm9tICcuL3JvdXRlcy9vcmRlclJvdXRlci5qcyc7XG5pbXBvcnQgdXBsb2FkUm91dGVyIGZyb20gJy4vcm91dGVzL3VwbG9hZFJvdXRlci5qcyc7XG5cbmRvdGVudi5jb25maWcoKTtcblxuY29uc3QgYXBwID0gZXhwcmVzcygpO1xuYXBwLnVzZShleHByZXNzLmpzb24oKSk7XG5hcHAudXNlKGV4cHJlc3MudXJsZW5jb2RlZCh7IGV4dGVuZGVkOiB0cnVlIH0pKTtcblxubW9uZ29vc2UuY29ubmVjdChwcm9jZXNzLmVudi5NT05HT0RCX1VSTCB8fCAnbW9uZ29kYjovL2xvY2FsaG9zdC9sdXhlc2hvcCcsIHtcbiAgdXNlTmV3VXJsUGFyc2VyOiB0cnVlLFxuICB1c2VVbmlmaWVkVG9wb2xvZ3k6IHRydWUsXG4gIHVzZUNyZWF0ZUluZGV4OiB0cnVlLFxufSk7XG5hcHAudXNlKCcvYXBpL3VwbG9hZHMnLCB1cGxvYWRSb3V0ZXIpO1xuYXBwLnVzZSgnL2FwaS91c2VycycsIHVzZXJSb3V0ZXIpO1xuYXBwLnVzZSgnL2FwaS9wcm9kdWN0cycsIHByb2R1Y3RSb3V0ZXIpO1xuYXBwLnVzZSgnL2FwaS9vcmRlcnMnLCBvcmRlclJvdXRlcik7XG5hcHAuZ2V0KCcvYXBpL2NvbmZpZy9wYXlwYWwnLCAocmVxLCByZXMpID0+IHtcbiAgcmVzLnNlbmQocHJvY2Vzcy5lbnYuUEFZUEFMX0NMSUVOVF9JRCB8fCAnc2InKTtcbn0pO1xuY29uc3QgX19kaXJuYW1lID0gcGF0aC5yZXNvbHZlKCk7XG5hcHAudXNlKCcvdXBsb2FkcycsIGV4cHJlc3Muc3RhdGljKHBhdGguam9pbihfX2Rpcm5hbWUsICcvdXBsb2FkcycpKSk7XG5hcHAudXNlKGV4cHJlc3Muc3RhdGljKHBhdGguam9pbihfX2Rpcm5hbWUsICcvZnJvbnRlbmQvYnVpbGQnKSkpO1xuYXBwLmdldCgnKicsIChyZXEsIHJlcykgPT5cbiAgcmVzLnNlbmRGaWxlKHBhdGguam9pbihfX2Rpcm5hbWUsICcvZnJvbnRlbmQvYnVpbGQvaW5kZXguaHRtbCcpKVxuKTtcblxuXG5hcHAudXNlKChlcnIsIHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHsgbWVzc2FnZTogZXJyLm1lc3NhZ2UgfSk7XG59KTtcblxuY29uc3QgcG9ydCA9IHByb2Nlc3MuZW52LlBPUlQgfHwgNTAwMDtcbmFwcC5saXN0ZW4ocG9ydCwgKCkgPT4ge1xuICBjb25zb2xlLmxvZyhgU2VydmVyIHN0YXJ0ZWQgYXQgaHR0cDovL2xvY2FsaG9zdDoke3BvcnR9YCk7XG59KTtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "server.js"
      ],
      "names": [
        "dotenv",
        "config",
        "app",
        "use",
        "express",
        "json",
        "urlencoded",
        "extended",
        "mongoose",
        "connect",
        "process",
        "env",
        "MONGODB_URL",
        "useNewUrlParser",
        "useUnifiedTopology",
        "useCreateIndex",
        "uploadRouter",
        "userRouter",
        "productRouter",
        "orderRouter",
        "get",
        "req",
        "res",
        "send",
        "PAYPAL_CLIENT_ID",
        "__dirname",
        "path",
        "resolve",
        "static",
        "join",
        "sendFile",
        "err",
        "next",
        "status",
        "message",
        "port",
        "PORT",
        "listen",
        "console",
        "log"
      ],
      "mappings": ";;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;AAEAA,gBAAOC,MAAP;;AAEA,MAAMC,GAAG,GAAG,uBAAZ;AACAA,GAAG,CAACC,GAAJ,CAAQC,iBAAQC,IAAR,EAAR;AACAH,GAAG,CAACC,GAAJ,CAAQC,iBAAQE,UAAR,CAAmB;AAAEC,EAAAA,QAAQ,EAAE;AAAZ,CAAnB,CAAR;;AAEAC,kBAASC,OAAT,CAAiBC,OAAO,CAACC,GAAR,CAAYC,WAAZ,IAA2B,8BAA5C,EAA4E;AAC1EC,EAAAA,eAAe,EAAE,IADyD;AAE1EC,EAAAA,kBAAkB,EAAE,IAFsD;AAG1EC,EAAAA,cAAc,EAAE;AAH0D,CAA5E;;AAKAb,GAAG,CAACC,GAAJ,CAAQ,cAAR,EAAwBa,qBAAxB;AACAd,GAAG,CAACC,GAAJ,CAAQ,YAAR,EAAsBc,mBAAtB;AACAf,GAAG,CAACC,GAAJ,CAAQ,eAAR,EAAyBe,sBAAzB;AACAhB,GAAG,CAACC,GAAJ,CAAQ,aAAR,EAAuBgB,oBAAvB;AACAjB,GAAG,CAACkB,GAAJ,CAAQ,oBAAR,EAA8B,CAACC,GAAD,EAAMC,GAAN,KAAc;AAC1CA,EAAAA,GAAG,CAACC,IAAJ,CAASb,OAAO,CAACC,GAAR,CAAYa,gBAAZ,IAAgC,IAAzC;AACD,CAFD;;AAGA,MAAMC,QAAS,GAAGC,cAAKC,OAAL,EAAlB;;AACAzB,GAAG,CAACC,GAAJ,CAAQ,UAAR,EAAoBC,iBAAQwB,MAAR,CAAeF,cAAKG,IAAL,CAAUJ,QAAV,EAAqB,UAArB,CAAf,CAApB;AACAvB,GAAG,CAACC,GAAJ,CAAQC,iBAAQwB,MAAR,CAAeF,cAAKG,IAAL,CAAUJ,QAAV,EAAqB,iBAArB,CAAf,CAAR;AACAvB,GAAG,CAACkB,GAAJ,CAAQ,GAAR,EAAa,CAACC,GAAD,EAAMC,GAAN,KACXA,GAAG,CAACQ,QAAJ,CAAaJ,cAAKG,IAAL,CAAUJ,QAAV,EAAqB,4BAArB,CAAb,CADF;AAKAvB,GAAG,CAACC,GAAJ,CAAQ,CAAC4B,GAAD,EAAMV,GAAN,EAAWC,GAAX,EAAgBU,IAAhB,KAAyB;AAC/BV,EAAAA,GAAG,CAACW,MAAJ,CAAW,GAAX,EAAgBV,IAAhB,CAAqB;AAAEW,IAAAA,OAAO,EAAEH,GAAG,CAACG;AAAf,GAArB;AACD,CAFD;AAIA,MAAMC,IAAI,GAAGzB,OAAO,CAACC,GAAR,CAAYyB,IAAZ,IAAoB,IAAjC;AACAlC,GAAG,CAACmC,MAAJ,CAAWF,IAAX,EAAiB,MAAM;AACrBG,EAAAA,OAAO,CAACC,GAAR,CAAa,sCAAqCJ,IAAK,EAAvD;AACD,CAFD",
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/",
      "sourcesContent": [
        "import express from 'express';\nimport mongoose from 'mongoose';\nimport dotenv from 'dotenv';\nimport path from 'path';\nimport productRouter from './routes/productRouter.js';\nimport userRouter from './routes/userRouter.js';\nimport orderRouter from './routes/orderRouter.js';\nimport uploadRouter from './routes/uploadRouter.js';\n\ndotenv.config();\n\nconst app = express();\napp.use(express.json());\napp.use(express.urlencoded({ extended: true }));\n\nmongoose.connect(process.env.MONGODB_URL || 'mongodb://localhost/luxeshop', {\n  useNewUrlParser: true,\n  useUnifiedTopology: true,\n  useCreateIndex: true,\n});\napp.use('/api/uploads', uploadRouter);\napp.use('/api/users', userRouter);\napp.use('/api/products', productRouter);\napp.use('/api/orders', orderRouter);\napp.get('/api/config/paypal', (req, res) => {\n  res.send(process.env.PAYPAL_CLIENT_ID || 'sb');\n});\nconst __dirname = path.resolve();\napp.use('/uploads', express.static(path.join(__dirname, '/uploads')));\napp.use(express.static(path.join(__dirname, '/frontend/build')));\napp.get('*', (req, res) =>\n  res.sendFile(path.join(__dirname, '/frontend/build/index.html'))\n);\n\n\napp.use((err, req, res, next) => {\n  res.status(500).send({ message: err.message });\n});\n\nconst port = process.env.PORT || 5000;\napp.listen(port, () => {\n  console.log(`Server started at http://localhost:${port}`);\n});\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1607066219440
  },
  "{\"sourceRoot\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop\",\"filename\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/config.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop",
      "filename": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/config.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/config.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/config.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/",
        "sourceFileName": "config.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _dotenv = _interopRequireDefault(require(\"dotenv\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_dotenv.default.config();\n\nvar _default = {\n  PORT: process.env.PORT || 5000,\n  MONGODB_URL: process.env.MONGODB_URL || 'mongodb://localhost/amazona',\n  JWT_SECRET: process.env.JWT_SECRET || 'somethingsecret',\n  PAYPAL_CLIENT_ID: process.env.PAYPAL_CLIENT_ID || 'sb',\n  accessKeyId: process.env.accessKeyId || 'accessKeyId',\n  secretAccessKey: process.env.secretAccessKey || 'secretAccessKey'\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbmZpZy5qcyJdLCJuYW1lcyI6WyJkb3RlbnYiLCJjb25maWciLCJQT1JUIiwicHJvY2VzcyIsImVudiIsIk1PTkdPREJfVVJMIiwiSldUX1NFQ1JFVCIsIlBBWVBBTF9DTElFTlRfSUQiLCJhY2Nlc3NLZXlJZCIsInNlY3JldEFjY2Vzc0tleSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7O0FBRUFBLGdCQUFPQyxNQUFQOztlQUVlO0FBQ2JDLEVBQUFBLElBQUksRUFBRUMsT0FBTyxDQUFDQyxHQUFSLENBQVlGLElBQVosSUFBb0IsSUFEYjtBQUViRyxFQUFBQSxXQUFXLEVBQUVGLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxXQUFaLElBQTJCLDZCQUYzQjtBQUdiQyxFQUFBQSxVQUFVLEVBQUVILE9BQU8sQ0FBQ0MsR0FBUixDQUFZRSxVQUFaLElBQTBCLGlCQUh6QjtBQUliQyxFQUFBQSxnQkFBZ0IsRUFBRUosT0FBTyxDQUFDQyxHQUFSLENBQVlHLGdCQUFaLElBQWdDLElBSnJDO0FBS2JDLEVBQUFBLFdBQVcsRUFBRUwsT0FBTyxDQUFDQyxHQUFSLENBQVlJLFdBQVosSUFBMkIsYUFMM0I7QUFNYkMsRUFBQUEsZUFBZSxFQUFFTixPQUFPLENBQUNDLEdBQVIsQ0FBWUssZUFBWixJQUErQjtBQU5uQyxDIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9NZS9EZXNrdG9wL1JlYWN0UHJvamVjdHMvZWNvbW0vbHV4ZXNob3AvYmFja2VuZC8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZG90ZW52IGZyb20gJ2RvdGVudic7XG5cbmRvdGVudi5jb25maWcoKTtcblxuZXhwb3J0IGRlZmF1bHQge1xuICBQT1JUOiBwcm9jZXNzLmVudi5QT1JUIHx8IDUwMDAsXG4gIE1PTkdPREJfVVJMOiBwcm9jZXNzLmVudi5NT05HT0RCX1VSTCB8fCAnbW9uZ29kYjovL2xvY2FsaG9zdC9hbWF6b25hJyxcbiAgSldUX1NFQ1JFVDogcHJvY2Vzcy5lbnYuSldUX1NFQ1JFVCB8fCAnc29tZXRoaW5nc2VjcmV0JyxcbiAgUEFZUEFMX0NMSUVOVF9JRDogcHJvY2Vzcy5lbnYuUEFZUEFMX0NMSUVOVF9JRCB8fCAnc2InLFxuICBhY2Nlc3NLZXlJZDogcHJvY2Vzcy5lbnYuYWNjZXNzS2V5SWQgfHwgJ2FjY2Vzc0tleUlkJyxcbiAgc2VjcmV0QWNjZXNzS2V5OiBwcm9jZXNzLmVudi5zZWNyZXRBY2Nlc3NLZXkgfHwgJ3NlY3JldEFjY2Vzc0tleScsXG59O1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "config.js"
      ],
      "names": [
        "dotenv",
        "config",
        "PORT",
        "process",
        "env",
        "MONGODB_URL",
        "JWT_SECRET",
        "PAYPAL_CLIENT_ID",
        "accessKeyId",
        "secretAccessKey"
      ],
      "mappings": ";;;;;;;AAAA;;;;AAEAA,gBAAOC,MAAP;;eAEe;AACbC,EAAAA,IAAI,EAAEC,OAAO,CAACC,GAAR,CAAYF,IAAZ,IAAoB,IADb;AAEbG,EAAAA,WAAW,EAAEF,OAAO,CAACC,GAAR,CAAYC,WAAZ,IAA2B,6BAF3B;AAGbC,EAAAA,UAAU,EAAEH,OAAO,CAACC,GAAR,CAAYE,UAAZ,IAA0B,iBAHzB;AAIbC,EAAAA,gBAAgB,EAAEJ,OAAO,CAACC,GAAR,CAAYG,gBAAZ,IAAgC,IAJrC;AAKbC,EAAAA,WAAW,EAAEL,OAAO,CAACC,GAAR,CAAYI,WAAZ,IAA2B,aAL3B;AAMbC,EAAAA,eAAe,EAAEN,OAAO,CAACC,GAAR,CAAYK,eAAZ,IAA+B;AANnC,C",
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/",
      "sourcesContent": [
        "import dotenv from 'dotenv';\n\ndotenv.config();\n\nexport default {\n  PORT: process.env.PORT || 5000,\n  MONGODB_URL: process.env.MONGODB_URL || 'mongodb://localhost/amazona',\n  JWT_SECRET: process.env.JWT_SECRET || 'somethingsecret',\n  PAYPAL_CLIENT_ID: process.env.PAYPAL_CLIENT_ID || 'sb',\n  accessKeyId: process.env.accessKeyId || 'accessKeyId',\n  secretAccessKey: process.env.secretAccessKey || 'secretAccessKey',\n};\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1595823100000
  },
  "{\"sourceRoot\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop\",\"filename\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/userRoute.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop",
      "filename": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/userRoute.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/userRoute.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/userRoute.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/",
        "sourceFileName": "userRoute.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _expressAsyncHandler = _interopRequireDefault(require(\"express-async-handler\"));\n\nvar _bcryptjs = _interopRequireDefault(require(\"bcryptjs\"));\n\nvar _userModel = _interopRequireDefault(require(\"../schemas/userModel.js\"));\n\nvar _util = require(\"../util.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst userRouter = _express.default.Router();\n\nuserRouter.get('/top-sellers', (0, _expressAsyncHandler.default)(async (req, res) => {\n  const topSellers = await _userModel.default.find({\n    isSeller: true\n  }).sort({\n    'seller.rating': -1\n  }).limit(3);\n  res.send(topSellers);\n}));\nuserRouter.get('/seed', (0, _expressAsyncHandler.default)(async (req, res) => {\n  // await User.remove({});\n  const createdUsers = await _userModel.default.insertMany(data.users);\n  res.send({\n    createdUsers\n  });\n}));\nuserRouter.post('/signin', (0, _expressAsyncHandler.default)(async (req, res) => {\n  const user = await _userModel.default.findOne({\n    email: req.body.email\n  });\n\n  if (user) {\n    if (_bcryptjs.default.compareSync(req.body.password, user.password)) {\n      res.send({\n        _id: user._id,\n        name: user.name,\n        email: user.email,\n        isAdmin: user.isAdmin,\n        isSeller: user.isSeller,\n        token: (0, _util.generateToken)(user)\n      });\n      return;\n    }\n  }\n\n  res.status(401).send({\n    message: 'Invalid email or password'\n  });\n}));\nuserRouter.post('/register', (0, _expressAsyncHandler.default)(async (req, res) => {\n  const user = new _userModel.default({\n    name: req.body.name,\n    email: req.body.email,\n    password: _bcryptjs.default.hashSync(req.body.password, 8)\n  });\n  const createdUser = await user.save();\n  res.send({\n    _id: createdUser._id,\n    name: createdUser.name,\n    email: createdUser.email,\n    isAdmin: createdUser.isAdmin,\n    isSeller: user.isSeller,\n    token: (0, _util.generateToken)(createdUser)\n  });\n}));\nuserRouter.get('/:id', (0, _expressAsyncHandler.default)(async (req, res) => {\n  const user = await _userModel.default.findById(req.params.id);\n\n  if (user) {\n    res.send(user);\n  } else {\n    res.status(404).send({\n      message: 'User Not Found'\n    });\n  }\n}));\nuserRouter.put('/profile', _util.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const user = await _userModel.default.findById(req.user._id);\n\n  if (user) {\n    user.name = req.body.name || user.name;\n    user.email = req.body.email || user.email;\n\n    if (user.isSeller) {\n      user.seller.name = req.body.sellerName || user.seller.name;\n      user.seller.logo = req.body.sellerLogo || user.seller.logo;\n      user.seller.description = req.body.sellerDescription || user.seller.description;\n    }\n\n    if (req.body.password) {\n      user.password = _bcryptjs.default.hashSync(req.body.password, 8);\n    }\n\n    const updatedUser = await user.save();\n    res.send({\n      _id: updatedUser._id,\n      name: updatedUser.name,\n      email: updatedUser.email,\n      isAdmin: updatedUser.isAdmin,\n      isSeller: user.isSeller,\n      token: (0, _util.generateToken)(updatedUser)\n    });\n  }\n}));\nuserRouter.get('/', _util.isAuth, _util.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const users = await _userModel.default.find({});\n  res.send(users);\n}));\nuserRouter.delete('/:id', _util.isAuth, _util.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const user = await _userModel.default.findById(req.params.id);\n\n  if (user) {\n    if (user.email === 'admin@example.com') {\n      res.status(400).send({\n        message: 'Can Not Delete Admin User'\n      });\n      return;\n    }\n\n    const deleteUser = await user.remove();\n    res.send({\n      message: 'User Deleted',\n      user: deleteUser\n    });\n  } else {\n    res.status(404).send({\n      message: 'User Not Found'\n    });\n  }\n}));\nuserRouter.put('/:id', _util.isAuth, _util.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const user = await _userModel.default.findById(req.params.id);\n\n  if (user) {\n    user.name = req.body.name || user.name;\n    user.email = req.body.email || user.email;\n    user.isSeller = req.body.isSeller || user.isSeller;\n    user.isAdmin = req.body.isAdmin || user.isAdmin;\n    const updatedUser = await user.save();\n    res.send({\n      message: 'User Updated',\n      user: updatedUser\n    });\n  } else {\n    res.status(404).send({\n      message: 'User Not Found'\n    });\n  }\n}));\nvar _default = userRouter;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJSb3V0ZS5qcyJdLCJuYW1lcyI6WyJ1c2VyUm91dGVyIiwiZXhwcmVzcyIsIlJvdXRlciIsImdldCIsInJlcSIsInJlcyIsInRvcFNlbGxlcnMiLCJVc2VyIiwiZmluZCIsImlzU2VsbGVyIiwic29ydCIsImxpbWl0Iiwic2VuZCIsImNyZWF0ZWRVc2VycyIsImluc2VydE1hbnkiLCJkYXRhIiwidXNlcnMiLCJwb3N0IiwidXNlciIsImZpbmRPbmUiLCJlbWFpbCIsImJvZHkiLCJiY3J5cHQiLCJjb21wYXJlU3luYyIsInBhc3N3b3JkIiwiX2lkIiwibmFtZSIsImlzQWRtaW4iLCJ0b2tlbiIsInN0YXR1cyIsIm1lc3NhZ2UiLCJoYXNoU3luYyIsImNyZWF0ZWRVc2VyIiwic2F2ZSIsImZpbmRCeUlkIiwicGFyYW1zIiwiaWQiLCJwdXQiLCJpc0F1dGgiLCJzZWxsZXIiLCJzZWxsZXJOYW1lIiwibG9nbyIsInNlbGxlckxvZ28iLCJkZXNjcmlwdGlvbiIsInNlbGxlckRlc2NyaXB0aW9uIiwidXBkYXRlZFVzZXIiLCJkZWxldGUiLCJkZWxldGVVc2VyIiwicmVtb3ZlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7QUFFQSxNQUFNQSxVQUFVLEdBQUdDLGlCQUFRQyxNQUFSLEVBQW5COztBQUVBRixVQUFVLENBQUNHLEdBQVgsQ0FDRSxjQURGLEVBRUUsa0NBQW9CLE9BQU9DLEdBQVAsRUFBWUMsR0FBWixLQUFvQjtBQUN0QyxRQUFNQyxVQUFVLEdBQUcsTUFBTUMsbUJBQUtDLElBQUwsQ0FBVTtBQUFFQyxJQUFBQSxRQUFRLEVBQUU7QUFBWixHQUFWLEVBQ3RCQyxJQURzQixDQUNqQjtBQUFFLHFCQUFpQixDQUFDO0FBQXBCLEdBRGlCLEVBRXRCQyxLQUZzQixDQUVoQixDQUZnQixDQUF6QjtBQUdBTixFQUFBQSxHQUFHLENBQUNPLElBQUosQ0FBU04sVUFBVDtBQUNELENBTEQsQ0FGRjtBQVVBTixVQUFVLENBQUNHLEdBQVgsQ0FDRSxPQURGLEVBRUUsa0NBQW9CLE9BQU9DLEdBQVAsRUFBWUMsR0FBWixLQUFvQjtBQUN0QztBQUNBLFFBQU1RLFlBQVksR0FBRyxNQUFNTixtQkFBS08sVUFBTCxDQUFnQkMsSUFBSSxDQUFDQyxLQUFyQixDQUEzQjtBQUNBWCxFQUFBQSxHQUFHLENBQUNPLElBQUosQ0FBUztBQUFFQyxJQUFBQTtBQUFGLEdBQVQ7QUFDRCxDQUpELENBRkY7QUFTQWIsVUFBVSxDQUFDaUIsSUFBWCxDQUNFLFNBREYsRUFFRSxrQ0FBb0IsT0FBT2IsR0FBUCxFQUFZQyxHQUFaLEtBQW9CO0FBQ3RDLFFBQU1hLElBQUksR0FBRyxNQUFNWCxtQkFBS1ksT0FBTCxDQUFhO0FBQUVDLElBQUFBLEtBQUssRUFBRWhCLEdBQUcsQ0FBQ2lCLElBQUosQ0FBU0Q7QUFBbEIsR0FBYixDQUFuQjs7QUFDQSxNQUFJRixJQUFKLEVBQVU7QUFDUixRQUFJSSxrQkFBT0MsV0FBUCxDQUFtQm5CLEdBQUcsQ0FBQ2lCLElBQUosQ0FBU0csUUFBNUIsRUFBc0NOLElBQUksQ0FBQ00sUUFBM0MsQ0FBSixFQUEwRDtBQUN4RG5CLE1BQUFBLEdBQUcsQ0FBQ08sSUFBSixDQUFTO0FBQ1BhLFFBQUFBLEdBQUcsRUFBRVAsSUFBSSxDQUFDTyxHQURIO0FBRVBDLFFBQUFBLElBQUksRUFBRVIsSUFBSSxDQUFDUSxJQUZKO0FBR1BOLFFBQUFBLEtBQUssRUFBRUYsSUFBSSxDQUFDRSxLQUhMO0FBSVBPLFFBQUFBLE9BQU8sRUFBRVQsSUFBSSxDQUFDUyxPQUpQO0FBS1BsQixRQUFBQSxRQUFRLEVBQUVTLElBQUksQ0FBQ1QsUUFMUjtBQU1QbUIsUUFBQUEsS0FBSyxFQUFFLHlCQUFjVixJQUFkO0FBTkEsT0FBVDtBQVFBO0FBQ0Q7QUFDRjs7QUFDRGIsRUFBQUEsR0FBRyxDQUFDd0IsTUFBSixDQUFXLEdBQVgsRUFBZ0JqQixJQUFoQixDQUFxQjtBQUFFa0IsSUFBQUEsT0FBTyxFQUFFO0FBQVgsR0FBckI7QUFDRCxDQWhCRCxDQUZGO0FBcUJBOUIsVUFBVSxDQUFDaUIsSUFBWCxDQUNFLFdBREYsRUFFRSxrQ0FBb0IsT0FBT2IsR0FBUCxFQUFZQyxHQUFaLEtBQW9CO0FBQ3RDLFFBQU1hLElBQUksR0FBRyxJQUFJWCxrQkFBSixDQUFTO0FBQ3BCbUIsSUFBQUEsSUFBSSxFQUFFdEIsR0FBRyxDQUFDaUIsSUFBSixDQUFTSyxJQURLO0FBRXBCTixJQUFBQSxLQUFLLEVBQUVoQixHQUFHLENBQUNpQixJQUFKLENBQVNELEtBRkk7QUFHcEJJLElBQUFBLFFBQVEsRUFBRUYsa0JBQU9TLFFBQVAsQ0FBZ0IzQixHQUFHLENBQUNpQixJQUFKLENBQVNHLFFBQXpCLEVBQW1DLENBQW5DO0FBSFUsR0FBVCxDQUFiO0FBS0EsUUFBTVEsV0FBVyxHQUFHLE1BQU1kLElBQUksQ0FBQ2UsSUFBTCxFQUExQjtBQUNBNUIsRUFBQUEsR0FBRyxDQUFDTyxJQUFKLENBQVM7QUFDUGEsSUFBQUEsR0FBRyxFQUFFTyxXQUFXLENBQUNQLEdBRFY7QUFFUEMsSUFBQUEsSUFBSSxFQUFFTSxXQUFXLENBQUNOLElBRlg7QUFHUE4sSUFBQUEsS0FBSyxFQUFFWSxXQUFXLENBQUNaLEtBSFo7QUFJUE8sSUFBQUEsT0FBTyxFQUFFSyxXQUFXLENBQUNMLE9BSmQ7QUFLUGxCLElBQUFBLFFBQVEsRUFBRVMsSUFBSSxDQUFDVCxRQUxSO0FBTVBtQixJQUFBQSxLQUFLLEVBQUUseUJBQWNJLFdBQWQ7QUFOQSxHQUFUO0FBUUQsQ0FmRCxDQUZGO0FBb0JBaEMsVUFBVSxDQUFDRyxHQUFYLENBQ0UsTUFERixFQUVFLGtDQUFvQixPQUFPQyxHQUFQLEVBQVlDLEdBQVosS0FBb0I7QUFDdEMsUUFBTWEsSUFBSSxHQUFHLE1BQU1YLG1CQUFLMkIsUUFBTCxDQUFjOUIsR0FBRyxDQUFDK0IsTUFBSixDQUFXQyxFQUF6QixDQUFuQjs7QUFDQSxNQUFJbEIsSUFBSixFQUFVO0FBQ1JiLElBQUFBLEdBQUcsQ0FBQ08sSUFBSixDQUFTTSxJQUFUO0FBQ0QsR0FGRCxNQUVPO0FBQ0xiLElBQUFBLEdBQUcsQ0FBQ3dCLE1BQUosQ0FBVyxHQUFYLEVBQWdCakIsSUFBaEIsQ0FBcUI7QUFBRWtCLE1BQUFBLE9BQU8sRUFBRTtBQUFYLEtBQXJCO0FBQ0Q7QUFDRixDQVBELENBRkY7QUFXQTlCLFVBQVUsQ0FBQ3FDLEdBQVgsQ0FDRSxVQURGLEVBRUVDLFlBRkYsRUFHRSxrQ0FBb0IsT0FBT2xDLEdBQVAsRUFBWUMsR0FBWixLQUFvQjtBQUN0QyxRQUFNYSxJQUFJLEdBQUcsTUFBTVgsbUJBQUsyQixRQUFMLENBQWM5QixHQUFHLENBQUNjLElBQUosQ0FBU08sR0FBdkIsQ0FBbkI7O0FBQ0EsTUFBSVAsSUFBSixFQUFVO0FBQ1JBLElBQUFBLElBQUksQ0FBQ1EsSUFBTCxHQUFZdEIsR0FBRyxDQUFDaUIsSUFBSixDQUFTSyxJQUFULElBQWlCUixJQUFJLENBQUNRLElBQWxDO0FBQ0FSLElBQUFBLElBQUksQ0FBQ0UsS0FBTCxHQUFhaEIsR0FBRyxDQUFDaUIsSUFBSixDQUFTRCxLQUFULElBQWtCRixJQUFJLENBQUNFLEtBQXBDOztBQUNBLFFBQUlGLElBQUksQ0FBQ1QsUUFBVCxFQUFtQjtBQUNqQlMsTUFBQUEsSUFBSSxDQUFDcUIsTUFBTCxDQUFZYixJQUFaLEdBQW1CdEIsR0FBRyxDQUFDaUIsSUFBSixDQUFTbUIsVUFBVCxJQUF1QnRCLElBQUksQ0FBQ3FCLE1BQUwsQ0FBWWIsSUFBdEQ7QUFDQVIsTUFBQUEsSUFBSSxDQUFDcUIsTUFBTCxDQUFZRSxJQUFaLEdBQW1CckMsR0FBRyxDQUFDaUIsSUFBSixDQUFTcUIsVUFBVCxJQUF1QnhCLElBQUksQ0FBQ3FCLE1BQUwsQ0FBWUUsSUFBdEQ7QUFDQXZCLE1BQUFBLElBQUksQ0FBQ3FCLE1BQUwsQ0FBWUksV0FBWixHQUNFdkMsR0FBRyxDQUFDaUIsSUFBSixDQUFTdUIsaUJBQVQsSUFBOEIxQixJQUFJLENBQUNxQixNQUFMLENBQVlJLFdBRDVDO0FBRUQ7O0FBQ0QsUUFBSXZDLEdBQUcsQ0FBQ2lCLElBQUosQ0FBU0csUUFBYixFQUF1QjtBQUNyQk4sTUFBQUEsSUFBSSxDQUFDTSxRQUFMLEdBQWdCRixrQkFBT1MsUUFBUCxDQUFnQjNCLEdBQUcsQ0FBQ2lCLElBQUosQ0FBU0csUUFBekIsRUFBbUMsQ0FBbkMsQ0FBaEI7QUFDRDs7QUFDRCxVQUFNcUIsV0FBVyxHQUFHLE1BQU0zQixJQUFJLENBQUNlLElBQUwsRUFBMUI7QUFDQTVCLElBQUFBLEdBQUcsQ0FBQ08sSUFBSixDQUFTO0FBQ1BhLE1BQUFBLEdBQUcsRUFBRW9CLFdBQVcsQ0FBQ3BCLEdBRFY7QUFFUEMsTUFBQUEsSUFBSSxFQUFFbUIsV0FBVyxDQUFDbkIsSUFGWDtBQUdQTixNQUFBQSxLQUFLLEVBQUV5QixXQUFXLENBQUN6QixLQUhaO0FBSVBPLE1BQUFBLE9BQU8sRUFBRWtCLFdBQVcsQ0FBQ2xCLE9BSmQ7QUFLUGxCLE1BQUFBLFFBQVEsRUFBRVMsSUFBSSxDQUFDVCxRQUxSO0FBTVBtQixNQUFBQSxLQUFLLEVBQUUseUJBQWNpQixXQUFkO0FBTkEsS0FBVDtBQVFEO0FBQ0YsQ0F4QkQsQ0FIRjtBQThCQTdDLFVBQVUsQ0FBQ0csR0FBWCxDQUNFLEdBREYsRUFFRW1DLFlBRkYsRUFHRVgsYUFIRixFQUlFLGtDQUFvQixPQUFPdkIsR0FBUCxFQUFZQyxHQUFaLEtBQW9CO0FBQ3RDLFFBQU1XLEtBQUssR0FBRyxNQUFNVCxtQkFBS0MsSUFBTCxDQUFVLEVBQVYsQ0FBcEI7QUFDQUgsRUFBQUEsR0FBRyxDQUFDTyxJQUFKLENBQVNJLEtBQVQ7QUFDRCxDQUhELENBSkY7QUFVQWhCLFVBQVUsQ0FBQzhDLE1BQVgsQ0FDRSxNQURGLEVBRUVSLFlBRkYsRUFHRVgsYUFIRixFQUlFLGtDQUFvQixPQUFPdkIsR0FBUCxFQUFZQyxHQUFaLEtBQW9CO0FBQ3RDLFFBQU1hLElBQUksR0FBRyxNQUFNWCxtQkFBSzJCLFFBQUwsQ0FBYzlCLEdBQUcsQ0FBQytCLE1BQUosQ0FBV0MsRUFBekIsQ0FBbkI7O0FBQ0EsTUFBSWxCLElBQUosRUFBVTtBQUNSLFFBQUlBLElBQUksQ0FBQ0UsS0FBTCxLQUFlLG1CQUFuQixFQUF3QztBQUN0Q2YsTUFBQUEsR0FBRyxDQUFDd0IsTUFBSixDQUFXLEdBQVgsRUFBZ0JqQixJQUFoQixDQUFxQjtBQUFFa0IsUUFBQUEsT0FBTyxFQUFFO0FBQVgsT0FBckI7QUFDQTtBQUNEOztBQUNELFVBQU1pQixVQUFVLEdBQUcsTUFBTTdCLElBQUksQ0FBQzhCLE1BQUwsRUFBekI7QUFDQTNDLElBQUFBLEdBQUcsQ0FBQ08sSUFBSixDQUFTO0FBQUVrQixNQUFBQSxPQUFPLEVBQUUsY0FBWDtBQUEyQlosTUFBQUEsSUFBSSxFQUFFNkI7QUFBakMsS0FBVDtBQUNELEdBUEQsTUFPTztBQUNMMUMsSUFBQUEsR0FBRyxDQUFDd0IsTUFBSixDQUFXLEdBQVgsRUFBZ0JqQixJQUFoQixDQUFxQjtBQUFFa0IsTUFBQUEsT0FBTyxFQUFFO0FBQVgsS0FBckI7QUFDRDtBQUNGLENBWkQsQ0FKRjtBQW1CQTlCLFVBQVUsQ0FBQ3FDLEdBQVgsQ0FDRSxNQURGLEVBRUVDLFlBRkYsRUFHRVgsYUFIRixFQUlFLGtDQUFvQixPQUFPdkIsR0FBUCxFQUFZQyxHQUFaLEtBQW9CO0FBQ3RDLFFBQU1hLElBQUksR0FBRyxNQUFNWCxtQkFBSzJCLFFBQUwsQ0FBYzlCLEdBQUcsQ0FBQytCLE1BQUosQ0FBV0MsRUFBekIsQ0FBbkI7O0FBQ0EsTUFBSWxCLElBQUosRUFBVTtBQUNSQSxJQUFBQSxJQUFJLENBQUNRLElBQUwsR0FBWXRCLEdBQUcsQ0FBQ2lCLElBQUosQ0FBU0ssSUFBVCxJQUFpQlIsSUFBSSxDQUFDUSxJQUFsQztBQUNBUixJQUFBQSxJQUFJLENBQUNFLEtBQUwsR0FBYWhCLEdBQUcsQ0FBQ2lCLElBQUosQ0FBU0QsS0FBVCxJQUFrQkYsSUFBSSxDQUFDRSxLQUFwQztBQUNBRixJQUFBQSxJQUFJLENBQUNULFFBQUwsR0FBZ0JMLEdBQUcsQ0FBQ2lCLElBQUosQ0FBU1osUUFBVCxJQUFxQlMsSUFBSSxDQUFDVCxRQUExQztBQUNBUyxJQUFBQSxJQUFJLENBQUNTLE9BQUwsR0FBZXZCLEdBQUcsQ0FBQ2lCLElBQUosQ0FBU00sT0FBVCxJQUFvQlQsSUFBSSxDQUFDUyxPQUF4QztBQUNBLFVBQU1rQixXQUFXLEdBQUcsTUFBTTNCLElBQUksQ0FBQ2UsSUFBTCxFQUExQjtBQUNBNUIsSUFBQUEsR0FBRyxDQUFDTyxJQUFKLENBQVM7QUFBRWtCLE1BQUFBLE9BQU8sRUFBRSxjQUFYO0FBQTJCWixNQUFBQSxJQUFJLEVBQUUyQjtBQUFqQyxLQUFUO0FBQ0QsR0FQRCxNQU9PO0FBQ0x4QyxJQUFBQSxHQUFHLENBQUN3QixNQUFKLENBQVcsR0FBWCxFQUFnQmpCLElBQWhCLENBQXFCO0FBQUVrQixNQUFBQSxPQUFPLEVBQUU7QUFBWCxLQUFyQjtBQUNEO0FBQ0YsQ0FaRCxDQUpGO2VBb0JlOUIsVSIsInNvdXJjZVJvb3QiOiIvVXNlcnMvTWUvRGVza3RvcC9SZWFjdFByb2plY3RzL2Vjb21tL2x1eGVzaG9wL2JhY2tlbmQvcm91dGVzLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IGV4cHJlc3NBc3luY0hhbmRsZXIgZnJvbSAnZXhwcmVzcy1hc3luYy1oYW5kbGVyJztcbmltcG9ydCBiY3J5cHQgZnJvbSAnYmNyeXB0anMnO1xuaW1wb3J0IFVzZXIgZnJvbSAnLi4vc2NoZW1hcy91c2VyTW9kZWwuanMnO1xuaW1wb3J0IHsgZ2VuZXJhdGVUb2tlbiwgaXNBZG1pbiwgaXNBdXRoIH0gZnJvbSAnLi4vdXRpbC5qcyc7XG5cbmNvbnN0IHVzZXJSb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xuXG51c2VyUm91dGVyLmdldChcbiAgJy90b3Atc2VsbGVycycsXG4gIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc3QgdG9wU2VsbGVycyA9IGF3YWl0IFVzZXIuZmluZCh7IGlzU2VsbGVyOiB0cnVlIH0pXG4gICAgICAuc29ydCh7ICdzZWxsZXIucmF0aW5nJzogLTEgfSlcbiAgICAgIC5saW1pdCgzKTtcbiAgICByZXMuc2VuZCh0b3BTZWxsZXJzKTtcbiAgfSlcbik7XG5cbnVzZXJSb3V0ZXIuZ2V0KFxuICAnL3NlZWQnLFxuICBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIC8vIGF3YWl0IFVzZXIucmVtb3ZlKHt9KTtcbiAgICBjb25zdCBjcmVhdGVkVXNlcnMgPSBhd2FpdCBVc2VyLmluc2VydE1hbnkoZGF0YS51c2Vycyk7XG4gICAgcmVzLnNlbmQoeyBjcmVhdGVkVXNlcnMgfSk7XG4gIH0pXG4pO1xuXG51c2VyUm91dGVyLnBvc3QoXG4gICcvc2lnbmluJyxcbiAgZXhwcmVzc0FzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5maW5kT25lKHsgZW1haWw6IHJlcS5ib2R5LmVtYWlsIH0pO1xuICAgIGlmICh1c2VyKSB7XG4gICAgICBpZiAoYmNyeXB0LmNvbXBhcmVTeW5jKHJlcS5ib2R5LnBhc3N3b3JkLCB1c2VyLnBhc3N3b3JkKSkge1xuICAgICAgICByZXMuc2VuZCh7XG4gICAgICAgICAgX2lkOiB1c2VyLl9pZCxcbiAgICAgICAgICBuYW1lOiB1c2VyLm5hbWUsXG4gICAgICAgICAgZW1haWw6IHVzZXIuZW1haWwsXG4gICAgICAgICAgaXNBZG1pbjogdXNlci5pc0FkbWluLFxuICAgICAgICAgIGlzU2VsbGVyOiB1c2VyLmlzU2VsbGVyLFxuICAgICAgICAgIHRva2VuOiBnZW5lcmF0ZVRva2VuKHVzZXIpLFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICByZXMuc3RhdHVzKDQwMSkuc2VuZCh7IG1lc3NhZ2U6ICdJbnZhbGlkIGVtYWlsIG9yIHBhc3N3b3JkJyB9KTtcbiAgfSlcbik7XG5cbnVzZXJSb3V0ZXIucG9zdChcbiAgJy9yZWdpc3RlcicsXG4gIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc3QgdXNlciA9IG5ldyBVc2VyKHtcbiAgICAgIG5hbWU6IHJlcS5ib2R5Lm5hbWUsXG4gICAgICBlbWFpbDogcmVxLmJvZHkuZW1haWwsXG4gICAgICBwYXNzd29yZDogYmNyeXB0Lmhhc2hTeW5jKHJlcS5ib2R5LnBhc3N3b3JkLCA4KSxcbiAgICB9KTtcbiAgICBjb25zdCBjcmVhdGVkVXNlciA9IGF3YWl0IHVzZXIuc2F2ZSgpO1xuICAgIHJlcy5zZW5kKHtcbiAgICAgIF9pZDogY3JlYXRlZFVzZXIuX2lkLFxuICAgICAgbmFtZTogY3JlYXRlZFVzZXIubmFtZSxcbiAgICAgIGVtYWlsOiBjcmVhdGVkVXNlci5lbWFpbCxcbiAgICAgIGlzQWRtaW46IGNyZWF0ZWRVc2VyLmlzQWRtaW4sXG4gICAgICBpc1NlbGxlcjogdXNlci5pc1NlbGxlcixcbiAgICAgIHRva2VuOiBnZW5lcmF0ZVRva2VuKGNyZWF0ZWRVc2VyKSxcbiAgICB9KTtcbiAgfSlcbik7XG5cbnVzZXJSb3V0ZXIuZ2V0KFxuICAnLzppZCcsXG4gIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXIuZmluZEJ5SWQocmVxLnBhcmFtcy5pZCk7XG4gICAgaWYgKHVzZXIpIHtcbiAgICAgIHJlcy5zZW5kKHVzZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCh7IG1lc3NhZ2U6ICdVc2VyIE5vdCBGb3VuZCcgfSk7XG4gICAgfVxuICB9KVxuKTtcbnVzZXJSb3V0ZXIucHV0KFxuICAnL3Byb2ZpbGUnLFxuICBpc0F1dGgsXG4gIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXIuZmluZEJ5SWQocmVxLnVzZXIuX2lkKTtcbiAgICBpZiAodXNlcikge1xuICAgICAgdXNlci5uYW1lID0gcmVxLmJvZHkubmFtZSB8fCB1c2VyLm5hbWU7XG4gICAgICB1c2VyLmVtYWlsID0gcmVxLmJvZHkuZW1haWwgfHwgdXNlci5lbWFpbDtcbiAgICAgIGlmICh1c2VyLmlzU2VsbGVyKSB7XG4gICAgICAgIHVzZXIuc2VsbGVyLm5hbWUgPSByZXEuYm9keS5zZWxsZXJOYW1lIHx8IHVzZXIuc2VsbGVyLm5hbWU7XG4gICAgICAgIHVzZXIuc2VsbGVyLmxvZ28gPSByZXEuYm9keS5zZWxsZXJMb2dvIHx8IHVzZXIuc2VsbGVyLmxvZ287XG4gICAgICAgIHVzZXIuc2VsbGVyLmRlc2NyaXB0aW9uID1cbiAgICAgICAgICByZXEuYm9keS5zZWxsZXJEZXNjcmlwdGlvbiB8fCB1c2VyLnNlbGxlci5kZXNjcmlwdGlvbjtcbiAgICAgIH1cbiAgICAgIGlmIChyZXEuYm9keS5wYXNzd29yZCkge1xuICAgICAgICB1c2VyLnBhc3N3b3JkID0gYmNyeXB0Lmhhc2hTeW5jKHJlcS5ib2R5LnBhc3N3b3JkLCA4KTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHVwZGF0ZWRVc2VyID0gYXdhaXQgdXNlci5zYXZlKCk7XG4gICAgICByZXMuc2VuZCh7XG4gICAgICAgIF9pZDogdXBkYXRlZFVzZXIuX2lkLFxuICAgICAgICBuYW1lOiB1cGRhdGVkVXNlci5uYW1lLFxuICAgICAgICBlbWFpbDogdXBkYXRlZFVzZXIuZW1haWwsXG4gICAgICAgIGlzQWRtaW46IHVwZGF0ZWRVc2VyLmlzQWRtaW4sXG4gICAgICAgIGlzU2VsbGVyOiB1c2VyLmlzU2VsbGVyLFxuICAgICAgICB0b2tlbjogZ2VuZXJhdGVUb2tlbih1cGRhdGVkVXNlciksXG4gICAgICB9KTtcbiAgICB9XG4gIH0pXG4pO1xuXG51c2VyUm91dGVyLmdldChcbiAgJy8nLFxuICBpc0F1dGgsXG4gIGlzQWRtaW4sXG4gIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc3QgdXNlcnMgPSBhd2FpdCBVc2VyLmZpbmQoe30pO1xuICAgIHJlcy5zZW5kKHVzZXJzKTtcbiAgfSlcbik7XG5cbnVzZXJSb3V0ZXIuZGVsZXRlKFxuICAnLzppZCcsXG4gIGlzQXV0aCxcbiAgaXNBZG1pbixcbiAgZXhwcmVzc0FzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5maW5kQnlJZChyZXEucGFyYW1zLmlkKTtcbiAgICBpZiAodXNlcikge1xuICAgICAgaWYgKHVzZXIuZW1haWwgPT09ICdhZG1pbkBleGFtcGxlLmNvbScpIHtcbiAgICAgICAgcmVzLnN0YXR1cyg0MDApLnNlbmQoeyBtZXNzYWdlOiAnQ2FuIE5vdCBEZWxldGUgQWRtaW4gVXNlcicgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGRlbGV0ZVVzZXIgPSBhd2FpdCB1c2VyLnJlbW92ZSgpO1xuICAgICAgcmVzLnNlbmQoeyBtZXNzYWdlOiAnVXNlciBEZWxldGVkJywgdXNlcjogZGVsZXRlVXNlciB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoeyBtZXNzYWdlOiAnVXNlciBOb3QgRm91bmQnIH0pO1xuICAgIH1cbiAgfSlcbik7XG5cbnVzZXJSb3V0ZXIucHV0KFxuICAnLzppZCcsXG4gIGlzQXV0aCxcbiAgaXNBZG1pbixcbiAgZXhwcmVzc0FzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5maW5kQnlJZChyZXEucGFyYW1zLmlkKTtcbiAgICBpZiAodXNlcikge1xuICAgICAgdXNlci5uYW1lID0gcmVxLmJvZHkubmFtZSB8fCB1c2VyLm5hbWU7XG4gICAgICB1c2VyLmVtYWlsID0gcmVxLmJvZHkuZW1haWwgfHwgdXNlci5lbWFpbDtcbiAgICAgIHVzZXIuaXNTZWxsZXIgPSByZXEuYm9keS5pc1NlbGxlciB8fCB1c2VyLmlzU2VsbGVyO1xuICAgICAgdXNlci5pc0FkbWluID0gcmVxLmJvZHkuaXNBZG1pbiB8fCB1c2VyLmlzQWRtaW47XG4gICAgICBjb25zdCB1cGRhdGVkVXNlciA9IGF3YWl0IHVzZXIuc2F2ZSgpO1xuICAgICAgcmVzLnNlbmQoeyBtZXNzYWdlOiAnVXNlciBVcGRhdGVkJywgdXNlcjogdXBkYXRlZFVzZXIgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHsgbWVzc2FnZTogJ1VzZXIgTm90IEZvdW5kJyB9KTtcbiAgICB9XG4gIH0pXG4pO1xuXG5cbmV4cG9ydCBkZWZhdWx0IHVzZXJSb3V0ZXI7XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "userRoute.js"
      ],
      "names": [
        "userRouter",
        "express",
        "Router",
        "get",
        "req",
        "res",
        "topSellers",
        "User",
        "find",
        "isSeller",
        "sort",
        "limit",
        "send",
        "createdUsers",
        "insertMany",
        "data",
        "users",
        "post",
        "user",
        "findOne",
        "email",
        "body",
        "bcrypt",
        "compareSync",
        "password",
        "_id",
        "name",
        "isAdmin",
        "token",
        "status",
        "message",
        "hashSync",
        "createdUser",
        "save",
        "findById",
        "params",
        "id",
        "put",
        "isAuth",
        "seller",
        "sellerName",
        "logo",
        "sellerLogo",
        "description",
        "sellerDescription",
        "updatedUser",
        "delete",
        "deleteUser",
        "remove"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/",
      "sourcesContent": [
        "import express from 'express';\nimport expressAsyncHandler from 'express-async-handler';\nimport bcrypt from 'bcryptjs';\nimport User from '../schemas/userModel.js';\nimport { generateToken, isAdmin, isAuth } from '../util.js';\n\nconst userRouter = express.Router();\n\nuserRouter.get(\n  '/top-sellers',\n  expressAsyncHandler(async (req, res) => {\n    const topSellers = await User.find({ isSeller: true })\n      .sort({ 'seller.rating': -1 })\n      .limit(3);\n    res.send(topSellers);\n  })\n);\n\nuserRouter.get(\n  '/seed',\n  expressAsyncHandler(async (req, res) => {\n    // await User.remove({});\n    const createdUsers = await User.insertMany(data.users);\n    res.send({ createdUsers });\n  })\n);\n\nuserRouter.post(\n  '/signin',\n  expressAsyncHandler(async (req, res) => {\n    const user = await User.findOne({ email: req.body.email });\n    if (user) {\n      if (bcrypt.compareSync(req.body.password, user.password)) {\n        res.send({\n          _id: user._id,\n          name: user.name,\n          email: user.email,\n          isAdmin: user.isAdmin,\n          isSeller: user.isSeller,\n          token: generateToken(user),\n        });\n        return;\n      }\n    }\n    res.status(401).send({ message: 'Invalid email or password' });\n  })\n);\n\nuserRouter.post(\n  '/register',\n  expressAsyncHandler(async (req, res) => {\n    const user = new User({\n      name: req.body.name,\n      email: req.body.email,\n      password: bcrypt.hashSync(req.body.password, 8),\n    });\n    const createdUser = await user.save();\n    res.send({\n      _id: createdUser._id,\n      name: createdUser.name,\n      email: createdUser.email,\n      isAdmin: createdUser.isAdmin,\n      isSeller: user.isSeller,\n      token: generateToken(createdUser),\n    });\n  })\n);\n\nuserRouter.get(\n  '/:id',\n  expressAsyncHandler(async (req, res) => {\n    const user = await User.findById(req.params.id);\n    if (user) {\n      res.send(user);\n    } else {\n      res.status(404).send({ message: 'User Not Found' });\n    }\n  })\n);\nuserRouter.put(\n  '/profile',\n  isAuth,\n  expressAsyncHandler(async (req, res) => {\n    const user = await User.findById(req.user._id);\n    if (user) {\n      user.name = req.body.name || user.name;\n      user.email = req.body.email || user.email;\n      if (user.isSeller) {\n        user.seller.name = req.body.sellerName || user.seller.name;\n        user.seller.logo = req.body.sellerLogo || user.seller.logo;\n        user.seller.description =\n          req.body.sellerDescription || user.seller.description;\n      }\n      if (req.body.password) {\n        user.password = bcrypt.hashSync(req.body.password, 8);\n      }\n      const updatedUser = await user.save();\n      res.send({\n        _id: updatedUser._id,\n        name: updatedUser.name,\n        email: updatedUser.email,\n        isAdmin: updatedUser.isAdmin,\n        isSeller: user.isSeller,\n        token: generateToken(updatedUser),\n      });\n    }\n  })\n);\n\nuserRouter.get(\n  '/',\n  isAuth,\n  isAdmin,\n  expressAsyncHandler(async (req, res) => {\n    const users = await User.find({});\n    res.send(users);\n  })\n);\n\nuserRouter.delete(\n  '/:id',\n  isAuth,\n  isAdmin,\n  expressAsyncHandler(async (req, res) => {\n    const user = await User.findById(req.params.id);\n    if (user) {\n      if (user.email === 'admin@example.com') {\n        res.status(400).send({ message: 'Can Not Delete Admin User' });\n        return;\n      }\n      const deleteUser = await user.remove();\n      res.send({ message: 'User Deleted', user: deleteUser });\n    } else {\n      res.status(404).send({ message: 'User Not Found' });\n    }\n  })\n);\n\nuserRouter.put(\n  '/:id',\n  isAuth,\n  isAdmin,\n  expressAsyncHandler(async (req, res) => {\n    const user = await User.findById(req.params.id);\n    if (user) {\n      user.name = req.body.name || user.name;\n      user.email = req.body.email || user.email;\n      user.isSeller = req.body.isSeller || user.isSeller;\n      user.isAdmin = req.body.isAdmin || user.isAdmin;\n      const updatedUser = await user.save();\n      res.send({ message: 'User Updated', user: updatedUser });\n    } else {\n      res.status(404).send({ message: 'User Not Found' });\n    }\n  })\n);\n\n\nexport default userRouter;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1607065305527
  },
  "{\"sourceRoot\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop\",\"filename\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/models/userModel.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/models/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop",
      "filename": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/models/userModel.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/models/userModel.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/models/userModel.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/models/",
        "sourceFileName": "userModel.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst userSchema = new _mongoose.default.Schema({\n  name: {\n    type: String,\n    required: true\n  },\n  email: {\n    type: String,\n    required: true,\n    unique: true,\n    index: true,\n    dropDups: true\n  },\n  password: {\n    type: String,\n    required: true\n  },\n  isAdmin: {\n    type: Boolean,\n    required: true,\n    default: false\n  }\n});\n\nconst userModel = _mongoose.default.model('User', userSchema);\n\nvar _default = userModel;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJNb2RlbC5qcyJdLCJuYW1lcyI6WyJ1c2VyU2NoZW1hIiwibW9uZ29vc2UiLCJTY2hlbWEiLCJuYW1lIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwiZW1haWwiLCJ1bmlxdWUiLCJpbmRleCIsImRyb3BEdXBzIiwicGFzc3dvcmQiLCJpc0FkbWluIiwiQm9vbGVhbiIsImRlZmF1bHQiLCJ1c2VyTW9kZWwiLCJtb2RlbCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7O0FBRUEsTUFBTUEsVUFBVSxHQUFHLElBQUlDLGtCQUFTQyxNQUFiLENBQW9CO0FBQ3JDQyxFQUFBQSxJQUFJLEVBQUU7QUFBRUMsSUFBQUEsSUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxJQUFBQSxRQUFRLEVBQUU7QUFBMUIsR0FEK0I7QUFFckNDLEVBQUFBLEtBQUssRUFBRTtBQUNMSCxJQUFBQSxJQUFJLEVBQUVDLE1BREQ7QUFDU0MsSUFBQUEsUUFBUSxFQUFFLElBRG5CO0FBQ3lCRSxJQUFBQSxNQUFNLEVBQUUsSUFEakM7QUFDdUNDLElBQUFBLEtBQUssRUFBRSxJQUQ5QztBQUNvREMsSUFBQUEsUUFBUSxFQUFFO0FBRDlELEdBRjhCO0FBS3JDQyxFQUFBQSxRQUFRLEVBQUU7QUFBRVAsSUFBQUEsSUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxJQUFBQSxRQUFRLEVBQUU7QUFBMUIsR0FMMkI7QUFNckNNLEVBQUFBLE9BQU8sRUFBRTtBQUFFUixJQUFBQSxJQUFJLEVBQUVTLE9BQVI7QUFBaUJQLElBQUFBLFFBQVEsRUFBRSxJQUEzQjtBQUFpQ1EsSUFBQUEsT0FBTyxFQUFFO0FBQTFDO0FBTjRCLENBQXBCLENBQW5COztBQVNBLE1BQU1DLFNBQVMsR0FBR2Qsa0JBQVNlLEtBQVQsQ0FBZSxNQUFmLEVBQXVCaEIsVUFBdkIsQ0FBbEI7O2VBRWVlLFMiLCJzb3VyY2VSb290IjoiL1VzZXJzL01lL0Rlc2t0b3AvUmVhY3RQcm9qZWN0cy9lY29tbS9sdXhlc2hvcC9iYWNrZW5kL21vZGVscy8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xuXG5jb25zdCB1c2VyU2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7XG4gIG5hbWU6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxuICBlbWFpbDoge1xuICAgIHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUsIHVuaXF1ZTogdHJ1ZSwgaW5kZXg6IHRydWUsIGRyb3BEdXBzOiB0cnVlLFxuICB9LFxuICBwYXNzd29yZDogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gIGlzQWRtaW46IHsgdHlwZTogQm9vbGVhbiwgcmVxdWlyZWQ6IHRydWUsIGRlZmF1bHQ6IGZhbHNlIH0sXG59KTtcblxuY29uc3QgdXNlck1vZGVsID0gbW9uZ29vc2UubW9kZWwoJ1VzZXInLCB1c2VyU2NoZW1hKTtcblxuZXhwb3J0IGRlZmF1bHQgdXNlck1vZGVsO1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "userModel.js"
      ],
      "names": [
        "userSchema",
        "mongoose",
        "Schema",
        "name",
        "type",
        "String",
        "required",
        "email",
        "unique",
        "index",
        "dropDups",
        "password",
        "isAdmin",
        "Boolean",
        "default",
        "userModel",
        "model"
      ],
      "mappings": ";;;;;;;AAAA;;;;AAEA,MAAMA,UAAU,GAAG,IAAIC,kBAASC,MAAb,CAAoB;AACrCC,EAAAA,IAAI,EAAE;AAAEC,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAD+B;AAErCC,EAAAA,KAAK,EAAE;AACLH,IAAAA,IAAI,EAAEC,MADD;AACSC,IAAAA,QAAQ,EAAE,IADnB;AACyBE,IAAAA,MAAM,EAAE,IADjC;AACuCC,IAAAA,KAAK,EAAE,IAD9C;AACoDC,IAAAA,QAAQ,EAAE;AAD9D,GAF8B;AAKrCC,EAAAA,QAAQ,EAAE;AAAEP,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAL2B;AAMrCM,EAAAA,OAAO,EAAE;AAAER,IAAAA,IAAI,EAAES,OAAR;AAAiBP,IAAAA,QAAQ,EAAE,IAA3B;AAAiCQ,IAAAA,OAAO,EAAE;AAA1C;AAN4B,CAApB,CAAnB;;AASA,MAAMC,SAAS,GAAGd,kBAASe,KAAT,CAAe,MAAf,EAAuBhB,UAAvB,CAAlB;;eAEee,S",
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/models/",
      "sourcesContent": [
        "import mongoose from 'mongoose';\n\nconst userSchema = new mongoose.Schema({\n  name: { type: String, required: true },\n  email: {\n    type: String, required: true, unique: true, index: true, dropDups: true,\n  },\n  password: { type: String, required: true },\n  isAdmin: { type: Boolean, required: true, default: false },\n});\n\nconst userModel = mongoose.model('User', userSchema);\n\nexport default userModel;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1595823100000
  },
  "{\"sourceRoot\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop\",\"filename\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/util.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop",
      "filename": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/util.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/util.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/util.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/",
        "sourceFileName": "util.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isSellerOrAdmin = exports.isSeller = exports.isAdmin = exports.isAuth = exports.generateToken = void 0;\n\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst generateToken = user => {\n  return _jsonwebtoken.default.sign({\n    _id: user._id,\n    name: user.name,\n    email: user.email,\n    isAdmin: user.isAdmin,\n    isSeller: user.isSeller\n  }, process.env.JWT_SECRET || 'somethingsecret', {\n    expiresIn: '30d'\n  });\n};\n\nexports.generateToken = generateToken;\n\nconst isAuth = (req, res, next) => {\n  const authorization = req.headers.authorization;\n\n  if (authorization) {\n    const token = authorization.slice(7, authorization.length); // Bearer XXXXXX\n\n    _jsonwebtoken.default.verify(token, process.env.JWT_SECRET || 'somethingsecret', (err, decode) => {\n      if (err) {\n        res.status(401).send({\n          message: 'Invalid Token'\n        });\n      } else {\n        req.user = decode;\n        next();\n      }\n    });\n  } else {\n    res.status(401).send({\n      message: 'No Token'\n    });\n  }\n};\n\nexports.isAuth = isAuth;\n\nconst isAdmin = (req, res, next) => {\n  if (req.user && req.user.isAdmin) {\n    next();\n  } else {\n    res.status(401).send({\n      message: 'Invalid Admin Token'\n    });\n  }\n};\n\nexports.isAdmin = isAdmin;\n\nconst isSeller = (req, res, next) => {\n  if (req.user && req.user.isSeller) {\n    next();\n  } else {\n    res.status(401).send({\n      message: 'Invalid Seller Token'\n    });\n  }\n};\n\nexports.isSeller = isSeller;\n\nconst isSellerOrAdmin = (req, res, next) => {\n  if (req.user && (req.user.isSeller || req.user.isAdmin)) {\n    next();\n  } else {\n    res.status(401).send({\n      message: 'Invalid Admin/Seller Token'\n    });\n  }\n};\n\nexports.isSellerOrAdmin = isSellerOrAdmin;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInV0aWwuanMiXSwibmFtZXMiOlsiZ2VuZXJhdGVUb2tlbiIsInVzZXIiLCJqd3QiLCJzaWduIiwiX2lkIiwibmFtZSIsImVtYWlsIiwiaXNBZG1pbiIsImlzU2VsbGVyIiwicHJvY2VzcyIsImVudiIsIkpXVF9TRUNSRVQiLCJleHBpcmVzSW4iLCJpc0F1dGgiLCJyZXEiLCJyZXMiLCJuZXh0IiwiYXV0aG9yaXphdGlvbiIsImhlYWRlcnMiLCJ0b2tlbiIsInNsaWNlIiwibGVuZ3RoIiwidmVyaWZ5IiwiZXJyIiwiZGVjb2RlIiwic3RhdHVzIiwic2VuZCIsIm1lc3NhZ2UiLCJpc1NlbGxlck9yQWRtaW4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7OztBQUVPLE1BQU1BLGFBQWEsR0FBSUMsSUFBRCxJQUFVO0FBQ3JDLFNBQU9DLHNCQUFJQyxJQUFKLENBQ0w7QUFDRUMsSUFBQUEsR0FBRyxFQUFFSCxJQUFJLENBQUNHLEdBRFo7QUFFRUMsSUFBQUEsSUFBSSxFQUFFSixJQUFJLENBQUNJLElBRmI7QUFHRUMsSUFBQUEsS0FBSyxFQUFFTCxJQUFJLENBQUNLLEtBSGQ7QUFJRUMsSUFBQUEsT0FBTyxFQUFFTixJQUFJLENBQUNNLE9BSmhCO0FBS0VDLElBQUFBLFFBQVEsRUFBRVAsSUFBSSxDQUFDTztBQUxqQixHQURLLEVBUUxDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxVQUFaLElBQTBCLGlCQVJyQixFQVNMO0FBQ0VDLElBQUFBLFNBQVMsRUFBRTtBQURiLEdBVEssQ0FBUDtBQWFELENBZE07Ozs7QUFnQkEsTUFBTUMsTUFBTSxHQUFHLENBQUNDLEdBQUQsRUFBTUMsR0FBTixFQUFXQyxJQUFYLEtBQW9CO0FBQ3hDLFFBQU1DLGFBQWEsR0FBR0gsR0FBRyxDQUFDSSxPQUFKLENBQVlELGFBQWxDOztBQUNBLE1BQUlBLGFBQUosRUFBbUI7QUFDakIsVUFBTUUsS0FBSyxHQUFHRixhQUFhLENBQUNHLEtBQWQsQ0FBb0IsQ0FBcEIsRUFBdUJILGFBQWEsQ0FBQ0ksTUFBckMsQ0FBZCxDQURpQixDQUMyQzs7QUFDNURuQiwwQkFBSW9CLE1BQUosQ0FDRUgsS0FERixFQUVFVixPQUFPLENBQUNDLEdBQVIsQ0FBWUMsVUFBWixJQUEwQixpQkFGNUIsRUFHRSxDQUFDWSxHQUFELEVBQU1DLE1BQU4sS0FBaUI7QUFDZixVQUFJRCxHQUFKLEVBQVM7QUFDUFIsUUFBQUEsR0FBRyxDQUFDVSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBRUMsVUFBQUEsT0FBTyxFQUFFO0FBQVgsU0FBckI7QUFDRCxPQUZELE1BRU87QUFDTGIsUUFBQUEsR0FBRyxDQUFDYixJQUFKLEdBQVd1QixNQUFYO0FBQ0FSLFFBQUFBLElBQUk7QUFDTDtBQUNGLEtBVkg7QUFZRCxHQWRELE1BY087QUFDTEQsSUFBQUEsR0FBRyxDQUFDVSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBRUMsTUFBQUEsT0FBTyxFQUFFO0FBQVgsS0FBckI7QUFDRDtBQUNGLENBbkJNOzs7O0FBb0JBLE1BQU1wQixPQUFPLEdBQUcsQ0FBQ08sR0FBRCxFQUFNQyxHQUFOLEVBQVdDLElBQVgsS0FBb0I7QUFDekMsTUFBSUYsR0FBRyxDQUFDYixJQUFKLElBQVlhLEdBQUcsQ0FBQ2IsSUFBSixDQUFTTSxPQUF6QixFQUFrQztBQUNoQ1MsSUFBQUEsSUFBSTtBQUNMLEdBRkQsTUFFTztBQUNMRCxJQUFBQSxHQUFHLENBQUNVLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFFQyxNQUFBQSxPQUFPLEVBQUU7QUFBWCxLQUFyQjtBQUNEO0FBQ0YsQ0FOTTs7OztBQU9BLE1BQU1uQixRQUFRLEdBQUcsQ0FBQ00sR0FBRCxFQUFNQyxHQUFOLEVBQVdDLElBQVgsS0FBb0I7QUFDMUMsTUFBSUYsR0FBRyxDQUFDYixJQUFKLElBQVlhLEdBQUcsQ0FBQ2IsSUFBSixDQUFTTyxRQUF6QixFQUFtQztBQUNqQ1EsSUFBQUEsSUFBSTtBQUNMLEdBRkQsTUFFTztBQUNMRCxJQUFBQSxHQUFHLENBQUNVLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFFQyxNQUFBQSxPQUFPLEVBQUU7QUFBWCxLQUFyQjtBQUNEO0FBQ0YsQ0FOTTs7OztBQU9BLE1BQU1DLGVBQWUsR0FBRyxDQUFDZCxHQUFELEVBQU1DLEdBQU4sRUFBV0MsSUFBWCxLQUFvQjtBQUNqRCxNQUFJRixHQUFHLENBQUNiLElBQUosS0FBYWEsR0FBRyxDQUFDYixJQUFKLENBQVNPLFFBQVQsSUFBcUJNLEdBQUcsQ0FBQ2IsSUFBSixDQUFTTSxPQUEzQyxDQUFKLEVBQXlEO0FBQ3ZEUyxJQUFBQSxJQUFJO0FBQ0wsR0FGRCxNQUVPO0FBQ0xELElBQUFBLEdBQUcsQ0FBQ1UsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUVDLE1BQUFBLE9BQU8sRUFBRTtBQUFYLEtBQXJCO0FBQ0Q7QUFDRixDQU5NIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9NZS9EZXNrdG9wL1JlYWN0UHJvamVjdHMvZWNvbW0vbHV4ZXNob3AvYmFja2VuZC8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgand0IGZyb20gJ2pzb253ZWJ0b2tlbic7XG5cbmV4cG9ydCBjb25zdCBnZW5lcmF0ZVRva2VuID0gKHVzZXIpID0+IHtcbiAgcmV0dXJuIGp3dC5zaWduKFxuICAgIHtcbiAgICAgIF9pZDogdXNlci5faWQsXG4gICAgICBuYW1lOiB1c2VyLm5hbWUsXG4gICAgICBlbWFpbDogdXNlci5lbWFpbCxcbiAgICAgIGlzQWRtaW46IHVzZXIuaXNBZG1pbixcbiAgICAgIGlzU2VsbGVyOiB1c2VyLmlzU2VsbGVyLFxuICAgIH0sXG4gICAgcHJvY2Vzcy5lbnYuSldUX1NFQ1JFVCB8fCAnc29tZXRoaW5nc2VjcmV0JyxcbiAgICB7XG4gICAgICBleHBpcmVzSW46ICczMGQnLFxuICAgIH1cbiAgKTtcbn07XG5cbmV4cG9ydCBjb25zdCBpc0F1dGggPSAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgY29uc3QgYXV0aG9yaXphdGlvbiA9IHJlcS5oZWFkZXJzLmF1dGhvcml6YXRpb247XG4gIGlmIChhdXRob3JpemF0aW9uKSB7XG4gICAgY29uc3QgdG9rZW4gPSBhdXRob3JpemF0aW9uLnNsaWNlKDcsIGF1dGhvcml6YXRpb24ubGVuZ3RoKTsgLy8gQmVhcmVyIFhYWFhYWFxuICAgIGp3dC52ZXJpZnkoXG4gICAgICB0b2tlbixcbiAgICAgIHByb2Nlc3MuZW52LkpXVF9TRUNSRVQgfHwgJ3NvbWV0aGluZ3NlY3JldCcsXG4gICAgICAoZXJyLCBkZWNvZGUpID0+IHtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgIHJlcy5zdGF0dXMoNDAxKS5zZW5kKHsgbWVzc2FnZTogJ0ludmFsaWQgVG9rZW4nIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlcS51c2VyID0gZGVjb2RlO1xuICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgcmVzLnN0YXR1cyg0MDEpLnNlbmQoeyBtZXNzYWdlOiAnTm8gVG9rZW4nIH0pO1xuICB9XG59O1xuZXhwb3J0IGNvbnN0IGlzQWRtaW4gPSAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgaWYgKHJlcS51c2VyICYmIHJlcS51c2VyLmlzQWRtaW4pIHtcbiAgICBuZXh0KCk7XG4gIH0gZWxzZSB7XG4gICAgcmVzLnN0YXR1cyg0MDEpLnNlbmQoeyBtZXNzYWdlOiAnSW52YWxpZCBBZG1pbiBUb2tlbicgfSk7XG4gIH1cbn07XG5leHBvcnQgY29uc3QgaXNTZWxsZXIgPSAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgaWYgKHJlcS51c2VyICYmIHJlcS51c2VyLmlzU2VsbGVyKSB7XG4gICAgbmV4dCgpO1xuICB9IGVsc2Uge1xuICAgIHJlcy5zdGF0dXMoNDAxKS5zZW5kKHsgbWVzc2FnZTogJ0ludmFsaWQgU2VsbGVyIFRva2VuJyB9KTtcbiAgfVxufTtcbmV4cG9ydCBjb25zdCBpc1NlbGxlck9yQWRtaW4gPSAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgaWYgKHJlcS51c2VyICYmIChyZXEudXNlci5pc1NlbGxlciB8fCByZXEudXNlci5pc0FkbWluKSkge1xuICAgIG5leHQoKTtcbiAgfSBlbHNlIHtcbiAgICByZXMuc3RhdHVzKDQwMSkuc2VuZCh7IG1lc3NhZ2U6ICdJbnZhbGlkIEFkbWluL1NlbGxlciBUb2tlbicgfSk7XG4gIH1cbn07XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "util.js"
      ],
      "names": [
        "generateToken",
        "user",
        "jwt",
        "sign",
        "_id",
        "name",
        "email",
        "isAdmin",
        "isSeller",
        "process",
        "env",
        "JWT_SECRET",
        "expiresIn",
        "isAuth",
        "req",
        "res",
        "next",
        "authorization",
        "headers",
        "token",
        "slice",
        "length",
        "verify",
        "err",
        "decode",
        "status",
        "send",
        "message",
        "isSellerOrAdmin"
      ],
      "mappings": ";;;;;;;AAAA;;;;AAEO,MAAMA,aAAa,GAAIC,IAAD,IAAU;AACrC,SAAOC,sBAAIC,IAAJ,CACL;AACEC,IAAAA,GAAG,EAAEH,IAAI,CAACG,GADZ;AAEEC,IAAAA,IAAI,EAAEJ,IAAI,CAACI,IAFb;AAGEC,IAAAA,KAAK,EAAEL,IAAI,CAACK,KAHd;AAIEC,IAAAA,OAAO,EAAEN,IAAI,CAACM,OAJhB;AAKEC,IAAAA,QAAQ,EAAEP,IAAI,CAACO;AALjB,GADK,EAQLC,OAAO,CAACC,GAAR,CAAYC,UAAZ,IAA0B,iBARrB,EASL;AACEC,IAAAA,SAAS,EAAE;AADb,GATK,CAAP;AAaD,CAdM;;;;AAgBA,MAAMC,MAAM,GAAG,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;AACxC,QAAMC,aAAa,GAAGH,GAAG,CAACI,OAAJ,CAAYD,aAAlC;;AACA,MAAIA,aAAJ,EAAmB;AACjB,UAAME,KAAK,GAAGF,aAAa,CAACG,KAAd,CAAoB,CAApB,EAAuBH,aAAa,CAACI,MAArC,CAAd,CADiB,CAC2C;;AAC5DnB,0BAAIoB,MAAJ,CACEH,KADF,EAEEV,OAAO,CAACC,GAAR,CAAYC,UAAZ,IAA0B,iBAF5B,EAGE,CAACY,GAAD,EAAMC,MAAN,KAAiB;AACf,UAAID,GAAJ,EAAS;AACPR,QAAAA,GAAG,CAACU,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,UAAAA,OAAO,EAAE;AAAX,SAArB;AACD,OAFD,MAEO;AACLb,QAAAA,GAAG,CAACb,IAAJ,GAAWuB,MAAX;AACAR,QAAAA,IAAI;AACL;AACF,KAVH;AAYD,GAdD,MAcO;AACLD,IAAAA,GAAG,CAACU,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,MAAAA,OAAO,EAAE;AAAX,KAArB;AACD;AACF,CAnBM;;;;AAoBA,MAAMpB,OAAO,GAAG,CAACO,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;AACzC,MAAIF,GAAG,CAACb,IAAJ,IAAYa,GAAG,CAACb,IAAJ,CAASM,OAAzB,EAAkC;AAChCS,IAAAA,IAAI;AACL,GAFD,MAEO;AACLD,IAAAA,GAAG,CAACU,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,MAAAA,OAAO,EAAE;AAAX,KAArB;AACD;AACF,CANM;;;;AAOA,MAAMnB,QAAQ,GAAG,CAACM,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;AAC1C,MAAIF,GAAG,CAACb,IAAJ,IAAYa,GAAG,CAACb,IAAJ,CAASO,QAAzB,EAAmC;AACjCQ,IAAAA,IAAI;AACL,GAFD,MAEO;AACLD,IAAAA,GAAG,CAACU,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,MAAAA,OAAO,EAAE;AAAX,KAArB;AACD;AACF,CANM;;;;AAOA,MAAMC,eAAe,GAAG,CAACd,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;AACjD,MAAIF,GAAG,CAACb,IAAJ,KAAaa,GAAG,CAACb,IAAJ,CAASO,QAAT,IAAqBM,GAAG,CAACb,IAAJ,CAASM,OAA3C,CAAJ,EAAyD;AACvDS,IAAAA,IAAI;AACL,GAFD,MAEO;AACLD,IAAAA,GAAG,CAACU,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,MAAAA,OAAO,EAAE;AAAX,KAArB;AACD;AACF,CANM",
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/",
      "sourcesContent": [
        "import jwt from 'jsonwebtoken';\n\nexport const generateToken = (user) => {\n  return jwt.sign(\n    {\n      _id: user._id,\n      name: user.name,\n      email: user.email,\n      isAdmin: user.isAdmin,\n      isSeller: user.isSeller,\n    },\n    process.env.JWT_SECRET || 'somethingsecret',\n    {\n      expiresIn: '30d',\n    }\n  );\n};\n\nexport const isAuth = (req, res, next) => {\n  const authorization = req.headers.authorization;\n  if (authorization) {\n    const token = authorization.slice(7, authorization.length); // Bearer XXXXXX\n    jwt.verify(\n      token,\n      process.env.JWT_SECRET || 'somethingsecret',\n      (err, decode) => {\n        if (err) {\n          res.status(401).send({ message: 'Invalid Token' });\n        } else {\n          req.user = decode;\n          next();\n        }\n      }\n    );\n  } else {\n    res.status(401).send({ message: 'No Token' });\n  }\n};\nexport const isAdmin = (req, res, next) => {\n  if (req.user && req.user.isAdmin) {\n    next();\n  } else {\n    res.status(401).send({ message: 'Invalid Admin Token' });\n  }\n};\nexport const isSeller = (req, res, next) => {\n  if (req.user && req.user.isSeller) {\n    next();\n  } else {\n    res.status(401).send({ message: 'Invalid Seller Token' });\n  }\n};\nexport const isSellerOrAdmin = (req, res, next) => {\n  if (req.user && (req.user.isSeller || req.user.isAdmin)) {\n    next();\n  } else {\n    res.status(401).send({ message: 'Invalid Admin/Seller Token' });\n  }\n};\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1607065194363
  },
  "{\"sourceRoot\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop\",\"filename\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/productRoute.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop",
      "filename": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/productRoute.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/productRoute.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/productRoute.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/",
        "sourceFileName": "productRoute.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _expressAsyncHandler = _interopRequireDefault(require(\"express-async-handler\"));\n\nvar _productModel = _interopRequireDefault(require(\"../schemas/productModel.js\"));\n\nvar _util = require(\"../util.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst productRouter = _express.default.Router();\n\nproductRouter.get('/', (0, _expressAsyncHandler.default)(async (req, res) => {\n  const name = req.query.name || '';\n  const category = req.query.category || '';\n  const seller = req.query.seller || '';\n  const order = req.query.order || '';\n  const min = req.query.min && Number(req.query.min) !== 0 ? Number(req.query.min) : 0;\n  const max = req.query.max && Number(req.query.max) !== 0 ? Number(req.query.max) : 0;\n  const rating = req.query.rating && Number(req.query.rating) !== 0 ? Number(req.query.rating) : 0;\n  const nameFilter = name ? {\n    name: {\n      $regex: name,\n      $options: 'i'\n    }\n  } : {};\n  const sellerFilter = seller ? {\n    seller\n  } : {};\n  const categoryFilter = category ? {\n    category\n  } : {};\n  const priceFilter = min && max ? {\n    price: {\n      $gte: min,\n      $lte: max\n    }\n  } : {};\n  const ratingFilter = rating ? {\n    rating: {\n      $gte: rating\n    }\n  } : {};\n  const sortOrder = order === 'lowest' ? {\n    price: 1\n  } : order === 'highest' ? {\n    price: -1\n  } : order === 'toprated' ? {\n    rating: -1\n  } : {\n    _id: -1\n  };\n  const products = await _productModel.default.find({ ...sellerFilter,\n    ...nameFilter,\n    ...categoryFilter,\n    ...priceFilter,\n    ...ratingFilter\n  }).populate('seller', 'seller.name seller.logo').sort(sortOrder);\n  res.send(products);\n}));\nproductRouter.get('/categories', (0, _expressAsyncHandler.default)(async (req, res) => {\n  const categories = await _productModel.default.find().distinct('category');\n  res.send(categories);\n}));\nproductRouter.get('/seed', (0, _expressAsyncHandler.default)(async (req, res) => {\n  // await Product.remove({});\n  const createdProducts = await _productModel.default.insertMany(data.products);\n  res.send({\n    createdProducts\n  });\n}));\nproductRouter.get('/:id', (0, _expressAsyncHandler.default)(async (req, res) => {\n  const product = await _productModel.default.findById(req.params.id).populate('seller', 'seller.name seller.logo seller.rating seller.numReviews');\n\n  if (product) {\n    res.send(product);\n  } else {\n    res.status(404).send({\n      message: 'Product Not Found'\n    });\n  }\n}));\nproductRouter.post('/', _util.isAuth, _util.isSellerOrAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const product = new _productModel.default({\n    name: 'sample name ' + Date.now(),\n    seller: req.user._id,\n    image: '/images/p1.jpg',\n    price: 0,\n    category: 'sample category',\n    brand: 'sample brand',\n    countInStock: 0,\n    rating: 0,\n    numReviews: 0,\n    description: 'sample description'\n  });\n  const createdProduct = await product.save();\n  res.send({\n    message: 'Product Created',\n    product: createdProduct\n  });\n}));\nproductRouter.put('/:id', _util.isAuth, _util.isSellerOrAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const productId = req.params.id;\n  const product = await _productModel.default.findById(productId);\n\n  if (product) {\n    product.name = req.body.name;\n    product.price = req.body.price;\n    product.image = req.body.image;\n    product.category = req.body.category;\n    product.brand = req.body.brand;\n    product.countInStock = req.body.countInStock;\n    product.description = req.body.description;\n    const updatedProduct = await product.save();\n    res.send({\n      message: 'Product Updated',\n      product: updatedProduct\n    });\n  } else {\n    res.status(404).send({\n      message: 'Product Not Found'\n    });\n  }\n}));\nproductRouter.delete('/:id', _util.isAuth, _util.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const product = await _productModel.default.findById(req.params.id);\n\n  if (product) {\n    const deleteProduct = await product.remove();\n    res.send({\n      message: 'Product Deleted',\n      product: deleteProduct\n    });\n  } else {\n    res.status(404).send({\n      message: 'Product Not Found'\n    });\n  }\n}));\nvar _default = productRouter;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2R1Y3RSb3V0ZS5qcyJdLCJuYW1lcyI6WyJwcm9kdWN0Um91dGVyIiwiZXhwcmVzcyIsIlJvdXRlciIsImdldCIsInJlcSIsInJlcyIsIm5hbWUiLCJxdWVyeSIsImNhdGVnb3J5Iiwic2VsbGVyIiwib3JkZXIiLCJtaW4iLCJOdW1iZXIiLCJtYXgiLCJyYXRpbmciLCJuYW1lRmlsdGVyIiwiJHJlZ2V4IiwiJG9wdGlvbnMiLCJzZWxsZXJGaWx0ZXIiLCJjYXRlZ29yeUZpbHRlciIsInByaWNlRmlsdGVyIiwicHJpY2UiLCIkZ3RlIiwiJGx0ZSIsInJhdGluZ0ZpbHRlciIsInNvcnRPcmRlciIsIl9pZCIsInByb2R1Y3RzIiwiUHJvZHVjdCIsImZpbmQiLCJwb3B1bGF0ZSIsInNvcnQiLCJzZW5kIiwiY2F0ZWdvcmllcyIsImRpc3RpbmN0IiwiY3JlYXRlZFByb2R1Y3RzIiwiaW5zZXJ0TWFueSIsImRhdGEiLCJwcm9kdWN0IiwiZmluZEJ5SWQiLCJwYXJhbXMiLCJpZCIsInN0YXR1cyIsIm1lc3NhZ2UiLCJwb3N0IiwiaXNBdXRoIiwiaXNTZWxsZXJPckFkbWluIiwiRGF0ZSIsIm5vdyIsInVzZXIiLCJpbWFnZSIsImJyYW5kIiwiY291bnRJblN0b2NrIiwibnVtUmV2aWV3cyIsImRlc2NyaXB0aW9uIiwiY3JlYXRlZFByb2R1Y3QiLCJzYXZlIiwicHV0IiwicHJvZHVjdElkIiwiYm9keSIsInVwZGF0ZWRQcm9kdWN0IiwiZGVsZXRlIiwiaXNBZG1pbiIsImRlbGV0ZVByb2R1Y3QiLCJyZW1vdmUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7OztBQUVBLE1BQU1BLGFBQWEsR0FBR0MsaUJBQVFDLE1BQVIsRUFBdEI7O0FBRUFGLGFBQWEsQ0FBQ0csR0FBZCxDQUNFLEdBREYsRUFFRSxrQ0FBb0IsT0FBT0MsR0FBUCxFQUFZQyxHQUFaLEtBQW9CO0FBQ3RDLFFBQU1DLElBQUksR0FBR0YsR0FBRyxDQUFDRyxLQUFK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QUFBOEJMLE1BQUFBLE9BQU8sRUFBRXlCO0FBQXZDLEtBQVQ7QUFDRCxHQUhELE1BR087QUFDTDFELElBQUFBLEdBQUcsQ0FBQ3FDLE1BQUosQ0FBVyxHQUFYLEVBQWdCVixJQUFoQixDQUFxQjtBQUFFVyxNQUFBQSxPQUFPLEVBQUU7QUFBWCxLQUFyQjtBQUNEO0FBQ0YsQ0FSRCxDQUpGO2VBZWUzQyxhIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9NZS9EZXNrdG9wL1JlYWN0UHJvamVjdHMvZWNvbW0vbHV4ZXNob3AvYmFja2VuZC9yb3V0ZXMvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgZXhwcmVzc0FzeW5jSGFuZGxlciBmcm9tICdleHByZXNzLWFzeW5jLWhhbmRsZXInO1xuaW1wb3J0IFByb2R1Y3QgZnJvbSAnLi4vc2NoZW1hcy9wcm9kdWN0TW9kZWwuanMnO1xuaW1wb3J0IHsgaXNBZG1pbiwgaXNBdXRoLCBpc1NlbGxlck9yQWRtaW4gfSBmcm9tICcuLi91dGlsLmpzJztcblxuY29uc3QgcHJvZHVjdFJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5cbnByb2R1Y3RSb3V0ZXIuZ2V0KFxuICAnLycsXG4gIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc3QgbmFtZSA9IHJlcS5xdWVyeS5uYW1lIHx8ICcnO1xuICAgIGNvbnN0IGNhdGVnb3J5ID0gcmVxLnF1ZXJ5LmNhdGVnb3J5IHx8ICcnO1xuICAgIGNvbnN0IHNlbGxlciA9IHJlcS5xdWVyeS5zZWxsZXIgfHwgJyc7XG4gICAgY29uc3Qgb3JkZXIgPSByZXEucXVlcnkub3JkZXIgfHwgJyc7XG4gICAgY29uc3QgbWluID1cbiAgICAgIHJlcS5xdWVyeS5taW4gJiYgTnVtYmVyKHJlcS5xdWVyeS5taW4pICE9PSAwID8gTnVtYmVyKHJlcS5xdWVyeS5taW4pIDogMDtcbiAgICBjb25zdCBtYXggPVxuICAgICAgcmVxLnF1ZXJ5Lm1heCAmJiBOdW1iZXIocmVxLnF1ZXJ5Lm1heCkgIT09IDAgPyBOdW1iZXIocmVxLnF1ZXJ5Lm1heCkgOiAwO1xuICAgIGNvbnN0IHJhdGluZyA9XG4gICAgICByZXEucXVlcnkucmF0aW5nICYmIE51bWJlcihyZXEucXVlcnkucmF0aW5nKSAhPT0gMFxuICAgICAgICA/IE51bWJlcihyZXEucXVlcnkucmF0aW5nKVxuICAgICAgICA6IDA7XG5cbiAgICBjb25zdCBuYW1lRmlsdGVyID0gbmFtZSA/IHsgbmFtZTogeyAkcmVnZXg6IG5hbWUsICRvcHRpb25zOiAnaScgfSB9IDoge307XG4gICAgY29uc3Qgc2VsbGVyRmlsdGVyID0gc2VsbGVyID8geyBzZWxsZXIgfSA6IHt9O1xuICAgIGNvbnN0IGNhdGVnb3J5RmlsdGVyID0gY2F0ZWdvcnkgPyB7IGNhdGVnb3J5IH0gOiB7fTtcbiAgICBjb25zdCBwcmljZUZpbHRlciA9IG1pbiAmJiBtYXggPyB7IHByaWNlOiB7ICRndGU6IG1pbiwgJGx0ZTogbWF4IH0gfSA6IHt9O1xuICAgIGNvbnN0IHJhdGluZ0ZpbHRlciA9IHJhdGluZyA/IHsgcmF0aW5nOiB7ICRndGU6IHJhdGluZyB9IH0gOiB7fTtcbiAgICBjb25zdCBzb3J0T3JkZXIgPVxuICAgICAgb3JkZXIgPT09ICdsb3dlc3QnXG4gICAgICAgID8geyBwcmljZTogMSB9XG4gICAgICAgIDogb3JkZXIgPT09ICdoaWdoZXN0J1xuICAgICAgICA/IHsgcHJpY2U6IC0xIH1cbiAgICAgICAgOiBvcmRlciA9PT0gJ3RvcHJhdGVkJ1xuICAgICAgICA/IHsgcmF0aW5nOiAtMSB9XG4gICAgICAgIDogeyBfaWQ6IC0xIH07XG5cbiAgICBjb25zdCBwcm9kdWN0cyA9IGF3YWl0IFByb2R1Y3QuZmluZCh7XG4gICAgICAuLi5zZWxsZXJGaWx0ZXIsXG4gICAgICAuLi5uYW1lRmlsdGVyLFxuICAgICAgLi4uY2F0ZWdvcnlGaWx0ZXIsXG4gICAgICAuLi5wcmljZUZpbHRlcixcbiAgICAgIC4uLnJhdGluZ0ZpbHRlcixcbiAgICB9KVxuICAgICAgLnBvcHVsYXRlKCdzZWxsZXInLCAnc2VsbGVyLm5hbWUgc2VsbGVyLmxvZ28nKVxuICAgICAgLnNvcnQoc29ydE9yZGVyKTtcbiAgICByZXMuc2VuZChwcm9kdWN0cyk7XG4gIH0pXG4pO1xuXG5wcm9kdWN0Um91dGVyLmdldChcbiAgJy9jYXRlZ29yaWVzJyxcbiAgZXhwcmVzc0FzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCBjYXRlZ29yaWVzID0gYXdhaXQgUHJvZHVjdC5maW5kKCkuZGlzdGluY3QoJ2NhdGVnb3J5Jyk7XG4gICAgcmVzLnNlbmQoY2F0ZWdvcmllcyk7XG4gIH0pXG4pO1xuXG5wcm9kdWN0Um91dGVyLmdldChcbiAgJy9zZWVkJyxcbiAgZXhwcmVzc0FzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICAvLyBhd2FpdCBQcm9kdWN0LnJlbW92ZSh7fSk7XG4gICAgY29uc3QgY3JlYXRlZFByb2R1Y3RzID0gYXdhaXQgUHJvZHVjdC5pbnNlcnRNYW55KGRhdGEucHJvZHVjdHMpO1xuICAgIHJlcy5zZW5kKHsgY3JlYXRlZFByb2R1Y3RzIH0pO1xuICB9KVxuKTtcblxucHJvZHVjdFJvdXRlci5nZXQoXG4gICcvOmlkJyxcbiAgZXhwcmVzc0FzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCBwcm9kdWN0ID0gYXdhaXQgUHJvZHVjdC5maW5kQnlJZChyZXEucGFyYW1zLmlkKS5wb3B1bGF0ZShcbiAgICAgICdzZWxsZXInLFxuICAgICAgJ3NlbGxlci5uYW1lIHNlbGxlci5sb2dvIHNlbGxlci5yYXRpbmcgc2VsbGVyLm51bVJldmlld3MnXG4gICAgKTtcbiAgICBpZiAocHJvZHVjdCkge1xuICAgICAgcmVzLnNlbmQocHJvZHVjdCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHsgbWVzc2FnZTogJ1Byb2R1Y3QgTm90IEZvdW5kJyB9KTtcbiAgICB9XG4gIH0pXG4pO1xuXG5wcm9kdWN0Um91dGVyLnBvc3QoXG4gICcvJyxcbiAgaXNBdXRoLFxuICBpc1NlbGxlck9yQWRtaW4sXG4gIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc3QgcHJvZHVjdCA9IG5ldyBQcm9kdWN0KHtcbiAgICAgIG5hbWU6ICdzYW1wbGUgbmFtZSAnICsgRGF0ZS5ub3coKSxcbiAgICAgIHNlbGxlcjogcmVxLnVzZXIuX2lkLFxuICAgICAgaW1hZ2U6ICcvaW1hZ2VzL3AxLmpwZycsXG4gICAgICBwcmljZTogMCxcbiAgICAgIGNhdGVnb3J5OiAnc2FtcGxlIGNhdGVnb3J5JyxcbiAgICAgIGJyYW5kOiAnc2FtcGxlIGJyYW5kJyxcbiAgICAgIGNvdW50SW5TdG9jazogMCxcbiAgICAgIHJhdGluZzogMCxcbiAgICAgIG51bVJldmlld3M6IDAsXG4gICAgICBkZXNjcmlwdGlvbjogJ3NhbXBsZSBkZXNjcmlwdGlvbicsXG4gICAgfSk7XG4gICAgY29uc3QgY3JlYXRlZFByb2R1Y3QgPSBhd2FpdCBwcm9kdWN0LnNhdmUoKTtcbiAgICByZXMuc2VuZCh7IG1lc3NhZ2U6ICdQcm9kdWN0IENyZWF0ZWQnLCBwcm9kdWN0OiBjcmVhdGVkUHJvZHVjdCB9KTtcbiAgfSlcbik7XG5wcm9kdWN0Um91dGVyLnB1dChcbiAgJy86aWQnLFxuICBpc0F1dGgsXG4gIGlzU2VsbGVyT3JBZG1pbixcbiAgZXhwcmVzc0FzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCBwcm9kdWN0SWQgPSByZXEucGFyYW1zLmlkO1xuICAgIGNvbnN0IHByb2R1Y3QgPSBhd2FpdCBQcm9kdWN0LmZpbmRCeUlkKHByb2R1Y3RJZCk7XG4gICAgaWYgKHByb2R1Y3QpIHtcbiAgICAgIHByb2R1Y3QubmFtZSA9IHJlcS5ib2R5Lm5hbWU7XG4gICAgICBwcm9kdWN0LnByaWNlID0gcmVxLmJvZHkucHJpY2U7XG4gICAgICBwcm9kdWN0LmltYWdlID0gcmVxLmJvZHkuaW1hZ2U7XG4gICAgICBwcm9kdWN0LmNhdGVnb3J5ID0gcmVxLmJvZHkuY2F0ZWdvcnk7XG4gICAgICBwcm9kdWN0LmJyYW5kID0gcmVxLmJvZHkuYnJhbmQ7XG4gICAgICBwcm9kdWN0LmNvdW50SW5TdG9jayA9IHJlcS5ib2R5LmNvdW50SW5TdG9jaztcbiAgICAgIHByb2R1Y3QuZGVzY3JpcHRpb24gPSByZXEuYm9keS5kZXNjcmlwdGlvbjtcbiAgICAgIGNvbnN0IHVwZGF0ZWRQcm9kdWN0ID0gYXdhaXQgcHJvZHVjdC5zYXZlKCk7XG4gICAgICByZXMuc2VuZCh7IG1lc3NhZ2U6ICdQcm9kdWN0IFVwZGF0ZWQnLCBwcm9kdWN0OiB1cGRhdGVkUHJvZHVjdCB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoeyBtZXNzYWdlOiAnUHJvZHVjdCBOb3QgRm91bmQnIH0pO1xuICAgIH1cbiAgfSlcbik7XG5cbnByb2R1Y3RSb3V0ZXIuZGVsZXRlKFxuICAnLzppZCcsXG4gIGlzQXV0aCxcbiAgaXNBZG1pbixcbiAgZXhwcmVzc0FzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCBwcm9kdWN0ID0gYXdhaXQgUHJvZHVjdC5maW5kQnlJZChyZXEucGFyYW1zLmlkKTtcbiAgICBpZiAocHJvZHVjdCkge1xuICAgICAgY29uc3QgZGVsZXRlUHJvZHVjdCA9IGF3YWl0IHByb2R1Y3QucmVtb3ZlKCk7XG4gICAgICByZXMuc2VuZCh7IG1lc3NhZ2U6ICdQcm9kdWN0IERlbGV0ZWQnLCBwcm9kdWN0OiBkZWxldGVQcm9kdWN0IH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCh7IG1lc3NhZ2U6ICdQcm9kdWN0IE5vdCBGb3VuZCcgfSk7XG4gICAgfVxuICB9KVxuKTtcblxuZXhwb3J0IGRlZmF1bHQgcHJvZHVjdFJvdXRlcjtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "productRoute.js"
      ],
      "names": [
        "productRouter",
        "express",
        "Router",
        "get",
        "req",
        "res",
        "name",
        "query",
        "category",
        "seller",
        "order",
        "min",
        "Number",
        "max",
        "rating",
        "nameFilter",
        "$regex",
        "$options",
        "sellerFilter",
        "categoryFilter",
        "priceFilter",
        "price",
        "$gte",
        "$lte",
        "ratingFilter",
        "sortOrder",
        "_id",
        "products",
        "Product",
        "find",
        "populate",
        "sort",
        "send",
        "categories",
        "distinct",
        "createdProducts",
        "insertMany",
        "data",
        "product",
        "findById",
        "params",
        "id",
        "status",
        "message",
        "post",
        "isAuth",
        "isSellerOrAdmin",
        "Date",
        "now",
        "user",
        "image",
        "brand",
        "countInStock",
        "numReviews",
        "description",
        "createdProduct",
        "save",
        "put",
        "productId",
        "body",
        "updatedProduct",
        "delete",
        "isAdmin",
        "deleteProduct",
        "remove"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/",
      "sourcesContent": [
        "import express from 'express';\nimport expressAsyncHandler from 'express-async-handler';\nimport Product from '../schemas/productModel.js';\nimport { isAdmin, isAuth, isSellerOrAdmin } from '../util.js';\n\nconst productRouter = express.Router();\n\nproductRouter.get(\n  '/',\n  expressAsyncHandler(async (req, res) => {\n    const name = req.query.name || '';\n    const category = req.query.category || '';\n    const seller = req.query.seller || '';\n    const order = req.query.order || '';\n    const min =\n      req.query.min && Number(req.query.min) !== 0 ? Number(req.query.min) : 0;\n    const max =\n      req.query.max && Number(req.query.max) !== 0 ? Number(req.query.max) : 0;\n    const rating =\n      req.query.rating && Number(req.query.rating) !== 0\n        ? Number(req.query.rating)\n        : 0;\n\n    const nameFilter = name ? { name: { $regex: name, $options: 'i' } } : {};\n    const sellerFilter = seller ? { seller } : {};\n    const categoryFilter = category ? { category } : {};\n    const priceFilter = min && max ? { price: { $gte: min, $lte: max } } : {};\n    const ratingFilter = rating ? { rating: { $gte: rating } } : {};\n    const sortOrder =\n      order === 'lowest'\n        ? { price: 1 }\n        : order === 'highest'\n        ? { price: -1 }\n        : order === 'toprated'\n        ? { rating: -1 }\n        : { _id: -1 };\n\n    const products = await Product.find({\n      ...sellerFilter,\n      ...nameFilter,\n      ...categoryFilter,\n      ...priceFilter,\n      ...ratingFilter,\n    })\n      .populate('seller', 'seller.name seller.logo')\n      .sort(sortOrder);\n    res.send(products);\n  })\n);\n\nproductRouter.get(\n  '/categories',\n  expressAsyncHandler(async (req, res) => {\n    const categories = await Product.find().distinct('category');\n    res.send(categories);\n  })\n);\n\nproductRouter.get(\n  '/seed',\n  expressAsyncHandler(async (req, res) => {\n    // await Product.remove({});\n    const createdProducts = await Product.insertMany(data.products);\n    res.send({ createdProducts });\n  })\n);\n\nproductRouter.get(\n  '/:id',\n  expressAsyncHandler(async (req, res) => {\n    const product = await Product.findById(req.params.id).populate(\n      'seller',\n      'seller.name seller.logo seller.rating seller.numReviews'\n    );\n    if (product) {\n      res.send(product);\n    } else {\n      res.status(404).send({ message: 'Product Not Found' });\n    }\n  })\n);\n\nproductRouter.post(\n  '/',\n  isAuth,\n  isSellerOrAdmin,\n  expressAsyncHandler(async (req, res) => {\n    const product = new Product({\n      name: 'sample name ' + Date.now(),\n      seller: req.user._id,\n      image: '/images/p1.jpg',\n      price: 0,\n      category: 'sample category',\n      brand: 'sample brand',\n      countInStock: 0,\n      rating: 0,\n      numReviews: 0,\n      description: 'sample description',\n    });\n    const createdProduct = await product.save();\n    res.send({ message: 'Product Created', product: createdProduct });\n  })\n);\nproductRouter.put(\n  '/:id',\n  isAuth,\n  isSellerOrAdmin,\n  expressAsyncHandler(async (req, res) => {\n    const productId = req.params.id;\n    const product = await Product.findById(productId);\n    if (product) {\n      product.name = req.body.name;\n      product.price = req.body.price;\n      product.image = req.body.image;\n      product.category = req.body.category;\n      product.brand = req.body.brand;\n      product.countInStock = req.body.countInStock;\n      product.description = req.body.description;\n      const updatedProduct = await product.save();\n      res.send({ message: 'Product Updated', product: updatedProduct });\n    } else {\n      res.status(404).send({ message: 'Product Not Found' });\n    }\n  })\n);\n\nproductRouter.delete(\n  '/:id',\n  isAuth,\n  isAdmin,\n  expressAsyncHandler(async (req, res) => {\n    const product = await Product.findById(req.params.id);\n    if (product) {\n      const deleteProduct = await product.remove();\n      res.send({ message: 'Product Deleted', product: deleteProduct });\n    } else {\n      res.status(404).send({ message: 'Product Not Found' });\n    }\n  })\n);\n\nexport default productRouter;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1607065263866
  },
  "{\"sourceRoot\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop\",\"filename\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/models/productModel.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/models/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop",
      "filename": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/models/productModel.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/models/productModel.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/models/productModel.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/models/",
        "sourceFileName": "productModel.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst reviewSchema = new _mongoose.default.Schema({\n  name: {\n    type: String,\n    required: true\n  },\n  rating: {\n    type: Number,\n    default: 0\n  },\n  comment: {\n    type: String,\n    required: true\n  }\n}, {\n  timestamps: true\n});\nconst prodctSchema = new _mongoose.default.Schema({\n  name: {\n    type: String,\n    required: true\n  },\n  image: {\n    type: String,\n    required: true\n  },\n  brand: {\n    type: String,\n    required: true\n  },\n  price: {\n    type: Number,\n    default: 0,\n    required: true\n  },\n  category: {\n    type: String,\n    required: true\n  },\n  countInStock: {\n    type: Number,\n    default: 0,\n    required: true\n  },\n  description: {\n    type: String,\n    required: true\n  },\n  rating: {\n    type: Number,\n    default: 0,\n    required: true\n  },\n  numReviews: {\n    type: Number,\n    default: 0,\n    required: true\n  },\n  reviews: [reviewSchema]\n});\n\nconst productModel = _mongoose.default.model('Product', prodctSchema);\n\nvar _default = productModel;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2R1Y3RNb2RlbC5qcyJdLCJuYW1lcyI6WyJyZXZpZXdTY2hlbWEiLCJtb25nb29zZSIsIlNjaGVtYSIsIm5hbWUiLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJyYXRpbmciLCJOdW1iZXIiLCJkZWZhdWx0IiwiY29tbWVudCIsInRpbWVzdGFtcHMiLCJwcm9kY3RTY2hlbWEiLCJpbWFnZSIsImJyYW5kIiwicHJpY2UiLCJjYXRlZ29yeSIsImNvdW50SW5TdG9jayIsImRlc2NyaXB0aW9uIiwibnVtUmV2aWV3cyIsInJldmlld3MiLCJwcm9kdWN0TW9kZWwiLCJtb2RlbCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7O0FBRUEsTUFBTUEsWUFBWSxHQUFHLElBQUlDLGtCQUFTQyxNQUFiLENBQ25CO0FBQ0VDLEVBQUFBLElBQUksRUFBRTtBQUFFQyxJQUFBQSxJQUFJLEVBQUVDLE1BQVI7QUFBZ0JDLElBQUFBLFFBQVEsRUFBRTtBQUExQixHQURSO0FBRUVDLEVBQUFBLE1BQU0sRUFBRTtBQUFFSCxJQUFBQSxJQUFJLEVBQUVJLE1BQVI7QUFBZ0JDLElBQUFBLE9BQU8sRUFBRTtBQUF6QixHQUZWO0FBR0VDLEVBQUFBLE9BQU8sRUFBRTtBQUFFTixJQUFBQSxJQUFJLEVBQUVDLE1BQVI7QUFBZ0JDLElBQUFBLFFBQVEsRUFBRTtBQUExQjtBQUhYLENBRG1CLEVBTW5CO0FBQ0VLLEVBQUFBLFVBQVUsRUFBRTtBQURkLENBTm1CLENBQXJCO0FBVUEsTUFBTUMsWUFBWSxHQUFHLElBQUlYLGtCQUFTQyxNQUFiLENBQW9CO0FBQ3ZDQyxFQUFBQSxJQUFJLEVBQUU7QUFBRUMsSUFBQUEsSUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxJQUFBQSxRQUFRLEVBQUU7QUFBMUIsR0FEaUM7QUFFdkNPLEVBQUFBLEtBQUssRUFBRTtBQUFFVCxJQUFBQSxJQUFJLEVBQUVDLE1BQVI7QUFBZ0JDLElBQUFBLFFBQVEsRUFBRTtBQUExQixHQUZnQztBQUd2Q1EsRUFBQUEsS0FBSyxFQUFFO0FBQUVWLElBQUFBLElBQUksRUFBRUMsTUFBUjtBQUFnQkMsSUFBQUEsUUFBUSxFQUFFO0FBQTFCLEdBSGdDO0FBSXZDUyxFQUFBQSxLQUFLLEVBQUU7QUFBRVgsSUFBQUEsSUFBSSxFQUFFSSxNQUFSO0FBQWdCQyxJQUFBQSxPQUFPLEVBQUUsQ0FBekI7QUFBNEJILElBQUFBLFFBQVEsRUFBRTtBQUF0QyxHQUpnQztBQUt2Q1UsRUFBQUEsUUFBUSxFQUFFO0FBQUVaLElBQUFBLElBQUksRUFBRUMsTUFBUjtBQUFnQkMsSUFBQUEsUUFBUSxFQUFFO0FBQTFCLEdBTDZCO0FBTXZDVyxFQUFBQSxZQUFZLEVBQUU7QUFBRWIsSUFBQUEsSUFBSSxFQUFFSSxNQUFSO0FBQWdCQyxJQUFBQSxPQUFPLEVBQUUsQ0FBekI7QUFBNEJILElBQUFBLFFBQVEsRUFBRTtBQUF0QyxHQU55QjtBQU92Q1ksRUFBQUEsV0FBVyxFQUFFO0FBQUVkLElBQUFBLElBQUksRUFBRUMsTUFBUjtBQUFnQkMsSUFBQUEsUUFBUSxFQUFFO0FBQTFCLEdBUDBCO0FBUXZDQyxFQUFBQSxNQUFNLEVBQUU7QUFBRUgsSUFBQUEsSUFBSSxFQUFFSSxNQUFSO0FBQWdCQyxJQUFBQSxPQUFPLEVBQUUsQ0FBekI7QUFBNEJILElBQUFBLFFBQVEsRUFBRTtBQUF0QyxHQVIrQjtBQVN2Q2EsRUFBQUEsVUFBVSxFQUFFO0FBQUVmLElBQUFBLElBQUksRUFBRUksTUFBUjtBQUFnQkMsSUFBQUEsT0FBTyxFQUFFLENBQXpCO0FBQTRCSCxJQUFBQSxRQUFRLEVBQUU7QUFBdEMsR0FUMkI7QUFVdkNjLEVBQUFBLE9BQU8sRUFBRSxDQUFDcEIsWUFBRDtBQVY4QixDQUFwQixDQUFyQjs7QUFhQSxNQUFNcUIsWUFBWSxHQUFHcEIsa0JBQVNxQixLQUFULENBQWUsU0FBZixFQUEwQlYsWUFBMUIsQ0FBckI7O2VBRWVTLFkiLCJzb3VyY2VSb290IjoiL1VzZXJzL01lL0Rlc2t0b3AvUmVhY3RQcm9qZWN0cy9lY29tbS9sdXhlc2hvcC9iYWNrZW5kL21vZGVscy8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xuXG5jb25zdCByZXZpZXdTY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKFxuICB7XG4gICAgbmFtZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgcmF0aW5nOiB7IHR5cGU6IE51bWJlciwgZGVmYXVsdDogMCB9LFxuICAgIGNvbW1lbnQ6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxuICB9LFxuICB7XG4gICAgdGltZXN0YW1wczogdHJ1ZSxcbiAgfVxuKTtcbmNvbnN0IHByb2RjdFNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoe1xuICBuYW1lOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgaW1hZ2U6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxuICBicmFuZDogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gIHByaWNlOiB7IHR5cGU6IE51bWJlciwgZGVmYXVsdDogMCwgcmVxdWlyZWQ6IHRydWUgfSxcbiAgY2F0ZWdvcnk6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxuICBjb3VudEluU3RvY2s6IHsgdHlwZTogTnVtYmVyLCBkZWZhdWx0OiAwLCByZXF1aXJlZDogdHJ1ZSB9LFxuICBkZXNjcmlwdGlvbjogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gIHJhdGluZzogeyB0eXBlOiBOdW1iZXIsIGRlZmF1bHQ6IDAsIHJlcXVpcmVkOiB0cnVlIH0sXG4gIG51bVJldmlld3M6IHsgdHlwZTogTnVtYmVyLCBkZWZhdWx0OiAwLCByZXF1aXJlZDogdHJ1ZSB9LFxuICByZXZpZXdzOiBbcmV2aWV3U2NoZW1hXSxcbn0pO1xuXG5jb25zdCBwcm9kdWN0TW9kZWwgPSBtb25nb29zZS5tb2RlbCgnUHJvZHVjdCcsIHByb2RjdFNjaGVtYSk7XG5cbmV4cG9ydCBkZWZhdWx0IHByb2R1Y3RNb2RlbDtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "productModel.js"
      ],
      "names": [
        "reviewSchema",
        "mongoose",
        "Schema",
        "name",
        "type",
        "String",
        "required",
        "rating",
        "Number",
        "default",
        "comment",
        "timestamps",
        "prodctSchema",
        "image",
        "brand",
        "price",
        "category",
        "countInStock",
        "description",
        "numReviews",
        "reviews",
        "productModel",
        "model"
      ],
      "mappings": ";;;;;;;AAAA;;;;AAEA,MAAMA,YAAY,GAAG,IAAIC,kBAASC,MAAb,CACnB;AACEC,EAAAA,IAAI,EAAE;AAAEC,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GADR;AAEEC,EAAAA,MAAM,EAAE;AAAEH,IAAAA,IAAI,EAAEI,MAAR;AAAgBC,IAAAA,OAAO,EAAE;AAAzB,GAFV;AAGEC,EAAAA,OAAO,EAAE;AAAEN,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B;AAHX,CADmB,EAMnB;AACEK,EAAAA,UAAU,EAAE;AADd,CANmB,CAArB;AAUA,MAAMC,YAAY,GAAG,IAAIX,kBAASC,MAAb,CAAoB;AACvCC,EAAAA,IAAI,EAAE;AAAEC,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GADiC;AAEvCO,EAAAA,KAAK,EAAE;AAAET,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAFgC;AAGvCQ,EAAAA,KAAK,EAAE;AAAEV,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAHgC;AAIvCS,EAAAA,KAAK,EAAE;AAAEX,IAAAA,IAAI,EAAEI,MAAR;AAAgBC,IAAAA,OAAO,EAAE,CAAzB;AAA4BH,IAAAA,QAAQ,EAAE;AAAtC,GAJgC;AAKvCU,EAAAA,QAAQ,EAAE;AAAEZ,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAL6B;AAMvCW,EAAAA,YAAY,EAAE;AAAEb,IAAAA,IAAI,EAAEI,MAAR;AAAgBC,IAAAA,OAAO,EAAE,CAAzB;AAA4BH,IAAAA,QAAQ,EAAE;AAAtC,GANyB;AAOvCY,EAAAA,WAAW,EAAE;AAAEd,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAP0B;AAQvCC,EAAAA,MAAM,EAAE;AAAEH,IAAAA,IAAI,EAAEI,MAAR;AAAgBC,IAAAA,OAAO,EAAE,CAAzB;AAA4BH,IAAAA,QAAQ,EAAE;AAAtC,GAR+B;AASvCa,EAAAA,UAAU,EAAE;AAAEf,IAAAA,IAAI,EAAEI,MAAR;AAAgBC,IAAAA,OAAO,EAAE,CAAzB;AAA4BH,IAAAA,QAAQ,EAAE;AAAtC,GAT2B;AAUvCc,EAAAA,OAAO,EAAE,CAACpB,YAAD;AAV8B,CAApB,CAArB;;AAaA,MAAMqB,YAAY,GAAGpB,kBAASqB,KAAT,CAAe,SAAf,EAA0BV,YAA1B,CAArB;;eAEeS,Y",
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/models/",
      "sourcesContent": [
        "import mongoose from 'mongoose';\n\nconst reviewSchema = new mongoose.Schema(\n  {\n    name: { type: String, required: true },\n    rating: { type: Number, default: 0 },\n    comment: { type: String, required: true },\n  },\n  {\n    timestamps: true,\n  }\n);\nconst prodctSchema = new mongoose.Schema({\n  name: { type: String, required: true },\n  image: { type: String, required: true },\n  brand: { type: String, required: true },\n  price: { type: Number, default: 0, required: true },\n  category: { type: String, required: true },\n  countInStock: { type: Number, default: 0, required: true },\n  description: { type: String, required: true },\n  rating: { type: Number, default: 0, required: true },\n  numReviews: { type: Number, default: 0, required: true },\n  reviews: [reviewSchema],\n});\n\nconst productModel = mongoose.model('Product', prodctSchema);\n\nexport default productModel;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1595823100000
  },
  "{\"sourceRoot\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop\",\"filename\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/orderRoute.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop",
      "filename": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/orderRoute.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/orderRoute.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/orderRoute.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/",
        "sourceFileName": "orderRoute.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _expressAsyncHandler = _interopRequireDefault(require(\"express-async-handler\"));\n\nvar _orderModel = _interopRequireDefault(require(\"../schemas/orderModel.js\"));\n\nvar _util = require(\"../util.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst orderRouter = _express.default.Router();\n\norderRouter.get('/', _util.isAuth, _util.isSellerOrAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const seller = req.query.seller || '';\n  const sellerFilter = seller ? {\n    seller\n  } : {};\n  const orders = await _orderModel.default.find({ ...sellerFilter\n  }).populate('user', 'name');\n  res.send(orders);\n}));\norderRouter.get('/mine', _util.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const orders = await _orderModel.default.find({\n    user: req.user._id\n  });\n  res.send(orders);\n}));\norderRouter.post('/', _util.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  if (req.body.orderItems.length === 0) {\n    res.status(400).send({\n      message: 'Cart is empty'\n    });\n  } else {\n    const order = new _orderModel.default({\n      seller: req.body.orderItems[0].seller,\n      orderItems: req.body.orderItems,\n      shippingAddress: req.body.shippingAddress,\n      paymentMethod: req.body.paymentMethod,\n      itemsPrice: req.body.itemsPrice,\n      shippingPrice: req.body.shippingPrice,\n      taxPrice: req.body.taxPrice,\n      totalPrice: req.body.totalPrice,\n      user: req.user._id\n    });\n    const createdOrder = await order.save();\n    res.status(201).send({\n      message: 'New Order Created',\n      order: createdOrder\n    });\n  }\n}));\norderRouter.get('/:id', _util.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const order = await _orderModel.default.findById(req.params.id);\n\n  if (order) {\n    res.send(order);\n  } else {\n    res.status(404).send({\n      message: 'Order Not Found'\n    });\n  }\n}));\norderRouter.put('/:id/pay', _util.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const order = await _orderModel.default.findById(req.params.id);\n\n  if (order) {\n    order.isPaid = true;\n    order.paidAt = Date.now();\n    order.paymentResult = {\n      id: req.body.id,\n      status: req.body.status,\n      update_time: req.body.update_time,\n      email_address: req.body.email_address\n    };\n    const updatedOrder = await order.save();\n    res.send({\n      message: 'Order Paid',\n      order: updatedOrder\n    });\n  } else {\n    res.status(404).send({\n      message: 'Order Not Found'\n    });\n  }\n}));\norderRouter.delete('/:id', _util.isAuth, _util.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const order = await _orderModel.default.findById(req.params.id);\n\n  if (order) {\n    const deleteOrder = await order.remove();\n    res.send({\n      message: 'Order Deleted',\n      order: deleteOrder\n    });\n  } else {\n    res.status(404).send({\n      message: 'Order Not Found'\n    });\n  }\n}));\norderRouter.put('/:id/deliver', _util.isAuth, _util.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const order = await _orderModel.default.findById(req.params.id);\n\n  if (order) {\n    order.isDelivered = true;\n    order.deliveredAt = Date.now();\n    const updatedOrder = await order.save();\n    res.send({\n      message: 'Order Delivered',\n      order: updatedOrder\n    });\n  } else {\n    res.status(404).send({\n      message: 'Order Not Found'\n    });\n  }\n}));\nvar _default = orderRouter;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9yZGVyUm91dGUuanMiXSwibmFtZXMiOlsib3JkZXJSb3V0ZXIiLCJleHByZXNzIiwiUm91dGVyIiwiZ2V0IiwiaXNBdXRoIiwiaXNTZWxsZXJPckFkbWluIiwicmVxIiwicmVzIiwic2VsbGVyIiwicXVlcnkiLCJzZWxsZXJGaWx0ZXIiLCJvcmRlcnMiLCJPcmRlciIsImZpbmQiLCJwb3B1bGF0ZSIsInNlbmQiLCJ1c2VyIiwiX2lkIiwicG9zdCIsImJvZHkiLCJvcmRlckl0ZW1zIiwibGVuZ3RoIiwic3RhdHVzIiwibWVzc2FnZSIsIm9yZGVyIiwic2hpcHBpbmdBZGRyZXNzIiwicGF5bWVudE1ldGhvZCIsIml0ZW1zUHJpY2UiLCJzaGlwcGluZ1ByaWNlIiwidGF4UHJpY2UiLCJ0b3RhbFByaWNlIiwiY3JlYXRlZE9yZGVyIiwic2F2ZSIsImZpbmRCeUlkIiwicGFyYW1zIiwiaWQiLCJwdXQiLCJpc1BhaWQiLCJwYWlkQXQiLCJEYXRlIiwibm93IiwicGF5bWVudFJlc3VsdCIsInVwZGF0ZV90aW1lIiwiZW1haWxfYWRkcmVzcyIsInVwZGF0ZWRPcmRlciIsImRlbGV0ZSIsImlzQWRtaW4iLCJkZWxldGVPcmRlciIsInJlbW92ZSIsImlzRGVsaXZlcmVkIiwiZGVsaXZlcmVkQXQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7OztBQUVBLE1BQU1BLFdBQVcsR0FBR0MsaUJBQVFDLE1BQVIsRUFBcEI7O0FBQ0FGLFdBQVcsQ0FBQ0csR0FBWixDQUNFLEdBREYsRUFFRUMsWUFGRixFQUdFQyxxQkFIRixFQUlFLGtDQUFvQixPQUFPQyxHQUFQLEVBQVlDLEdBQVosS0FBb0I7QUFDdEMsUUFBTUMsTUFBTSxHQUFHRixHQUFHLENBQUNHLEtBQUosQ0FBVUQsTUFBVixJQUFvQixFQUFuQztBQUNBLFFBQU1FLFlBQVksR0FBR0YsTUFBTSxHQUFHO0FBQUVBLElBQUFBO0FBQUYsR0FBSCxHQUFnQixFQUEzQztBQUVBLFFBQU1H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LENBWEQsQ0FKRjtlQWtCZXZCLFciLCJzb3VyY2VSb290IjoiL1VzZXJzL01lL0Rlc2t0b3AvUmVhY3RQcm9qZWN0cy9lY29tbS9sdXhlc2hvcC9iYWNrZW5kL3JvdXRlcy8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcbmltcG9ydCBleHByZXNzQXN5bmNIYW5kbGVyIGZyb20gJ2V4cHJlc3MtYXN5bmMtaGFuZGxlcic7XG5pbXBvcnQgT3JkZXIgZnJvbSAnLi4vc2NoZW1hcy9vcmRlck1vZGVsLmpzJztcbmltcG9ydCB7IGlzQWRtaW4sIGlzQXV0aCwgaXNTZWxsZXJPckFkbWluIH0gZnJvbSAnLi4vdXRpbC5qcyc7XG5cbmNvbnN0IG9yZGVyUm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcbm9yZGVyUm91dGVyLmdldChcbiAgJy8nLFxuICBpc0F1dGgsXG4gIGlzU2VsbGVyT3JBZG1pbixcbiAgZXhwcmVzc0FzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCBzZWxsZXIgPSByZXEucXVlcnkuc2VsbGVyIHx8ICcnO1xuICAgIGNvbnN0IHNlbGxlckZpbHRlciA9IHNlbGxlciA/IHsgc2VsbGVyIH0gOiB7fTtcblxuICAgIGNvbnN0IG9yZGVycyA9IGF3YWl0IE9yZGVyLmZpbmQoeyAuLi5zZWxsZXJGaWx0ZXIgfSkucG9wdWxhdGUoXG4gICAgICAndXNlcicsXG4gICAgICAnbmFtZSdcbiAgICApO1xuICAgIHJlcy5zZW5kKG9yZGVycyk7XG4gIH0pXG4pO1xub3JkZXJSb3V0ZXIuZ2V0KFxuICAnL21pbmUnLFxuICBpc0F1dGgsXG4gIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc3Qgb3JkZXJzID0gYXdhaXQgT3JkZXIuZmluZCh7IHVzZXI6IHJlcS51c2VyLl9pZCB9KTtcbiAgICByZXMuc2VuZChvcmRlcnMpO1xuICB9KVxuKTtcblxub3JkZXJSb3V0ZXIucG9zdChcbiAgJy8nLFxuICBpc0F1dGgsXG4gIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgaWYgKHJlcS5ib2R5Lm9yZGVySXRlbXMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXMuc3RhdHVzKDQwMCkuc2VuZCh7IG1lc3NhZ2U6ICdDYXJ0IGlzIGVtcHR5JyB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3Qgb3JkZXIgPSBuZXcgT3JkZXIoe1xuICAgICAgICBzZWxsZXI6IHJlcS5ib2R5Lm9yZGVySXRlbXNbMF0uc2VsbGVyLFxuICAgICAgICBvcmRlckl0ZW1zOiByZXEuYm9keS5vcmRlckl0ZW1zLFxuICAgICAgICBzaGlwcGluZ0FkZHJlc3M6IHJlcS5ib2R5LnNoaXBwaW5nQWRkcmVzcyxcbiAgICAgICAgcGF5bWVudE1ldGhvZDogcmVxLmJvZHkucGF5bWVudE1ldGhvZCxcbiAgICAgICAgaXRlbXNQcmljZTogcmVxLmJvZHkuaXRlbXNQcmljZSxcbiAgICAgICAgc2hpcHBpbmdQcmljZTogcmVxLmJvZHkuc2hpcHBpbmdQcmljZSxcbiAgICAgICAgdGF4UHJpY2U6IHJlcS5ib2R5LnRheFByaWNlLFxuICAgICAgICB0b3RhbFByaWNlOiByZXEuYm9keS50b3RhbFByaWNlLFxuICAgICAgICB1c2VyOiByZXEudXNlci5faWQsXG4gICAgICB9KTtcbiAgICAgIGNvbnN0IGNyZWF0ZWRPcmRlciA9IGF3YWl0IG9yZGVyLnNhdmUoKTtcbiAgICAgIHJlc1xuICAgICAgICAuc3RhdHVzKDIwMSlcbiAgICAgICAgLnNlbmQoeyBtZXNzYWdlOiAnTmV3IE9yZGVyIENyZWF0ZWQnLCBvcmRlcjogY3JlYXRlZE9yZGVyIH0pO1xuICAgIH1cbiAgfSlcbik7XG5cbm9yZGVyUm91dGVyLmdldChcbiAgJy86aWQnLFxuICBpc0F1dGgsXG4gIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc3Qgb3JkZXIgPSBhd2FpdCBPcmRlci5maW5kQnlJZChyZXEucGFyYW1zLmlkKTtcbiAgICBpZiAob3JkZXIpIHtcbiAgICAgIHJlcy5zZW5kKG9yZGVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoeyBtZXNzYWdlOiAnT3JkZXIgTm90IEZvdW5kJyB9KTtcbiAgICB9XG4gIH0pXG4pO1xuXG5vcmRlclJvdXRlci5wdXQoXG4gICcvOmlkL3BheScsXG4gIGlzQXV0aCxcbiAgZXhwcmVzc0FzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCBvcmRlciA9IGF3YWl0IE9yZGVyLmZpbmRCeUlkKHJlcS5wYXJhbXMuaWQpO1xuICAgIGlmIChvcmRlcikge1xuICAgICAgb3JkZXIuaXNQYWlkID0gdHJ1ZTtcbiAgICAgIG9yZGVyLnBhaWRBdCA9IERhdGUubm93KCk7XG4gICAgICBvcmRlci5wYXltZW50UmVzdWx0ID0ge1xuICAgICAgICBpZDogcmVxLmJvZHkuaWQsXG4gICAgICAgIHN0YXR1czogcmVxLmJvZHkuc3RhdHVzLFxuICAgICAgICB1cGRhdGVfdGltZTogcmVxLmJvZHkudXBkYXRlX3RpbWUsXG4gICAgICAgIGVtYWlsX2FkZHJlc3M6IHJlcS5ib2R5LmVtYWlsX2FkZHJlc3MsXG4gICAgICB9O1xuICAgICAgY29uc3QgdXBkYXRlZE9yZGVyID0gYXdhaXQgb3JkZXIuc2F2ZSgpO1xuICAgICAgcmVzLnNlbmQoeyBtZXNzYWdlOiAnT3JkZXIgUGFpZCcsIG9yZGVyOiB1cGRhdGVkT3JkZXIgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHsgbWVzc2FnZTogJ09yZGVyIE5vdCBGb3VuZCcgfSk7XG4gICAgfVxuICB9KVxuKTtcblxub3JkZXJSb3V0ZXIuZGVsZXRlKFxuICAnLzppZCcsXG4gIGlzQXV0aCxcbiAgaXNBZG1pbixcbiAgZXhwcmVzc0FzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCBvcmRlciA9IGF3YWl0IE9yZGVyLmZpbmRCeUlkKHJlcS5wYXJhbXMuaWQpO1xuICAgIGlmIChvcmRlcikge1xuICAgICAgY29uc3QgZGVsZXRlT3JkZXIgPSBhd2FpdCBvcmRlci5yZW1vdmUoKTtcbiAgICAgIHJlcy5zZW5kKHsgbWVzc2FnZTogJ09yZGVyIERlbGV0ZWQnLCBvcmRlcjogZGVsZXRlT3JkZXIgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHsgbWVzc2FnZTogJ09yZGVyIE5vdCBGb3VuZCcgfSk7XG4gICAgfVxuICB9KVxuKTtcblxub3JkZXJSb3V0ZXIucHV0KFxuICAnLzppZC9kZWxpdmVyJyxcbiAgaXNBdXRoLFxuICBpc0FkbWluLFxuICBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IG9yZGVyID0gYXdhaXQgT3JkZXIuZmluZEJ5SWQocmVxLnBhcmFtcy5pZCk7XG4gICAgaWYgKG9yZGVyKSB7XG4gICAgICBvcmRlci5pc0RlbGl2ZXJlZCA9IHRydWU7XG4gICAgICBvcmRlci5kZWxpdmVyZWRBdCA9IERhdGUubm93KCk7XG5cbiAgICAgIGNvbnN0IHVwZGF0ZWRPcmRlciA9IGF3YWl0IG9yZGVyLnNhdmUoKTtcbiAgICAgIHJlcy5zZW5kKHsgbWVzc2FnZTogJ09yZGVyIERlbGl2ZXJlZCcsIG9yZGVyOiB1cGRhdGVkT3JkZXIgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHsgbWVzc2FnZTogJ09yZGVyIE5vdCBGb3VuZCcgfSk7XG4gICAgfVxuICB9KVxuKTtcblxuZXhwb3J0IGRlZmF1bHQgb3JkZXJSb3V0ZXI7XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "orderRoute.js"
      ],
      "names": [
        "orderRouter",
        "express",
        "Router",
        "get",
        "isAuth",
        "isSellerOrAdmin",
        "req",
        "res",
        "seller",
        "query",
        "sellerFilter",
        "orders",
        "Order",
        "find",
        "populate",
        "send",
        "user",
        "_id",
        "post",
        "body",
        "orderItems",
        "length",
        "status",
        "message",
        "order",
        "shippingAddress",
        "paymentMethod",
        "itemsPrice",
        "shippingPrice",
        "taxPrice",
        "totalPrice",
        "createdOrder",
        "save",
        "findById",
        "params",
        "id",
        "put",
        "isPaid",
        "paidAt",
        "Date",
        "now",
        "paymentResult",
        "update_time",
        "email_address",
        "updatedOrder",
        "delete",
        "isAdmin",
        "deleteOrder",
        "remove",
        "isDelivered",
        "deliveredAt"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;AACA;;;;AAEA,MAAMA,WAAW,GAAGC,iBAAQC,MAAR,EAApB;;AACAF,WAAW,CAACG,GAAZ,CACE,GADF,EAEEC,YAFF,EAGEC,qBAHF,EAIE,kCAAoB,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AACtC,QAAMC,MAAM,GAAGF,GAAG,CAACG,KAAJ,CAAUD,MAAV,IAAoB,EAAnC;AACA,QAAME,YAAY,GAAGF,MAAM,GAAG;AAAEA,IAAAA;AAAF,GAAH,GAAgB,EAA3C;AAEA,QAAMG,MAAM,GAAG,MAAMC,oBAAMC,IAAN,CAAW,EAAE,GAAGH;AAAL,GAAX,EAAgCI,QAAhC,CACnB,MADmB,EAEnB,MAFmB,CAArB;AAIAP,EAAAA,GAAG,CAACQ,IAAJ,CAASJ,MAAT;AACD,CATD,CAJF;AAeAX,WAAW,CAACG,GAAZ,CACE,OADF,EAEEC,YAFF,EAGE,kCAAoB,OAAOE,GAAP,EAAYC,GAAZ,KAAoB;AACtC,QAAMI,MAAM,GAAG,MAAMC,oBAAMC,IAAN,CAAW;AAAEG,IAAAA,IAAI,EAAEV,GAAG,CAACU,IAAJ,CAASC;AAAjB,GAAX,CAArB;AACAV,EAAAA,GAAG,CAACQ,IAAJ,CAASJ,MAAT;AACD,CAHD,CAHF;AASAX,WAAW,CAACkB,IAAZ,CACE,GADF,EAEEd,YAFF,EAGE,kCAAoB,OAAOE,GAAP,EAAYC,GAAZ,KAAoB;AACtC,MAAID,GAAG,CAACa,IAAJ,CAASC,UAAT,CAAoBC,MAApB,KAA+B,CAAnC,EAAsC;AACpCd,IAAAA,GAAG,CAACe,MAAJ,CAAW,GAAX,EAAgBP,IAAhB,CAAqB;AAAEQ,MAAAA,OAAO,EAAE;AAAX,KAArB;AACD,GAFD,MAEO;AACL,UAAMC,KAAK,GAAG,IAAIZ,mBAAJ,CAAU;AACtBJ,MAAAA,MAAM,EAAEF,GAAG,CAACa,IAAJ,CAASC,UAAT,CAAoB,CAApB,EAAuBZ,MADT;AAEtBY,MAAAA,UAAU,EAAEd,GAAG,CAACa,IAAJ,CAASC,UAFC;AAGtBK,MAAAA,eAAe,EAAEnB,GAAG,CAACa,IAAJ,CAASM,eAHJ;AAItBC,MAAAA,aAAa,EAAEpB,GAAG,CAACa,IAAJ,CAASO,aAJF;AAKtBC,MAAAA,UAAU,EAAErB,GAAG,CAACa,IAAJ,CAASQ,UALC;AAMtBC,MAAAA,aAAa,EAAEtB,GAAG,CAACa,IAAJ,CAASS,aANF;AAOtBC,MAAAA,QAAQ,EAAEvB,GAAG,CAACa,IAAJ,CAASU,QAPG;AAQtBC,MAAAA,UAAU,EAAExB,GAAG,CAACa,IAAJ,CAASW,UARC;AAStBd,MAAAA,IAAI,EAAEV,GAAG,CAACU,IAAJ,CAASC;AATO,KAAV,CAAd;AAWA,UAAMc,YAAY,GAAG,MAAMP,KAAK,CAACQ,IAAN,EAA3B;AACAzB,IAAAA,GAAG,CACAe,MADH,CACU,GADV,EAEGP,IAFH,CAEQ;AAAEQ,MAAAA,OAAO,EAAE,mBAAX;AAAgCC,MAAAA,KAAK,EAAEO;AAAvC,KAFR;AAGD;AACF,CApBD,CAHF;AA0BA/B,WAAW,CAACG,GAAZ,CACE,MADF,EAEEC,YAFF,EAGE,kCAAoB,OAAOE,GAAP,EAAYC,GAAZ,KAAoB;AACtC,QAAMiB,KAAK,GAAG,MAAMZ,oBAAMqB,QAAN,CAAe3B,GAAG,CAAC4B,MAAJ,CAAWC,EAA1B,CAApB;;AACA,MAAIX,KAAJ,EAAW;AACTjB,IAAAA,GAAG,CAACQ,IAAJ,CAASS,KAAT;AACD,GAFD,MAEO;AACLjB,IAAAA,GAAG,CAACe,MAAJ,CAAW,GAAX,EAAgBP,IAAhB,CAAqB;AAAEQ,MAAAA,OAAO,EAAE;AAAX,KAArB;AACD;AACF,CAPD,CAHF;AAaAvB,WAAW,CAACoC,GAAZ,CACE,UADF,EAEEhC,YAFF,EAGE,kCAAoB,OAAOE,GAAP,EAAYC,GAAZ,KAAoB;AACtC,QAAMiB,KAAK,GAAG,MAAMZ,oBAAMqB,QAAN,CAAe3B,GAAG,CAAC4B,MAAJ,CAAWC,EAA1B,CAApB;;AACA,MAAIX,KAAJ,EAAW;AACTA,IAAAA,KAAK,CAACa,MAAN,GAAe,IAAf;AACAb,IAAAA,KAAK,CAACc,MAAN,GAAeC,IAAI,CAACC,GAAL,EAAf;AACAhB,IAAAA,KAAK,CAACiB,aAAN,GAAsB;AACpBN,MAAAA,EAAE,EAAE7B,GAAG,CAACa,IAAJ,CAASgB,EADO;AAEpBb,MAAAA,MAAM,EAAEhB,GAAG,CAACa,IAAJ,CAASG,MAFG;AAGpBoB,MAAAA,WAAW,EAAEpC,GAAG,CAACa,IAAJ,CAASuB,WAHF;AAIpBC,MAAAA,aAAa,EAAErC,GAAG,CAACa,IAAJ,CAASwB;AAJJ,KAAtB;AAMA,UAAMC,YAAY,GAAG,MAAMpB,KAAK,CAACQ,IAAN,EAA3B;AACAzB,IAAAA,GAAG,CAACQ,IAAJ,CAAS;AAAEQ,MAAAA,OAAO,EAAE,YAAX;AAAyBC,MAAAA,KAAK,EAAEoB;AAAhC,KAAT;AACD,GAXD,MAWO;AACLrC,IAAAA,GAAG,CAACe,MAAJ,CAAW,GAAX,EAAgBP,IAAhB,CAAqB;AAAEQ,MAAAA,OAAO,EAAE;AAAX,KAArB;AACD;AACF,CAhBD,CAHF;AAsBAvB,WAAW,CAAC6C,MAAZ,CACE,MADF,EAEEzC,YAFF,EAGE0C,aAHF,EAIE,kCAAoB,OAAOxC,GAAP,EAAYC,GAAZ,KAAoB;AACtC,QAAMiB,KAAK,GAAG,MAAMZ,oBAAMqB,QAAN,CAAe3B,GAAG,CAAC4B,MAAJ,CAAWC,EAA1B,CAApB;;AACA,MAAIX,KAAJ,EAAW;AACT,UAAMuB,WAAW,GAAG,MAAMvB,KAAK,CAACwB,MAAN,EAA1B;AACAzC,IAAAA,GAAG,CAACQ,IAAJ,CAAS;AAAEQ,MAAAA,OAAO,EAAE,eAAX;AAA4BC,MAAAA,KAAK,EAAEuB;AAAnC,KAAT;AACD,GAHD,MAGO;AACLxC,IAAAA,GAAG,CAACe,MAAJ,CAAW,GAAX,EAAgBP,IAAhB,CAAqB;AAAEQ,MAAAA,OAAO,EAAE;AAAX,KAArB;AACD;AACF,CARD,CAJF;AAeAvB,WAAW,CAACoC,GAAZ,CACE,cADF,EAEEhC,YAFF,EAGE0C,aAHF,EAIE,kCAAoB,OAAOxC,GAAP,EAAYC,GAAZ,KAAoB;AACtC,QAAMiB,KAAK,GAAG,MAAMZ,oBAAMqB,QAAN,CAAe3B,GAAG,CAAC4B,MAAJ,CAAWC,EAA1B,CAApB;;AACA,MAAIX,KAAJ,EAAW;AACTA,IAAAA,KAAK,CAACyB,WAAN,GAAoB,IAApB;AACAzB,IAAAA,KAAK,CAAC0B,WAAN,GAAoBX,IAAI,CAACC,GAAL,EAApB;AAEA,UAAMI,YAAY,GAAG,MAAMpB,KAAK,CAACQ,IAAN,EAA3B;AACAzB,IAAAA,GAAG,CAACQ,IAAJ,CAAS;AAAEQ,MAAAA,OAAO,EAAE,iBAAX;AAA8BC,MAAAA,KAAK,EAAEoB;AAArC,KAAT;AACD,GAND,MAMO;AACLrC,IAAAA,GAAG,CAACe,MAAJ,CAAW,GAAX,EAAgBP,IAAhB,CAAqB;AAAEQ,MAAAA,OAAO,EAAE;AAAX,KAArB;AACD;AACF,CAXD,CAJF;eAkBevB,W",
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/",
      "sourcesContent": [
        "import express from 'express';\nimport expressAsyncHandler from 'express-async-handler';\nimport Order from '../schemas/orderModel.js';\nimport { isAdmin, isAuth, isSellerOrAdmin } from '../util.js';\n\nconst orderRouter = express.Router();\norderRouter.get(\n  '/',\n  isAuth,\n  isSellerOrAdmin,\n  expressAsyncHandler(async (req, res) => {\n    const seller = req.query.seller || '';\n    const sellerFilter = seller ? { seller } : {};\n\n    const orders = await Order.find({ ...sellerFilter }).populate(\n      'user',\n      'name'\n    );\n    res.send(orders);\n  })\n);\norderRouter.get(\n  '/mine',\n  isAuth,\n  expressAsyncHandler(async (req, res) => {\n    const orders = await Order.find({ user: req.user._id });\n    res.send(orders);\n  })\n);\n\norderRouter.post(\n  '/',\n  isAuth,\n  expressAsyncHandler(async (req, res) => {\n    if (req.body.orderItems.length === 0) {\n      res.status(400).send({ message: 'Cart is empty' });\n    } else {\n      const order = new Order({\n        seller: req.body.orderItems[0].seller,\n        orderItems: req.body.orderItems,\n        shippingAddress: req.body.shippingAddress,\n        paymentMethod: req.body.paymentMethod,\n        itemsPrice: req.body.itemsPrice,\n        shippingPrice: req.body.shippingPrice,\n        taxPrice: req.body.taxPrice,\n        totalPrice: req.body.totalPrice,\n        user: req.user._id,\n      });\n      const createdOrder = await order.save();\n      res\n        .status(201)\n        .send({ message: 'New Order Created', order: createdOrder });\n    }\n  })\n);\n\norderRouter.get(\n  '/:id',\n  isAuth,\n  expressAsyncHandler(async (req, res) => {\n    const order = await Order.findById(req.params.id);\n    if (order) {\n      res.send(order);\n    } else {\n      res.status(404).send({ message: 'Order Not Found' });\n    }\n  })\n);\n\norderRouter.put(\n  '/:id/pay',\n  isAuth,\n  expressAsyncHandler(async (req, res) => {\n    const order = await Order.findById(req.params.id);\n    if (order) {\n      order.isPaid = true;\n      order.paidAt = Date.now();\n      order.paymentResult = {\n        id: req.body.id,\n        status: req.body.status,\n        update_time: req.body.update_time,\n        email_address: req.body.email_address,\n      };\n      const updatedOrder = await order.save();\n      res.send({ message: 'Order Paid', order: updatedOrder });\n    } else {\n      res.status(404).send({ message: 'Order Not Found' });\n    }\n  })\n);\n\norderRouter.delete(\n  '/:id',\n  isAuth,\n  isAdmin,\n  expressAsyncHandler(async (req, res) => {\n    const order = await Order.findById(req.params.id);\n    if (order) {\n      const deleteOrder = await order.remove();\n      res.send({ message: 'Order Deleted', order: deleteOrder });\n    } else {\n      res.status(404).send({ message: 'Order Not Found' });\n    }\n  })\n);\n\norderRouter.put(\n  '/:id/deliver',\n  isAuth,\n  isAdmin,\n  expressAsyncHandler(async (req, res) => {\n    const order = await Order.findById(req.params.id);\n    if (order) {\n      order.isDelivered = true;\n      order.deliveredAt = Date.now();\n\n      const updatedOrder = await order.save();\n      res.send({ message: 'Order Delivered', order: updatedOrder });\n    } else {\n      res.status(404).send({ message: 'Order Not Found' });\n    }\n  })\n);\n\nexport default orderRouter;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1607065228625
  },
  "{\"sourceRoot\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop\",\"filename\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/models/orderModel.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/models/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop",
      "filename": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/models/orderModel.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/models/orderModel.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/models/orderModel.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/models/",
        "sourceFileName": "orderModel.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst shippingSchema = {\n  address: {\n    type: String,\n    required: true\n  },\n  city: {\n    type: String,\n    required: true\n  },\n  postalCode: {\n    type: String,\n    required: true\n  },\n  country: {\n    type: String,\n    required: true\n  }\n};\nconst paymentSchema = {\n  paymentMethod: {\n    type: String,\n    required: true\n  }\n};\nconst orderItemSchema = new _mongoose.default.Schema({\n  name: {\n    type: String,\n    required: true\n  },\n  qty: {\n    type: Number,\n    required: true\n  },\n  image: {\n    type: String,\n    required: true\n  },\n  price: {\n    type: String,\n    required: true\n  },\n  product: {\n    type: _mongoose.default.Schema.Types.ObjectId,\n    ref: 'Product',\n    required: true\n  }\n});\nconst orderSchema = new _mongoose.default.Schema({\n  user: {\n    type: _mongoose.default.Schema.Types.ObjectId,\n    ref: 'User',\n    required: true\n  },\n  orderItems: [orderItemSchema],\n  shipping: shippingSchema,\n  payment: paymentSchema,\n  itemsPrice: {\n    type: Number\n  },\n  taxPrice: {\n    type: Number\n  },\n  shippingPrice: {\n    type: Number\n  },\n  totalPrice: {\n    type: Number\n  },\n  isPaid: {\n    type: Boolean,\n    default: false\n  },\n  paidAt: {\n    type: Date\n  },\n  isDelivered: {\n    type: Boolean,\n    default: false\n  },\n  deliveredAt: {\n    type: Date\n  }\n}, {\n  timestamps: true\n});\n\nconst orderModel = _mongoose.default.model(\"Order\", orderSchema);\n\nvar _default = orderModel;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9yZGVyTW9kZWwuanMiXSwibmFtZXMiOlsic2hpcHBpbmdTY2hlbWEiLCJhZGRyZXNzIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwiY2l0eSIsInBvc3RhbENvZGUiLCJjb3VudHJ5IiwicGF5bWVudFNjaGVtYSIsInBheW1lbnRNZXRob2QiLCJvcmRlckl0ZW1TY2hlbWEiLCJtb25nb29zZSIsIlNjaGVtYSIsIm5hbWUiLCJxdHkiLCJOdW1iZXIiLCJpbWFnZSIsInByaWNlIiwicHJvZHVjdCIsIlR5cGVzIiwiT2JqZWN0SWQiLCJyZWYiLCJvcmRlclNjaGVtYSIsInVzZXIiLCJvcmRlckl0ZW1zIiwic2hpcHBpbmciLCJwYXltZW50IiwiaXRlbXNQcmljZSIsInRheFByaWNlIiwic2hpcHBpbmdQcmljZSIsInRvdGFsUHJpY2UiLCJpc1BhaWQiLCJCb29sZWFuIiwiZGVmYXVsdCIsInBhaWRBdCIsIkRhdGUiLCJpc0RlbGl2ZXJlZCIsImRlbGl2ZXJlZEF0IiwidGltZXN0YW1wcyIsIm9yZGVyTW9kZWwiLCJtb2RlbCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7O0FBQ0EsTUFBTUEsY0FBYyxHQUFHO0FBQ3JCQyxFQUFBQSxPQUFPLEVBQUU7QUFBRUMsSUFBQUEsSUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxJQUFBQSxRQUFRLEVBQUU7QUFBMUIsR0FEWTtBQUVyQkMsRUFBQUEsSUFBSSxFQUFFO0FBQUVILElBQUFBLElBQUksRUFBRUMsTUFBUjtBQUFnQkMsSUFBQUEsUUFBUSxFQUFFO0FBQTFCLEdBRmU7QUFHckJFLEVBQUFBLFVBQVUsRUFBRTtBQUFFSixJQUFBQSxJQUFJLEVBQUVDLE1BQVI7QUFBZ0JDLElBQUFBLFFBQVEsRUFBRTtBQUExQixHQUhTO0FBSXJCRyxFQUFBQSxPQUFPLEVBQUU7QUFBRUwsSUFBQUEsSUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxJQUFBQSxRQUFRLEVBQUU7QUFBMUI7QUFKWSxDQUF2QjtBQU9BLE1BQU1JLGFBQWEsR0FBRztBQUNwQkMsRUFBQUEsYUFBYSxFQUFFO0FBQUVQLElBQUFBLElBQUksRUFBRUMsTUFBUjtBQUFnQkMsSUFBQUEsUUFBUSxFQUFFO0FBQTFCO0FBREssQ0FBdEI7QUFJQSxNQUFNTSxlQUFlLEdBQUcsSUFBSUMsa0JBQVNDLE1BQWIsQ0FBb0I7QUFDMUNDLEVBQUFBLElBQUksRUFBRTtBQUFFWCxJQUFBQSxJQUFJLEVBQUVDLE1BQVI7QUFBZ0JDLElBQUFBLFFBQVEsRUFBRTtBQUExQixHQURvQztBQUUxQ1UsRUFBQUEsR0FBRyxFQUFFO0FBQUVaLElBQUFBLElBQUksRUFBRWEsTUFBUjtBQUFnQlgsSUFBQUEsUUFBUSxFQUFFO0FBQTFCLEdBRnFDO0FBRzFDWSxFQUFBQSxLQUFLLEVBQUU7QUFBRWQsSUFBQUEsSUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxJQUFBQSxRQUFRLEVBQUU7QUFBMUIsR0FIbUM7QUFJMUNhLEVBQUFBLEtBQUssRUFBRTtBQUFFZixJQUFBQSxJQUFJLEVBQUVDLE1BQVI7QUFBZ0JDLElBQUFBLFFBQVEsRUFBRTtBQUExQixHQUptQztBQUsxQ2MsRUFBQUEsT0FBTyxFQUFFO0FBQ1BoQixJQUFBQSxJQUFJLEVBQUVTLGtCQUFTQyxNQUFULENBQWdCTyxLQUFoQixDQUFzQkMsUUFEckI7QUFFUEMsSUFBQUEsR0FBRyxFQUFFLFNBRkU7QUFHUGpCLElBQUFBLFFBQVEsRUFBRTtBQUhIO0FBTGlDLENBQXBCLENBQXhCO0FBWUEsTUFBTWtCLFdBQVcsR0FBRyxJQUFJWCxrQkFBU0MsTUFBYixDQUFvQjtBQUN0Q1csRUFBQUEsSUFBSSxFQUFFO0FBQUVyQixJQUFBQSxJQUFJLEVBQUVTLGtCQUFTQyxNQUFULENBQWdCTyxLQUFoQixDQUFzQkMsUUFBOUI7QUFBd0NDLElBQUFBLEdBQUcsRUFBRSxNQUE3QztBQUFxRGpCLElBQUFBLFFBQVEsRUFBRTtBQUEvRCxHQURnQztBQUV0Q29CLEVBQUFBLFVBQVUsRUFBRSxDQUFDZCxlQUFELENBRjBCO0FBR3RDZSxFQUFBQSxRQUFRLEVBQUV6QixjQUg0QjtBQUl0QzBCLEVBQUFBLE9BQU8sRUFBRWxCLGFBSjZCO0FBS3RDbUIsRUFBQUEsVUFBVSxFQUFFO0FBQUV6QixJQUFBQSxJQUFJLEVBQUVhO0FBQVIsR0FMMEI7QUFNdENhLEVBQUFBLFFBQVEsRUFBRTtBQUFFMUIsSUFBQUEsSUFBSSxFQUFFYTtBQUFSLEdBTjRCO0FBT3RDYyxFQUFBQSxhQUFhLEVBQUU7QUFBRTNCLElBQUFBLElBQUksRUFBRWE7QUFBUixHQVB1QjtBQVF0Q2UsRUFBQUEsVUFBVSxFQUFFO0FBQUU1QixJQUFBQSxJQUFJLEVBQUVhO0FBQVIsR0FSMEI7QUFTdENnQixFQUFBQSxNQUFNLEVBQUU7QUFBRTdCLElBQUFBLElBQUksRUFBRThCLE9BQVI7QUFBaUJDLElBQUFBLE9BQU8sRUFBRTtBQUExQixHQVQ4QjtBQVV0Q0MsRUFBQUEsTUFBTSxFQUFFO0FBQUVoQyxJQUFBQSxJQUFJLEVBQUVpQztBQUFSLEdBVjhCO0FBV3RDQyxFQUFBQSxXQUFXLEVBQUU7QUFBRWxDLElBQUFBLElBQUksRUFBRThCLE9BQVI7QUFBaUJDLElBQUFBLE9BQU8sRUFBRTtBQUExQixHQVh5QjtBQVl0Q0ksRUFBQUEsV0FBVyxFQUFFO0FBQUVuQyxJQUFBQSxJQUFJLEVBQUVpQztBQUFSO0FBWnlCLENBQXBCLEVBYWpCO0FBQ0RHLEVBQUFBLFVBQVUsRUFBRTtBQURYLENBYmlCLENBQXBCOztBQWlCQSxNQUFNQyxVQUFVLEdBQUc1QixrQkFBUzZCLEtBQVQsQ0FBZSxPQUFmLEVBQXdCbEIsV0FBeEIsQ0FBbkI7O2VBQ2VpQixVIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9NZS9EZXNrdG9wL1JlYWN0UHJvamVjdHMvZWNvbW0vbHV4ZXNob3AvYmFja2VuZC9tb2RlbHMvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcbmNvbnN0IHNoaXBwaW5nU2NoZW1hID0ge1xuICBhZGRyZXNzOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgY2l0eTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gIHBvc3RhbENvZGU6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxuICBjb3VudHJ5OiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcbn07XG5cbmNvbnN0IHBheW1lbnRTY2hlbWEgPSB7XG4gIHBheW1lbnRNZXRob2Q6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9XG59O1xuXG5jb25zdCBvcmRlckl0ZW1TY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKHtcbiAgbmFtZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gIHF0eTogeyB0eXBlOiBOdW1iZXIsIHJlcXVpcmVkOiB0cnVlIH0sXG4gIGltYWdlOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgcHJpY2U6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxuICBwcm9kdWN0OiB7XG4gICAgdHlwZTogbW9uZ29vc2UuU2NoZW1hLlR5cGVzLk9iamVjdElkLFxuICAgIHJlZjogJ1Byb2R1Y3QnLFxuICAgIHJlcXVpcmVkOiB0cnVlXG4gIH0sXG59KTtcblxuY29uc3Qgb3JkZXJTY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKHtcbiAgdXNlcjogeyB0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsIHJlZjogJ1VzZXInLCByZXF1aXJlZDogdHJ1ZSB9LFxuICBvcmRlckl0ZW1zOiBbb3JkZXJJdGVtU2NoZW1hXSxcbiAgc2hpcHBpbmc6IHNoaXBwaW5nU2NoZW1hLFxuICBwYXltZW50OiBwYXltZW50U2NoZW1hLFxuICBpdGVtc1ByaWNlOiB7IHR5cGU6IE51bWJlciB9LFxuICB0YXhQcmljZTogeyB0eXBlOiBOdW1iZXIgfSxcbiAgc2hpcHBpbmdQcmljZTogeyB0eXBlOiBOdW1iZXIgfSxcbiAgdG90YWxQcmljZTogeyB0eXBlOiBOdW1iZXIgfSxcbiAgaXNQYWlkOiB7IHR5cGU6IEJvb2xlYW4sIGRlZmF1bHQ6IGZhbHNlIH0sXG4gIHBhaWRBdDogeyB0eXBlOiBEYXRlIH0sXG4gIGlzRGVsaXZlcmVkOiB7IHR5cGU6IEJvb2xlYW4sIGRlZmF1bHQ6IGZhbHNlIH0sXG4gIGRlbGl2ZXJlZEF0OiB7IHR5cGU6IERhdGUgfSxcbn0sIHtcbiAgdGltZXN0YW1wczogdHJ1ZVxufSk7XG5cbmNvbnN0IG9yZGVyTW9kZWwgPSBtb25nb29zZS5tb2RlbChcIk9yZGVyXCIsIG9yZGVyU2NoZW1hKTtcbmV4cG9ydCBkZWZhdWx0IG9yZGVyTW9kZWw7Il19",
    "map": {
      "version": 3,
      "sources": [
        "orderModel.js"
      ],
      "names": [
        "shippingSchema",
        "address",
        "type",
        "String",
        "required",
        "city",
        "postalCode",
        "country",
        "paymentSchema",
        "paymentMethod",
        "orderItemSchema",
        "mongoose",
        "Schema",
        "name",
        "qty",
        "Number",
        "image",
        "price",
        "product",
        "Types",
        "ObjectId",
        "ref",
        "orderSchema",
        "user",
        "orderItems",
        "shipping",
        "payment",
        "itemsPrice",
        "taxPrice",
        "shippingPrice",
        "totalPrice",
        "isPaid",
        "Boolean",
        "default",
        "paidAt",
        "Date",
        "isDelivered",
        "deliveredAt",
        "timestamps",
        "orderModel",
        "model"
      ],
      "mappings": ";;;;;;;AAAA;;;;AACA,MAAMA,cAAc,GAAG;AACrBC,EAAAA,OAAO,EAAE;AAAEC,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GADY;AAErBC,EAAAA,IAAI,EAAE;AAAEH,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAFe;AAGrBE,EAAAA,UAAU,EAAE;AAAEJ,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAHS;AAIrBG,EAAAA,OAAO,EAAE;AAAEL,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B;AAJY,CAAvB;AAOA,MAAMI,aAAa,GAAG;AACpBC,EAAAA,aAAa,EAAE;AAAEP,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B;AADK,CAAtB;AAIA,MAAMM,eAAe,GAAG,IAAIC,kBAASC,MAAb,CAAoB;AAC1CC,EAAAA,IAAI,EAAE;AAAEX,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GADoC;AAE1CU,EAAAA,GAAG,EAAE;AAAEZ,IAAAA,IAAI,EAAEa,MAAR;AAAgBX,IAAAA,QAAQ,EAAE;AAA1B,GAFqC;AAG1CY,EAAAA,KAAK,EAAE;AAAEd,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAHmC;AAI1Ca,EAAAA,KAAK,EAAE;AAAEf,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAJmC;AAK1Cc,EAAAA,OAAO,EAAE;AACPhB,IAAAA,IAAI,EAAES,kBAASC,MAAT,CAAgBO,KAAhB,CAAsBC,QADrB;AAEPC,IAAAA,GAAG,EAAE,SAFE;AAGPjB,IAAAA,QAAQ,EAAE;AAHH;AALiC,CAApB,CAAxB;AAYA,MAAMkB,WAAW,GAAG,IAAIX,kBAASC,MAAb,CAAoB;AACtCW,EAAAA,IAAI,EAAE;AAAErB,IAAAA,IAAI,EAAES,kBAASC,MAAT,CAAgBO,KAAhB,CAAsBC,QAA9B;AAAwCC,IAAAA,GAAG,EAAE,MAA7C;AAAqDjB,IAAAA,QAAQ,EAAE;AAA/D,GADgC;AAEtCoB,EAAAA,UAAU,EAAE,CAACd,eAAD,CAF0B;AAGtCe,EAAAA,QAAQ,EAAEzB,cAH4B;AAItC0B,EAAAA,OAAO,EAAElB,aAJ6B;AAKtCmB,EAAAA,UAAU,EAAE;AAAEzB,IAAAA,IAAI,EAAEa;AAAR,GAL0B;AAMtCa,EAAAA,QAAQ,EAAE;AAAE1B,IAAAA,IAAI,EAAEa;AAAR,GAN4B;AAOtCc,EAAAA,aAAa,EAAE;AAAE3B,IAAAA,IAAI,EAAEa;AAAR,GAPuB;AAQtCe,EAAAA,UAAU,EAAE;AAAE5B,IAAAA,IAAI,EAAEa;AAAR,GAR0B;AAStCgB,EAAAA,MAAM,EAAE;AAAE7B,IAAAA,IAAI,EAAE8B,OAAR;AAAiBC,IAAAA,OAAO,EAAE;AAA1B,GAT8B;AAUtCC,EAAAA,MAAM,EAAE;AAAEhC,IAAAA,IAAI,EAAEiC;AAAR,GAV8B;AAWtCC,EAAAA,WAAW,EAAE;AAAElC,IAAAA,IAAI,EAAE8B,OAAR;AAAiBC,IAAAA,OAAO,EAAE;AAA1B,GAXyB;AAYtCI,EAAAA,WAAW,EAAE;AAAEnC,IAAAA,IAAI,EAAEiC;AAAR;AAZyB,CAApB,EAajB;AACDG,EAAAA,UAAU,EAAE;AADX,CAbiB,CAApB;;AAiBA,MAAMC,UAAU,GAAG5B,kBAAS6B,KAAT,CAAe,OAAf,EAAwBlB,WAAxB,CAAnB;;eACeiB,U",
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/models/",
      "sourcesContent": [
        "import mongoose from 'mongoose';\nconst shippingSchema = {\n  address: { type: String, required: true },\n  city: { type: String, required: true },\n  postalCode: { type: String, required: true },\n  country: { type: String, required: true },\n};\n\nconst paymentSchema = {\n  paymentMethod: { type: String, required: true }\n};\n\nconst orderItemSchema = new mongoose.Schema({\n  name: { type: String, required: true },\n  qty: { type: Number, required: true },\n  image: { type: String, required: true },\n  price: { type: String, required: true },\n  product: {\n    type: mongoose.Schema.Types.ObjectId,\n    ref: 'Product',\n    required: true\n  },\n});\n\nconst orderSchema = new mongoose.Schema({\n  user: { type: mongoose.Schema.Types.ObjectId, ref: 'User', required: true },\n  orderItems: [orderItemSchema],\n  shipping: shippingSchema,\n  payment: paymentSchema,\n  itemsPrice: { type: Number },\n  taxPrice: { type: Number },\n  shippingPrice: { type: Number },\n  totalPrice: { type: Number },\n  isPaid: { type: Boolean, default: false },\n  paidAt: { type: Date },\n  isDelivered: { type: Boolean, default: false },\n  deliveredAt: { type: Date },\n}, {\n  timestamps: true\n});\n\nconst orderModel = mongoose.model(\"Order\", orderSchema);\nexport default orderModel;"
      ]
    },
    "sourceType": "script",
    "mtime": 1595823100000
  },
  "{\"sourceRoot\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop\",\"filename\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/uploadRoute.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop",
      "filename": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/uploadRoute.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/uploadRoute.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/uploadRoute.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/",
        "sourceFileName": "uploadRoute.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _multer = _interopRequireDefault(require(\"multer\"));\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _util = require(\"../util.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst uploadRouter = _express.default.Router();\n\nconst storage = _multer.default.diskStorage({\n  destination(req, file, cb) {\n    cb(null, 'uploads/');\n  },\n\n  filename(req, file, cb) {\n    cb(null, `${Date.now()}.jpg`);\n  }\n\n});\n\nconst upload = (0, _multer.default)({\n  storage\n});\nuploadRouter.post('/', _util.isAuth, upload.single('image'), (req, res) => {\n  res.send(`/${req.file.path}`);\n});\nvar _default = uploadRouter;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVwbG9hZFJvdXRlLmpzIl0sIm5hbWVzIjpbInVwbG9hZFJvdXRlciIsImV4cHJlc3MiLCJSb3V0ZXIiLCJzdG9yYWdlIiwibXVsdGVyIiwiZGlza1N0b3JhZ2UiLCJkZXN0aW5hdGlvbiIsInJlcSIsImZpbGUiLCJjYiIsImZpbGVuYW1lIiwiRGF0ZSIsIm5vdyIsInVwbG9hZCIsInBvc3QiLCJpc0F1dGgiLCJzaW5nbGUiLCJyZXMiLCJzZW5kIiwicGF0aCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOzs7O0FBRUEsTUFBTUEsWUFBWSxHQUFHQyxpQkFBUUMsTUFBUixFQUFyQjs7QUFFQSxNQUFNQyxPQUFPLEdBQUdDLGdCQUFPQyxXQUFQLENBQW1CO0FBQ2pDQyxFQUFBQSxXQUFXLENBQUNDLEdBQUQsRUFBTUMsSUFBTixFQUFZQyxFQUFaLEVBQWdCO0FBQ3pCQSxJQUFBQSxFQUFFLENBQUMsSUFBRCxFQUFPLFVBQVAsQ0FBRjtBQUNELEdBSGdDOztBQUlqQ0MsRUFBQUEsUUFBUSxDQUFDSCxHQUFELEVBQU1DLElBQU4sRUFBWUMsRUFBWixFQUFnQjtBQUN0QkEsSUFBQUEsRUFBRSxDQUFDLElBQUQsRUFBUSxHQUFFRSxJQUFJLENBQUNDLEdBQUwsRUFBVyxNQUFyQixDQUFGO0FBQ0Q7O0FBTmdDLENBQW5CLENBQWhCOztBQVNBLE1BQU1DLE1BQU0sR0FBRyxxQkFBTztBQUFFVixFQUFBQTtBQUFGLENBQVAsQ0FBZjtBQUVBSCxZQUFZLENBQUNjLElBQWIsQ0FBa0IsR0FBbEIsRUFBdUJDLFlBQXZCLEVBQStCRixNQUFNLENBQUNHLE1BQVAsQ0FBYyxPQUFkLENBQS9CLEVBQXVELENBQUNULEdBQUQsRUFBTVUsR0FBTixLQUFjO0FBQ25FQSxFQUFBQSxHQUFHLENBQUNDLElBQUosQ0FBVSxJQUFHWCxHQUFHLENBQUNDLElBQUosQ0FBU1csSUFBSyxFQUEzQjtBQUNELENBRkQ7ZUFJZW5CLFkiLCJzb3VyY2VSb290IjoiL1VzZXJzL01lL0Rlc2t0b3AvUmVhY3RQcm9qZWN0cy9lY29tbS9sdXhlc2hvcC9iYWNrZW5kL3JvdXRlcy8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbXVsdGVyIGZyb20gJ211bHRlcic7XG5pbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcbmltcG9ydCB7IGlzQXV0aCB9IGZyb20gJy4uL3V0aWwuanMnO1xuXG5jb25zdCB1cGxvYWRSb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xuXG5jb25zdCBzdG9yYWdlID0gbXVsdGVyLmRpc2tTdG9yYWdlKHtcbiAgZGVzdGluYXRpb24ocmVxLCBmaWxlLCBjYikge1xuICAgIGNiKG51bGwsICd1cGxvYWRzLycpO1xuICB9LFxuICBmaWxlbmFtZShyZXEsIGZpbGUsIGNiKSB7XG4gICAgY2IobnVsbCwgYCR7RGF0ZS5ub3coKX0uanBnYCk7XG4gIH0sXG59KTtcblxuY29uc3QgdXBsb2FkID0gbXVsdGVyKHsgc3RvcmFnZSB9KTtcblxudXBsb2FkUm91dGVyLnBvc3QoJy8nLCBpc0F1dGgsIHVwbG9hZC5zaW5nbGUoJ2ltYWdlJyksIChyZXEsIHJlcykgPT4ge1xuICByZXMuc2VuZChgLyR7cmVxLmZpbGUucGF0aH1gKTtcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCB1cGxvYWRSb3V0ZXI7XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "uploadRoute.js"
      ],
      "names": [
        "uploadRouter",
        "express",
        "Router",
        "storage",
        "multer",
        "diskStorage",
        "destination",
        "req",
        "file",
        "cb",
        "filename",
        "Date",
        "now",
        "upload",
        "post",
        "isAuth",
        "single",
        "res",
        "send",
        "path"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;;;AAEA,MAAMA,YAAY,GAAGC,iBAAQC,MAAR,EAArB;;AAEA,MAAMC,OAAO,GAAGC,gBAAOC,WAAP,CAAmB;AACjCC,EAAAA,WAAW,CAACC,GAAD,EAAMC,IAAN,EAAYC,EAAZ,EAAgB;AACzBA,IAAAA,EAAE,CAAC,IAAD,EAAO,UAAP,CAAF;AACD,GAHgC;;AAIjCC,EAAAA,QAAQ,CAACH,GAAD,EAAMC,IAAN,EAAYC,EAAZ,EAAgB;AACtBA,IAAAA,EAAE,CAAC,IAAD,EAAQ,GAAEE,IAAI,CAACC,GAAL,EAAW,MAArB,CAAF;AACD;;AANgC,CAAnB,CAAhB;;AASA,MAAMC,MAAM,GAAG,qBAAO;AAAEV,EAAAA;AAAF,CAAP,CAAf;AAEAH,YAAY,CAACc,IAAb,CAAkB,GAAlB,EAAuBC,YAAvB,EAA+BF,MAAM,CAACG,MAAP,CAAc,OAAd,CAA/B,EAAuD,CAACT,GAAD,EAAMU,GAAN,KAAc;AACnEA,EAAAA,GAAG,CAACC,IAAJ,CAAU,IAAGX,GAAG,CAACC,IAAJ,CAASW,IAAK,EAA3B;AACD,CAFD;eAIenB,Y",
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/",
      "sourcesContent": [
        "import multer from 'multer';\nimport express from 'express';\nimport { isAuth } from '../util.js';\n\nconst uploadRouter = express.Router();\n\nconst storage = multer.diskStorage({\n  destination(req, file, cb) {\n    cb(null, 'uploads/');\n  },\n  filename(req, file, cb) {\n    cb(null, `${Date.now()}.jpg`);\n  },\n});\n\nconst upload = multer({ storage });\n\nuploadRouter.post('/', isAuth, upload.single('image'), (req, res) => {\n  res.send(`/${req.file.path}`);\n});\n\nexport default uploadRouter;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1607064588852
  },
  "{\"sourceRoot\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop\",\"filename\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/config.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop",
      "filename": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/config.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/config.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/config.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/",
        "sourceFileName": "config.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _dotenv = _interopRequireDefault(require(\"dotenv\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_dotenv.default.config();\n\nvar _default = {\n  PORT: process.env.PORT || 5000,\n  MONGODB_URL: process.env.MONGODB_URL || 'mongodb://localhost/luxeshop',\n  JWT_SECRET: process.env.JWT_SECRET || 'somethingsecret',\n  PAYPAL_CLIENT_ID: process.env.PAYPAL_CLIENT_ID || 'sb',\n  accessKeyId: process.env.accessKeyId || 'accessKeyId',\n  secretAccessKey: process.env.secretAccessKey || 'secretAccessKey'\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbmZpZy5qcyJdLCJuYW1lcyI6WyJkb3RlbnYiLCJjb25maWciLCJQT1JUIiwicHJvY2VzcyIsImVudiIsIk1PTkdPREJfVVJMIiwiSldUX1NFQ1JFVCIsIlBBWVBBTF9DTElFTlRfSUQiLCJhY2Nlc3NLZXlJZCIsInNlY3JldEFjY2Vzc0tleSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7O0FBRUFBLGdCQUFPQyxNQUFQOztlQUVlO0FBQ2JDLEVBQUFBLElBQUksRUFBRUMsT0FBTyxDQUFDQyxHQUFSLENBQVlGLElBQVosSUFBb0IsSUFEYjtBQUViRyxFQUFBQSxXQUFXLEVBQUVGLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxXQUFaLElBQTJCLDhCQUYzQjtBQUdiQyxFQUFBQSxVQUFVLEVBQUVILE9BQU8sQ0FBQ0MsR0FBUixDQUFZRSxVQUFaLElBQTBCLGlCQUh6QjtBQUliQyxFQUFBQSxnQkFBZ0IsRUFBRUosT0FBTyxDQUFDQyxHQUFSLENBQVlHLGdCQUFaLElBQWdDLElBSnJDO0FBS2JDLEVBQUFBLFdBQVcsRUFBRUwsT0FBTyxDQUFDQyxHQUFSLENBQVlJLFdBQVosSUFBMkIsYUFMM0I7QUFNYkMsRUFBQUEsZUFBZSxFQUFFTixPQUFPLENBQUNDLEdBQVIsQ0FBWUssZUFBWixJQUErQjtBQU5uQyxDIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9NZS9EZXNrdG9wL1JlYWN0UHJvamVjdHMvZWNvbW0vbHV4ZXNob3AvYmFja2VuZC8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZG90ZW52IGZyb20gJ2RvdGVudic7XG5cbmRvdGVudi5jb25maWcoKTtcblxuZXhwb3J0IGRlZmF1bHQge1xuICBQT1JUOiBwcm9jZXNzLmVudi5QT1JUIHx8IDUwMDAsXG4gIE1PTkdPREJfVVJMOiBwcm9jZXNzLmVudi5NT05HT0RCX1VSTCB8fCAnbW9uZ29kYjovL2xvY2FsaG9zdC9sdXhlc2hvcCcsXG4gIEpXVF9TRUNSRVQ6IHByb2Nlc3MuZW52LkpXVF9TRUNSRVQgfHwgJ3NvbWV0aGluZ3NlY3JldCcsXG4gIFBBWVBBTF9DTElFTlRfSUQ6IHByb2Nlc3MuZW52LlBBWVBBTF9DTElFTlRfSUQgfHwgJ3NiJyxcbiAgYWNjZXNzS2V5SWQ6IHByb2Nlc3MuZW52LmFjY2Vzc0tleUlkIHx8ICdhY2Nlc3NLZXlJZCcsXG4gIHNlY3JldEFjY2Vzc0tleTogcHJvY2Vzcy5lbnYuc2VjcmV0QWNjZXNzS2V5IHx8ICdzZWNyZXRBY2Nlc3NLZXknLFxufTtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "config.js"
      ],
      "names": [
        "dotenv",
        "config",
        "PORT",
        "process",
        "env",
        "MONGODB_URL",
        "JWT_SECRET",
        "PAYPAL_CLIENT_ID",
        "accessKeyId",
        "secretAccessKey"
      ],
      "mappings": ";;;;;;;AAAA;;;;AAEAA,gBAAOC,MAAP;;eAEe;AACbC,EAAAA,IAAI,EAAEC,OAAO,CAACC,GAAR,CAAYF,IAAZ,IAAoB,IADb;AAEbG,EAAAA,WAAW,EAAEF,OAAO,CAACC,GAAR,CAAYC,WAAZ,IAA2B,8BAF3B;AAGbC,EAAAA,UAAU,EAAEH,OAAO,CAACC,GAAR,CAAYE,UAAZ,IAA0B,iBAHzB;AAIbC,EAAAA,gBAAgB,EAAEJ,OAAO,CAACC,GAAR,CAAYG,gBAAZ,IAAgC,IAJrC;AAKbC,EAAAA,WAAW,EAAEL,OAAO,CAACC,GAAR,CAAYI,WAAZ,IAA2B,aAL3B;AAMbC,EAAAA,eAAe,EAAEN,OAAO,CAACC,GAAR,CAAYK,eAAZ,IAA+B;AANnC,C",
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/",
      "sourcesContent": [
        "import dotenv from 'dotenv';\n\ndotenv.config();\n\nexport default {\n  PORT: process.env.PORT || 5000,\n  MONGODB_URL: process.env.MONGODB_URL || 'mongodb://localhost/luxeshop',\n  JWT_SECRET: process.env.JWT_SECRET || 'somethingsecret',\n  PAYPAL_CLIENT_ID: process.env.PAYPAL_CLIENT_ID || 'sb',\n  accessKeyId: process.env.accessKeyId || 'accessKeyId',\n  secretAccessKey: process.env.secretAccessKey || 'secretAccessKey',\n};\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1600927414131
  },
  "{\"sourceRoot\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop\",\"filename\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/userRoute.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop",
      "filename": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/userRoute.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/userRoute.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/userRoute.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/",
        "sourceFileName": "userRoute.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _userModel = _interopRequireDefault(require(\"../schemas/userModel\"));\n\nvar _util = require(\"../util\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst router = _express.default.Router();\n\nrouter.put('/:id', _util.isAuth, async (req, res) => {\n  const userId = req.params.id;\n  const user = await _userModel.default.findById(userId);\n\n  if (user) {\n    user.name = req.body.name || user.name;\n    user.email = req.body.email || user.email;\n    user.password = req.body.password || user.password;\n    const updatedUser = await user.save();\n    res.send({\n      _id: updatedUser.id,\n      name: updatedUser.name,\n      email: updatedUser.email,\n      isAdmin: updatedUser.isAdmin,\n      token: (0, _util.getToken)(updatedUser)\n    });\n  } else {\n    res.status(404).send({\n      message: 'User Not Found'\n    });\n  }\n});\nrouter.post('/signin', async (req, res) => {\n  const signinUser = await _userModel.default.findOne({\n    email: req.body.email,\n    password: req.body.password\n  });\n\n  if (signinUser) {\n    res.send({\n      _id: signinUser.id,\n      name: signinUser.name,\n      email: signinUser.email,\n      isAdmin: signinUser.isAdmin,\n      token: (0, _util.getToken)(signinUser)\n    });\n  } else {\n    res.status(401).send({\n      message: 'Invalid Email or Password.'\n    });\n  }\n});\nrouter.post('/register', async (req, res) => {\n  const user = new _userModel.default({\n    name: req.body.name,\n    email: req.body.email,\n    password: req.body.password\n  });\n  const newUser = await user.save();\n\n  if (newUser) {\n    res.send({\n      _id: newUser.id,\n      name: newUser.name,\n      email: newUser.email,\n      isAdmin: newUser.isAdmin,\n      token: (0, _util.getToken)(newUser)\n    });\n  } else {\n    res.status(401).send({\n      message: 'Invalid User Data.'\n    });\n  }\n});\nrouter.get('/createadmin', async (req, res) => {\n  try {\n    const user = new _userModel.default({\n      name: 'Kim',\n      email: 'admin@admin.com',\n      password: '1111',\n      isAdmin: true\n    });\n    const newUser = await user.save();\n    res.send(newUser);\n  } catch (error) {\n    res.send({\n      message: error.message\n    });\n  }\n});\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJSb3V0ZS5qcyJdLCJuYW1lcyI6WyJyb3V0ZXIiLCJleHByZXNzIiwiUm91dGVyIiwicHV0IiwiaXNBdXRoIiwicmVxIiwicmVzIiwidXNlcklkIiwicGFyYW1zIiwiaWQiLCJ1c2VyIiwiVXNlciIsImZpbmRCeUlkIiwibmFtZSIsImJvZHkiLCJlbWFpbCIsInBhc3N3b3JkIiwidXBkYXRlZFVzZXIiLCJzYXZlIiwic2VuZCIsIl9pZCIsImlzQWRtaW4iLCJ0b2tlbiIsInN0YXR1cyIsIm1lc3NhZ2UiLCJwb3N0Iiwic2lnbmluVXNlciIsImZpbmRPbmUiLCJuZXdVc2VyIiwiZ2V0IiwiZXJyb3IiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7OztBQUVBLE1BQU1BLE1BQU0sR0FBR0MsaUJBQVFDLE1BQVIsRUFBZjs7QUFFQUYsTUFBTSxDQUFDRyxHQUFQLENBQVcsTUFBWCxFQUFtQkMsWUFBbkIsRUFBMkIsT0FBT0MsR0FBUCxFQUFZQyxHQUFaLEtBQW9CO0FBQzdDLFFBQU1DLE1BQU0sR0FBR0YsR0FBRyxDQUFDRyxNQUFKLENBQVdDLEVBQTFCO0FBQ0EsUUFBTUMsSUFBSSxHQUFHLE1BQU1DLG1CQUFLQyxRQUFMLENBQWNMLE1BQWQsQ0FBbkI7O0FBQ0EsTUFBSUcsSUFBSixFQUFVO0FBQ1JBLElBQUFBLElBQUksQ0FBQ0csSUFBTCxHQUFZUixHQUFHLENBQUNTLElBQUosQ0FBU0QsSUFBVCxJQUFpQkgsSUFBSSxDQUFDRyxJQUFsQztBQUNBSCxJQUFBQSxJQUFJLENBQUNLLEtBQUwsR0FBYVYsR0FBRyxDQUFDUyxJQUFKLENBQVNDLEtBQVQsSUFBa0JMLElBQUksQ0FBQ0ssS0FBcEM7QUFDQUwsSUFBQUEsSUFBSSxDQUFDTSxRQUFMLEdBQWdCWCxHQUFHLENBQUNTLElBQUosQ0FBU0UsUUFBVCxJQUFxQk4sSUFBSSxDQUFDTSxRQUExQztBQUNBLFVBQU1DLFdBQVcsR0FBRyxNQUFNUCxJQUFJLENBQUNRLElBQUwsRUFB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QUFBQSxJQUFJLEVBQUUsS0FEYztBQUVwQkUsTUFBQUEsS0FBSyxFQUFFLGlCQUZhO0FBR3BCQyxNQUFBQSxRQUFRLEVBQUUsTUFIVTtBQUlwQkssTUFBQUEsT0FBTyxFQUFFO0FBSlcsS0FBVCxDQUFiO0FBTUEsVUFBTU8sT0FBTyxHQUFHLE1BQU1sQixJQUFJLENBQUNRLElBQUwsRUFBdEI7QUFDQVosSUFBQUEsR0FBRyxDQUFDYSxJQUFKLENBQVNTLE9BQVQ7QUFDRCxHQVRELENBU0UsT0FBT0UsS0FBUCxFQUFjO0FBQ2R4QixJQUFBQSxHQUFHLENBQUNhLElBQUosQ0FBUztBQUFFSyxNQUFBQSxPQUFPLEVBQUVNLEtBQUssQ0FBQ047QUFBakIsS0FBVDtBQUNEO0FBQ0YsQ0FiRDtlQWVleEIsTSIsInNvdXJjZVJvb3QiOiIvVXNlcnMvTWUvRGVza3RvcC9SZWFjdFByb2plY3RzL2Vjb21tL2x1eGVzaG9wL2JhY2tlbmQvcm91dGVzLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IFVzZXIgZnJvbSAnLi4vc2NoZW1hcy91c2VyTW9kZWwnO1xuaW1wb3J0IHsgZ2V0VG9rZW4sIGlzQXV0aCB9IGZyb20gJy4uL3V0aWwnO1xuXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xuXG5yb3V0ZXIucHV0KCcvOmlkJywgaXNBdXRoLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgY29uc3QgdXNlcklkID0gcmVxLnBhcmFtcy5pZDtcbiAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXIuZmluZEJ5SWQodXNlcklkKTtcbiAgaWYgKHVzZXIpIHtcbiAgICB1c2VyLm5hbWUgPSByZXEuYm9keS5uYW1lIHx8IHVzZXIubmFtZTtcbiAgICB1c2VyLmVtYWlsID0gcmVxLmJvZHkuZW1haWwgfHwgdXNlci5lbWFpbDtcbiAgICB1c2VyLnBhc3N3b3JkID0gcmVxLmJvZHkucGFzc3dvcmQgfHwgdXNlci5wYXNzd29yZDtcbiAgICBjb25zdCB1cGRhdGVkVXNlciA9IGF3YWl0IHVzZXIuc2F2ZSgpO1xuICAgIHJlcy5zZW5kKHtcbiAgICAgIF9pZDogdXBkYXRlZFVzZXIuaWQsXG4gICAgICBuYW1lOiB1cGRhdGVkVXNlci5uYW1lLFxuICAgICAgZW1haWw6IHVwZGF0ZWRVc2VyLmVtYWlsLFxuICAgICAgaXNBZG1pbjogdXBkYXRlZFVzZXIuaXNBZG1pbixcbiAgICAgIHRva2VuOiBnZXRUb2tlbih1cGRhdGVkVXNlciksXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoeyBtZXNzYWdlOiAnVXNlciBOb3QgRm91bmQnIH0pO1xuICB9XG59KTtcblxucm91dGVyLnBvc3QoJy9zaWduaW4nLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgY29uc3Qgc2lnbmluVXNlciA9IGF3YWl0IFVzZXIuZmluZE9uZSh7XG4gICAgZW1haWw6IHJlcS5ib2R5LmVtYWlsLFxuICAgIHBhc3N3b3JkOiByZXEuYm9keS5wYXNzd29yZCxcbiAgfSk7XG4gIGlmIChzaWduaW5Vc2VyKSB7XG4gICAgcmVzLnNlbmQoe1xuICAgICAgX2lkOiBzaWduaW5Vc2VyLmlkLFxuICAgICAgbmFtZTogc2lnbmluVXNlci5uYW1lLFxuICAgICAgZW1haWw6IHNpZ25pblVzZXIuZW1haWwsXG4gICAgICBpc0FkbWluOiBzaWduaW5Vc2VyLmlzQWRtaW4sXG4gICAgICB0b2tlbjogZ2V0VG9rZW4oc2lnbmluVXNlciksXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgcmVzLnN0YXR1cyg0MDEpLnNlbmQoeyBtZXNzYWdlOiAnSW52YWxpZCBFbWFpbCBvciBQYXNzd29yZC4nIH0pO1xuICB9XG59KTtcblxucm91dGVyLnBvc3QoJy9yZWdpc3RlcicsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICBjb25zdCB1c2VyID0gbmV3IFVzZXIoe1xuICAgIG5hbWU6IHJlcS5ib2R5Lm5hbWUsXG4gICAgZW1haWw6IHJlcS5ib2R5LmVtYWlsLFxuICAgIHBhc3N3b3JkOiByZXEuYm9keS5wYXNzd29yZCxcbiAgfSk7XG4gIGNvbnN0IG5ld1VzZXIgPSBhd2FpdCB1c2VyLnNhdmUoKTtcbiAgaWYgKG5ld1VzZXIpIHtcbiAgICByZXMuc2VuZCh7XG4gICAgICBfaWQ6IG5ld1VzZXIuaWQsXG4gICAgICBuYW1lOiBuZXdVc2VyLm5hbWUsXG4gICAgICBlbWFpbDogbmV3VXNlci5lbWFpbCxcbiAgICAgIGlzQWRtaW46IG5ld1VzZXIuaXNBZG1pbixcbiAgICAgIHRva2VuOiBnZXRUb2tlbihuZXdVc2VyKSxcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICByZXMuc3RhdHVzKDQwMSkuc2VuZCh7IG1lc3NhZ2U6ICdJbnZhbGlkIFVzZXIgRGF0YS4nIH0pO1xuICB9XG59KTtcblxucm91dGVyLmdldCgnL2NyZWF0ZWFkbWluJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgdXNlciA9IG5ldyBVc2VyKHtcbiAgICAgIG5hbWU6ICdLaW0nLFxuICAgICAgZW1haWw6ICdhZG1pbkBhZG1pbi5jb20nLFxuICAgICAgcGFzc3dvcmQ6ICcxMTExJyxcbiAgICAgIGlzQWRtaW46IHRydWUsXG4gICAgfSk7XG4gICAgY29uc3QgbmV3VXNlciA9IGF3YWl0IHVzZXIuc2F2ZSgpO1xuICAgIHJlcy5zZW5kKG5ld1VzZXIpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJlcy5zZW5kKHsgbWVzc2FnZTogZXJyb3IubWVzc2FnZSB9KTtcbiAgfVxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "userRoute.js"
      ],
      "names": [
        "router",
        "express",
        "Router",
        "put",
        "isAuth",
        "req",
        "res",
        "userId",
        "params",
        "id",
        "user",
        "User",
        "findById",
        "name",
        "body",
        "email",
        "password",
        "updatedUser",
        "save",
        "send",
        "_id",
        "isAdmin",
        "token",
        "status",
        "message",
        "post",
        "signinUser",
        "findOne",
        "newUser",
        "get",
        "error"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/",
      "sourcesContent": [
        "import express from 'express';\nimport User from '../schemas/userModel';\nimport { getToken, isAuth } from '../util';\n\nconst router = express.Router();\n\nrouter.put('/:id', isAuth, async (req, res) => {\n  const userId = req.params.id;\n  const user = await User.findById(userId);\n  if (user) {\n    user.name = req.body.name || user.name;\n    user.email = req.body.email || user.email;\n    user.password = req.body.password || user.password;\n    const updatedUser = await user.save();\n    res.send({\n      _id: updatedUser.id,\n      name: updatedUser.name,\n      email: updatedUser.email,\n      isAdmin: updatedUser.isAdmin,\n      token: getToken(updatedUser),\n    });\n  } else {\n    res.status(404).send({ message: 'User Not Found' });\n  }\n});\n\nrouter.post('/signin', async (req, res) => {\n  const signinUser = await User.findOne({\n    email: req.body.email,\n    password: req.body.password,\n  });\n  if (signinUser) {\n    res.send({\n      _id: signinUser.id,\n      name: signinUser.name,\n      email: signinUser.email,\n      isAdmin: signinUser.isAdmin,\n      token: getToken(signinUser),\n    });\n  } else {\n    res.status(401).send({ message: 'Invalid Email or Password.' });\n  }\n});\n\nrouter.post('/register', async (req, res) => {\n  const user = new User({\n    name: req.body.name,\n    email: req.body.email,\n    password: req.body.password,\n  });\n  const newUser = await user.save();\n  if (newUser) {\n    res.send({\n      _id: newUser.id,\n      name: newUser.name,\n      email: newUser.email,\n      isAdmin: newUser.isAdmin,\n      token: getToken(newUser),\n    });\n  } else {\n    res.status(401).send({ message: 'Invalid User Data.' });\n  }\n});\n\nrouter.get('/createadmin', async (req, res) => {\n  try {\n    const user = new User({\n      name: 'Kim',\n      email: 'admin@admin.com',\n      password: '1111',\n      isAdmin: true,\n    });\n    const newUser = await user.save();\n    res.send(newUser);\n  } catch (error) {\n    res.send({ message: error.message });\n  }\n});\n\nexport default router;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1606438707215
  },
  "{\"sourceRoot\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop\",\"filename\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/models/userModel.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/models/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop",
      "filename": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/models/userModel.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/models/userModel.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/models/userModel.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/models/",
        "sourceFileName": "userModel.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst userSchema = new _mongoose.default.Schema({\n  name: {\n    type: String,\n    required: true\n  },\n  email: {\n    type: String,\n    required: true,\n    unique: true,\n    index: true,\n    dropDups: true\n  },\n  password: {\n    type: String,\n    required: true\n  },\n  isAdmin: {\n    type: Boolean,\n    required: true,\n    default: false\n  }\n});\n\nconst userModel = _mongoose.default.model('User', userSchema);\n\nvar _default = userModel;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJNb2RlbC5qcyJdLCJuYW1lcyI6WyJ1c2VyU2NoZW1hIiwibW9uZ29vc2UiLCJTY2hlbWEiLCJuYW1lIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwiZW1haWwiLCJ1bmlxdWUiLCJpbmRleCIsImRyb3BEdXBzIiwicGFzc3dvcmQiLCJpc0FkbWluIiwiQm9vbGVhbiIsImRlZmF1bHQiLCJ1c2VyTW9kZWwiLCJtb2RlbCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7O0FBRUEsTUFBTUEsVUFBVSxHQUFHLElBQUlDLGtCQUFTQyxNQUFiLENBQW9CO0FBQ3JDQyxFQUFBQSxJQUFJLEVBQUU7QUFBRUMsSUFBQUEsSUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxJQUFBQSxRQUFRLEVBQUU7QUFBMUIsR0FEK0I7QUFFckNDLEVBQUFBLEtBQUssRUFBRTtBQUNMSCxJQUFBQSxJQUFJLEVBQUVDLE1BREQ7QUFDU0MsSUFBQUEsUUFBUSxFQUFFLElBRG5CO0FBQ3lCRSxJQUFBQSxNQUFNLEVBQUUsSUFEakM7QUFDdUNDLElBQUFBLEtBQUssRUFBRSxJQUQ5QztBQUNvREMsSUFBQUEsUUFBUSxFQUFFO0FBRDlELEdBRjhCO0FBS3JDQyxFQUFBQSxRQUFRLEVBQUU7QUFBRVAsSUFBQUEsSUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxJQUFBQSxRQUFRLEVBQUU7QUFBMUIsR0FMMkI7QUFNckNNLEVBQUFBLE9BQU8sRUFBRTtBQUFFUixJQUFBQSxJQUFJLEVBQUVTLE9BQVI7QUFBaUJQLElBQUFBLFFBQVEsRUFBRSxJQUEzQjtBQUFpQ1EsSUFBQUEsT0FBTyxFQUFFO0FBQTFDO0FBTjRCLENBQXBCLENBQW5COztBQVNBLE1BQU1DLFNBQVMsR0FBR2Qsa0JBQVNlLEtBQVQsQ0FBZSxNQUFmLEVBQXVCaEIsVUFBdkIsQ0FBbEI7O2VBRWVlLFMiLCJzb3VyY2VSb290IjoiL1VzZXJzL01lL0Rlc2t0b3AvUmVhY3RQcm9qZWN0cy9lY29tbS9sdXhlc2hvcC9iYWNrZW5kL21vZGVscy8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xuXG5jb25zdCB1c2VyU2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7XG4gIG5hbWU6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxuICBlbWFpbDoge1xuICAgIHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUsIHVuaXF1ZTogdHJ1ZSwgaW5kZXg6IHRydWUsIGRyb3BEdXBzOiB0cnVlLFxuICB9LFxuICBwYXNzd29yZDogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gIGlzQWRtaW46IHsgdHlwZTogQm9vbGVhbiwgcmVxdWlyZWQ6IHRydWUsIGRlZmF1bHQ6IGZhbHNlIH0sXG59KTtcblxuY29uc3QgdXNlck1vZGVsID0gbW9uZ29vc2UubW9kZWwoJ1VzZXInLCB1c2VyU2NoZW1hKTtcblxuZXhwb3J0IGRlZmF1bHQgdXNlck1vZGVsO1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "userModel.js"
      ],
      "names": [
        "userSchema",
        "mongoose",
        "Schema",
        "name",
        "type",
        "String",
        "required",
        "email",
        "unique",
        "index",
        "dropDups",
        "password",
        "isAdmin",
        "Boolean",
        "default",
        "userModel",
        "model"
      ],
      "mappings": ";;;;;;;AAAA;;;;AAEA,MAAMA,UAAU,GAAG,IAAIC,kBAASC,MAAb,CAAoB;AACrCC,EAAAA,IAAI,EAAE;AAAEC,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAD+B;AAErCC,EAAAA,KAAK,EAAE;AACLH,IAAAA,IAAI,EAAEC,MADD;AACSC,IAAAA,QAAQ,EAAE,IADnB;AACyBE,IAAAA,MAAM,EAAE,IADjC;AACuCC,IAAAA,KAAK,EAAE,IAD9C;AACoDC,IAAAA,QAAQ,EAAE;AAD9D,GAF8B;AAKrCC,EAAAA,QAAQ,EAAE;AAAEP,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAL2B;AAMrCM,EAAAA,OAAO,EAAE;AAAER,IAAAA,IAAI,EAAES,OAAR;AAAiBP,IAAAA,QAAQ,EAAE,IAA3B;AAAiCQ,IAAAA,OAAO,EAAE;AAA1C;AAN4B,CAApB,CAAnB;;AASA,MAAMC,SAAS,GAAGd,kBAASe,KAAT,CAAe,MAAf,EAAuBhB,UAAvB,CAAlB;;eAEee,S",
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/models/",
      "sourcesContent": [
        "import mongoose from 'mongoose';\n\nconst userSchema = new mongoose.Schema({\n  name: { type: String, required: true },\n  email: {\n    type: String, required: true, unique: true, index: true, dropDups: true,\n  },\n  password: { type: String, required: true },\n  isAdmin: { type: Boolean, required: true, default: false },\n});\n\nconst userModel = mongoose.model('User', userSchema);\n\nexport default userModel;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1595823100000
  },
  "{\"sourceRoot\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop\",\"filename\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/util.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop",
      "filename": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/util.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/util.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/util.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/",
        "sourceFileName": "util.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isSellerOrAdmin = exports.isSeller = exports.isAdmin = exports.isAuth = exports.generateToken = void 0;\n\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst generateToken = user => {\n  return _jsonwebtoken.default.sign({\n    _id: user._id,\n    name: user.name,\n    email: user.email,\n    isAdmin: user.isAdmin,\n    isSeller: user.isSeller\n  }, process.env.JWT_SECRET || 'somethingsecret', {\n    expiresIn: '30d'\n  });\n};\n\nexports.generateToken = generateToken;\n\nconst isAuth = (req, res, next) => {\n  const authorization = req.headers.authorization;\n\n  if (authorization) {\n    const token = authorization.slice(7, authorization.length); // Bearer XXXXXX\n\n    _jsonwebtoken.default.verify(token, process.env.JWT_SECRET || 'somethingsecret', (err, decode) => {\n      if (err) {\n        res.status(401).send({\n          message: 'Invalid Token'\n        });\n      } else {\n        req.user = decode;\n        next();\n      }\n    });\n  } else {\n    res.status(401).send({\n      message: 'No Token'\n    });\n  }\n};\n\nexports.isAuth = isAuth;\n\nconst isAdmin = (req, res, next) => {\n  if (req.user && req.user.isAdmin) {\n    next();\n  } else {\n    res.status(401).send({\n      message: 'Invalid Admin Token'\n    });\n  }\n};\n\nexports.isAdmin = isAdmin;\n\nconst isSeller = (req, res, next) => {\n  if (req.user && req.user.isSeller) {\n    next();\n  } else {\n    res.status(401).send({\n      message: 'Invalid Seller Token'\n    });\n  }\n};\n\nexports.isSeller = isSeller;\n\nconst isSellerOrAdmin = (req, res, next) => {\n  if (req.user && (req.user.isSeller || req.user.isAdmin)) {\n    next();\n  } else {\n    res.status(401).send({\n      message: 'Invalid Admin/Seller Token'\n    });\n  }\n};\n\nexports.isSellerOrAdmin = isSellerOrAdmin;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInV0aWwuanMiXSwibmFtZXMiOlsiZ2VuZXJhdGVUb2tlbiIsInVzZXIiLCJqd3QiLCJzaWduIiwiX2lkIiwibmFtZSIsImVtYWlsIiwiaXNBZG1pbiIsImlzU2VsbGVyIiwicHJvY2VzcyIsImVudiIsIkpXVF9TRUNSRVQiLCJleHBpcmVzSW4iLCJpc0F1dGgiLCJyZXEiLCJyZXMiLCJuZXh0IiwiYXV0aG9yaXphdGlvbiIsImhlYWRlcnMiLCJ0b2tlbiIsInNsaWNlIiwibGVuZ3RoIiwidmVyaWZ5IiwiZXJyIiwiZGVjb2RlIiwic3RhdHVzIiwic2VuZCIsIm1lc3NhZ2UiLCJpc1NlbGxlck9yQWRtaW4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7OztBQUVPLE1BQU1BLGFBQWEsR0FBSUMsSUFBRCxJQUFVO0FBQ3JDLFNBQU9DLHNCQUFJQyxJQUFKLENBQ0w7QUFDRUMsSUFBQUEsR0FBRyxFQUFFSCxJQUFJLENBQUNHLEdBRFo7QUFFRUMsSUFBQUEsSUFBSSxFQUFFSixJQUFJLENBQUNJLElBRmI7QUFHRUMsSUFBQUEsS0FBSyxFQUFFTCxJQUFJLENBQUNLLEtBSGQ7QUFJRUMsSUFBQUEsT0FBTyxFQUFFTixJQUFJLENBQUNNLE9BSmhCO0FBS0VDLElBQUFBLFFBQVEsRUFBRVAsSUFBSSxDQUFDTztBQUxqQixHQURLLEVBUUxDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxVQUFaLElBQTBCLGlCQVJyQixFQVNMO0FBQ0VDLElBQUFBLFNBQVMsRUFBRTtBQURiLEdBVEssQ0FBUDtBQWFELENBZE07Ozs7QUFnQkEsTUFBTUMsTUFBTSxHQUFHLENBQUNDLEdBQUQsRUFBTUMsR0FBTixFQUFXQyxJQUFYLEtBQW9CO0FBQ3hDLFFBQU1DLGFBQWEsR0FBR0gsR0FBRyxDQUFDSSxPQUFKLENBQVlELGFBQWxDOztBQUNBLE1BQUlBLGFBQUosRUFBbUI7QUFDakIsVUFBTUUsS0FBSyxHQUFHRixhQUFhLENBQUNHLEtBQWQsQ0FBb0IsQ0FBcEIsRUFBdUJILGFBQWEsQ0FBQ0ksTUFBckMsQ0FBZCxDQURpQixDQUMyQzs7QUFDNURuQiwwQkFBSW9CLE1BQUosQ0FDRUgsS0FERixFQUVFVixPQUFPLENBQUNDLEdBQVIsQ0FBWUMsVUFBWixJQUEwQixpQkFGNUIsRUFHRSxDQUFDWSxHQUFELEVBQU1DLE1BQU4sS0FBaUI7QUFDZixVQUFJRCxHQUFKLEVBQVM7QUFDUFIsUUFBQUEsR0FBRyxDQUFDVSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBRUMsVUFBQUEsT0FBTyxFQUFFO0FBQVgsU0FBckI7QUFDRCxPQUZELE1BRU87QUFDTGIsUUFBQUEsR0FBRyxDQUFDYixJQUFKLEdBQVd1QixNQUFYO0FBQ0FSLFFBQUFBLElBQUk7QUFDTDtBQUNGLEtBVkg7QUFZRCxHQWRELE1BY087QUFDTEQsSUFBQUEsR0FBRyxDQUFDVSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBRUMsTUFBQUEsT0FBTyxFQUFFO0FBQVgsS0FBckI7QUFDRDtBQUNGLENBbkJNOzs7O0FBb0JBLE1BQU1wQixPQUFPLEdBQUcsQ0FBQ08sR0FBRCxFQUFNQyxHQUFOLEVBQVdDLElBQVgsS0FBb0I7QUFDekMsTUFBSUYsR0FBRyxDQUFDYixJQUFKLElBQVlhLEdBQUcsQ0FBQ2IsSUFBSixDQUFTTSxPQUF6QixFQUFrQztBQUNoQ1MsSUFBQUEsSUFBSTtBQUNMLEdBRkQsTUFFTztBQUNMRCxJQUFBQSxHQUFHLENBQUNVLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFFQyxNQUFBQSxPQUFPLEVBQUU7QUFBWCxLQUFyQjtBQUNEO0FBQ0YsQ0FOTTs7OztBQU9BLE1BQU1uQixRQUFRLEdBQUcsQ0FBQ00sR0FBRCxFQUFNQyxHQUFOLEVBQVdDLElBQVgsS0FBb0I7QUFDMUMsTUFBSUYsR0FBRyxDQUFDYixJQUFKLElBQVlhLEdBQUcsQ0FBQ2IsSUFBSixDQUFTTyxRQUF6QixFQUFtQztBQUNqQ1EsSUFBQUEsSUFBSTtBQUNMLEdBRkQsTUFFTztBQUNMRCxJQUFBQSxHQUFHLENBQUNVLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFFQyxNQUFBQSxPQUFPLEVBQUU7QUFBWCxLQUFyQjtBQUNEO0FBQ0YsQ0FOTTs7OztBQU9BLE1BQU1DLGVBQWUsR0FBRyxDQUFDZCxHQUFELEVBQU1DLEdBQU4sRUFBV0MsSUFBWCxLQUFvQjtBQUNqRCxNQUFJRixHQUFHLENBQUNiLElBQUosS0FBYWEsR0FBRyxDQUFDYixJQUFKLENBQVNPLFFBQVQsSUFBcUJNLEdBQUcsQ0FBQ2IsSUFBSixDQUFTTSxPQUEzQyxDQUFKLEVBQXlEO0FBQ3ZEUyxJQUFBQSxJQUFJO0FBQ0wsR0FGRCxNQUVPO0FBQ0xELElBQUFBLEdBQUcsQ0FBQ1UsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUVDLE1BQUFBLE9BQU8sRUFBRTtBQUFYLEtBQXJCO0FBQ0Q7QUFDRixDQU5NIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9NZS9EZXNrdG9wL1JlYWN0UHJvamVjdHMvZWNvbW0vbHV4ZXNob3AvYmFja2VuZC8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgand0IGZyb20gJ2pzb253ZWJ0b2tlbic7XG5cbmV4cG9ydCBjb25zdCBnZW5lcmF0ZVRva2VuID0gKHVzZXIpID0+IHtcbiAgcmV0dXJuIGp3dC5zaWduKFxuICAgIHtcbiAgICAgIF9pZDogdXNlci5faWQsXG4gICAgICBuYW1lOiB1c2VyLm5hbWUsXG4gICAgICBlbWFpbDogdXNlci5lbWFpbCxcbiAgICAgIGlzQWRtaW46IHVzZXIuaXNBZG1pbixcbiAgICAgIGlzU2VsbGVyOiB1c2VyLmlzU2VsbGVyLFxuICAgIH0sXG4gICAgcHJvY2Vzcy5lbnYuSldUX1NFQ1JFVCB8fCAnc29tZXRoaW5nc2VjcmV0JyxcbiAgICB7XG4gICAgICBleHBpcmVzSW46ICczMGQnLFxuICAgIH1cbiAgKTtcbn07XG5cbmV4cG9ydCBjb25zdCBpc0F1dGggPSAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgY29uc3QgYXV0aG9yaXphdGlvbiA9IHJlcS5oZWFkZXJzLmF1dGhvcml6YXRpb247XG4gIGlmIChhdXRob3JpemF0aW9uKSB7XG4gICAgY29uc3QgdG9rZW4gPSBhdXRob3JpemF0aW9uLnNsaWNlKDcsIGF1dGhvcml6YXRpb24ubGVuZ3RoKTsgLy8gQmVhcmVyIFhYWFhYWFxuICAgIGp3dC52ZXJpZnkoXG4gICAgICB0b2tlbixcbiAgICAgIHByb2Nlc3MuZW52LkpXVF9TRUNSRVQgfHwgJ3NvbWV0aGluZ3NlY3JldCcsXG4gICAgICAoZXJyLCBkZWNvZGUpID0+IHtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgIHJlcy5zdGF0dXMoNDAxKS5zZW5kKHsgbWVzc2FnZTogJ0ludmFsaWQgVG9rZW4nIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlcS51c2VyID0gZGVjb2RlO1xuICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgcmVzLnN0YXR1cyg0MDEpLnNlbmQoeyBtZXNzYWdlOiAnTm8gVG9rZW4nIH0pO1xuICB9XG59O1xuZXhwb3J0IGNvbnN0IGlzQWRtaW4gPSAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgaWYgKHJlcS51c2VyICYmIHJlcS51c2VyLmlzQWRtaW4pIHtcbiAgICBuZXh0KCk7XG4gIH0gZWxzZSB7XG4gICAgcmVzLnN0YXR1cyg0MDEpLnNlbmQoeyBtZXNzYWdlOiAnSW52YWxpZCBBZG1pbiBUb2tlbicgfSk7XG4gIH1cbn07XG5leHBvcnQgY29uc3QgaXNTZWxsZXIgPSAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgaWYgKHJlcS51c2VyICYmIHJlcS51c2VyLmlzU2VsbGVyKSB7XG4gICAgbmV4dCgpO1xuICB9IGVsc2Uge1xuICAgIHJlcy5zdGF0dXMoNDAxKS5zZW5kKHsgbWVzc2FnZTogJ0ludmFsaWQgU2VsbGVyIFRva2VuJyB9KTtcbiAgfVxufTtcbmV4cG9ydCBjb25zdCBpc1NlbGxlck9yQWRtaW4gPSAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgaWYgKHJlcS51c2VyICYmIChyZXEudXNlci5pc1NlbGxlciB8fCByZXEudXNlci5pc0FkbWluKSkge1xuICAgIG5leHQoKTtcbiAgfSBlbHNlIHtcbiAgICByZXMuc3RhdHVzKDQwMSkuc2VuZCh7IG1lc3NhZ2U6ICdJbnZhbGlkIEFkbWluL1NlbGxlciBUb2tlbicgfSk7XG4gIH1cbn07XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "util.js"
      ],
      "names": [
        "generateToken",
        "user",
        "jwt",
        "sign",
        "_id",
        "name",
        "email",
        "isAdmin",
        "isSeller",
        "process",
        "env",
        "JWT_SECRET",
        "expiresIn",
        "isAuth",
        "req",
        "res",
        "next",
        "authorization",
        "headers",
        "token",
        "slice",
        "length",
        "verify",
        "err",
        "decode",
        "status",
        "send",
        "message",
        "isSellerOrAdmin"
      ],
      "mappings": ";;;;;;;AAAA;;;;AAEO,MAAMA,aAAa,GAAIC,IAAD,IAAU;AACrC,SAAOC,sBAAIC,IAAJ,CACL;AACEC,IAAAA,GAAG,EAAEH,IAAI,CAACG,GADZ;AAEEC,IAAAA,IAAI,EAAEJ,IAAI,CAACI,IAFb;AAGEC,IAAAA,KAAK,EAAEL,IAAI,CAACK,KAHd;AAIEC,IAAAA,OAAO,EAAEN,IAAI,CAACM,OAJhB;AAKEC,IAAAA,QAAQ,EAAEP,IAAI,CAACO;AALjB,GADK,EAQLC,OAAO,CAACC,GAAR,CAAYC,UAAZ,IAA0B,iBARrB,EASL;AACEC,IAAAA,SAAS,EAAE;AADb,GATK,CAAP;AAaD,CAdM;;;;AAgBA,MAAMC,MAAM,GAAG,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;AACxC,QAAMC,aAAa,GAAGH,GAAG,CAACI,OAAJ,CAAYD,aAAlC;;AACA,MAAIA,aAAJ,EAAmB;AACjB,UAAME,KAAK,GAAGF,aAAa,CAACG,KAAd,CAAoB,CAApB,EAAuBH,aAAa,CAACI,MAArC,CAAd,CADiB,CAC2C;;AAC5DnB,0BAAIoB,MAAJ,CACEH,KADF,EAEEV,OAAO,CAACC,GAAR,CAAYC,UAAZ,IAA0B,iBAF5B,EAGE,CAACY,GAAD,EAAMC,MAAN,KAAiB;AACf,UAAID,GAAJ,EAAS;AACPR,QAAAA,GAAG,CAACU,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,UAAAA,OAAO,EAAE;AAAX,SAArB;AACD,OAFD,MAEO;AACLb,QAAAA,GAAG,CAACb,IAAJ,GAAWuB,MAAX;AACAR,QAAAA,IAAI;AACL;AACF,KAVH;AAYD,GAdD,MAcO;AACLD,IAAAA,GAAG,CAACU,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,MAAAA,OAAO,EAAE;AAAX,KAArB;AACD;AACF,CAnBM;;;;AAoBA,MAAMpB,OAAO,GAAG,CAACO,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;AACzC,MAAIF,GAAG,CAACb,IAAJ,IAAYa,GAAG,CAACb,IAAJ,CAASM,OAAzB,EAAkC;AAChCS,IAAAA,IAAI;AACL,GAFD,MAEO;AACLD,IAAAA,GAAG,CAACU,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,MAAAA,OAAO,EAAE;AAAX,KAArB;AACD;AACF,CANM;;;;AAOA,MAAMnB,QAAQ,GAAG,CAACM,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;AAC1C,MAAIF,GAAG,CAACb,IAAJ,IAAYa,GAAG,CAACb,IAAJ,CAASO,QAAzB,EAAmC;AACjCQ,IAAAA,IAAI;AACL,GAFD,MAEO;AACLD,IAAAA,GAAG,CAACU,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,MAAAA,OAAO,EAAE;AAAX,KAArB;AACD;AACF,CANM;;;;AAOA,MAAMC,eAAe,GAAG,CAACd,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;AACjD,MAAIF,GAAG,CAACb,IAAJ,KAAaa,GAAG,CAACb,IAAJ,CAASO,QAAT,IAAqBM,GAAG,CAACb,IAAJ,CAASM,OAA3C,CAAJ,EAAyD;AACvDS,IAAAA,IAAI;AACL,GAFD,MAEO;AACLD,IAAAA,GAAG,CAACU,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,MAAAA,OAAO,EAAE;AAAX,KAArB;AACD;AACF,CANM",
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/",
      "sourcesContent": [
        "import jwt from 'jsonwebtoken';\n\nexport const generateToken = (user) => {\n  return jwt.sign(\n    {\n      _id: user._id,\n      name: user.name,\n      email: user.email,\n      isAdmin: user.isAdmin,\n      isSeller: user.isSeller,\n    },\n    process.env.JWT_SECRET || 'somethingsecret',\n    {\n      expiresIn: '30d',\n    }\n  );\n};\n\nexport const isAuth = (req, res, next) => {\n  const authorization = req.headers.authorization;\n  if (authorization) {\n    const token = authorization.slice(7, authorization.length); // Bearer XXXXXX\n    jwt.verify(\n      token,\n      process.env.JWT_SECRET || 'somethingsecret',\n      (err, decode) => {\n        if (err) {\n          res.status(401).send({ message: 'Invalid Token' });\n        } else {\n          req.user = decode;\n          next();\n        }\n      }\n    );\n  } else {\n    res.status(401).send({ message: 'No Token' });\n  }\n};\nexport const isAdmin = (req, res, next) => {\n  if (req.user && req.user.isAdmin) {\n    next();\n  } else {\n    res.status(401).send({ message: 'Invalid Admin Token' });\n  }\n};\nexport const isSeller = (req, res, next) => {\n  if (req.user && req.user.isSeller) {\n    next();\n  } else {\n    res.status(401).send({ message: 'Invalid Seller Token' });\n  }\n};\nexport const isSellerOrAdmin = (req, res, next) => {\n  if (req.user && (req.user.isSeller || req.user.isAdmin)) {\n    next();\n  } else {\n    res.status(401).send({ message: 'Invalid Admin/Seller Token' });\n  }\n};\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1607065194363
  },
  "{\"sourceRoot\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop\",\"filename\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/productRoute.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop",
      "filename": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/productRoute.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/productRoute.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/productRoute.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/",
        "sourceFileName": "productRoute.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _expressAsyncHandler = _interopRequireDefault(require(\"express-async-handler\"));\n\nvar _productModel = _interopRequireDefault(require(\"../schemas/productModel.js\"));\n\nvar _util = require(\"../util.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst productRouter = _express.default.Router();\n\nproductRouter.get('/', (0, _expressAsyncHandler.default)(async (req, res) => {\n  const name = req.query.name || '';\n  const category = req.query.category || '';\n  const seller = req.query.seller || '';\n  const order = req.query.order || '';\n  const min = req.query.min && Number(req.query.min) !== 0 ? Number(req.query.min) : 0;\n  const max = req.query.max && Number(req.query.max) !== 0 ? Number(req.query.max) : 0;\n  const rating = req.query.rating && Number(req.query.rating) !== 0 ? Number(req.query.rating) : 0;\n  const nameFilter = name ? {\n    name: {\n      $regex: name,\n      $options: 'i'\n    }\n  } : {};\n  const sellerFilter = seller ? {\n    seller\n  } : {};\n  const categoryFilter = category ? {\n    category\n  } : {};\n  const priceFilter = min && max ? {\n    price: {\n      $gte: min,\n      $lte: max\n    }\n  } : {};\n  const ratingFilter = rating ? {\n    rating: {\n      $gte: rating\n    }\n  } : {};\n  const sortOrder = order === 'lowest' ? {\n    price: 1\n  } : order === 'highest' ? {\n    price: -1\n  } : order === 'toprated' ? {\n    rating: -1\n  } : {\n    _id: -1\n  };\n  const products = await _productModel.default.find({ ...sellerFilter,\n    ...nameFilter,\n    ...categoryFilter,\n    ...priceFilter,\n    ...ratingFilter\n  }).populate('seller', 'seller.name seller.logo').sort(sortOrder);\n  res.send(products);\n}));\nproductRouter.get('/categories', (0, _expressAsyncHandler.default)(async (req, res) => {\n  const categories = await _productModel.default.find().distinct('category');\n  res.send(categories);\n}));\nproductRouter.get('/seed', (0, _expressAsyncHandler.default)(async (req, res) => {\n  // await Product.remove({});\n  const createdProducts = await _productModel.default.insertMany(data.products);\n  res.send({\n    createdProducts\n  });\n}));\nproductRouter.get('/:id', (0, _expressAsyncHandler.default)(async (req, res) => {\n  const product = await _productModel.default.findById(req.params.id).populate('seller', 'seller.name seller.logo seller.rating seller.numReviews');\n\n  if (product) {\n    res.send(product);\n  } else {\n    res.status(404).send({\n      message: 'Product Not Found'\n    });\n  }\n}));\nproductRouter.post('/', _util.isAuth, _util.isSellerOrAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const product = new _productModel.default({\n    name: 'sample name ' + Date.now(),\n    seller: req.user._id,\n    image: '/images/p1.jpg',\n    price: 0,\n    category: 'sample category',\n    brand: 'sample brand',\n    countInStock: 0,\n    rating: 0,\n    numReviews: 0,\n    description: 'sample description'\n  });\n  const createdProduct = await product.save();\n  res.send({\n    message: 'Product Created',\n    product: createdProduct\n  });\n}));\nproductRouter.put('/:id', _util.isAuth, _util.isSellerOrAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const productId = req.params.id;\n  const product = await _productModel.default.findById(productId);\n\n  if (product) {\n    product.name = req.body.name;\n    product.price = req.body.price;\n    product.image = req.body.image;\n    product.category = req.body.category;\n    product.brand = req.body.brand;\n    product.countInStock = req.body.countInStock;\n    product.description = req.body.description;\n    const updatedProduct = await product.save();\n    res.send({\n      message: 'Product Updated',\n      product: updatedProduct\n    });\n  } else {\n    res.status(404).send({\n      message: 'Product Not Found'\n    });\n  }\n}));\nproductRouter.delete('/:id', _util.isAuth, _util.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const product = await _productModel.default.findById(req.params.id);\n\n  if (product) {\n    const deleteProduct = await product.remove();\n    res.send({\n      message: 'Product Deleted',\n      product: deleteProduct\n    });\n  } else {\n    res.status(404).send({\n      message: 'Product Not Found'\n    });\n  }\n}));\nvar _default = productRouter;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2R1Y3RSb3V0ZS5qcyJdLCJuYW1lcyI6WyJwcm9kdWN0Um91dGVyIiwiZXhwcmVzcyIsIlJvdXRlciIsImdldCIsInJlcSIsInJlcyIsIm5hbWUiLCJxdWVyeSIsImNhdGVnb3J5Iiwic2VsbGVyIiwib3JkZXIiLCJtaW4iLCJOdW1iZXIiLCJtYXgiLCJyYXRpbmciLCJuYW1lRmlsdGVyIiwiJHJlZ2V4IiwiJG9wdGlvbnMiLCJzZWxsZXJGaWx0ZXIiLCJjYXRlZ29yeUZpbHRlciIsInByaWNlRmlsdGVyIiwicHJpY2UiLCIkZ3RlIiwiJGx0ZSIsInJhdGluZ0ZpbHRlciIsInNvcnRPcmRlciIsIl9pZCIsInByb2R1Y3RzIiwiUHJvZHVjdCIsImZpbmQiLCJwb3B1bGF0ZSIsInNvcnQiLCJzZW5kIiwiY2F0ZWdvcmllcyIsImRpc3RpbmN0IiwiY3JlYXRlZFByb2R1Y3RzIiwiaW5zZXJ0TWFueSIsImRhdGEiLCJwcm9kdWN0IiwiZmluZEJ5SWQiLCJwYXJhbXMiLCJpZCIsInN0YXR1cyIsIm1lc3NhZ2UiLCJwb3N0IiwiaXNBdXRoIiwiaXNTZWxsZXJPckFkbWluIiwiRGF0ZSIsIm5vdyIsInVzZXIiLCJpbWFnZSIsImJyYW5kIiwiY291bnRJblN0b2NrIiwibnVtUmV2aWV3cyIsImRlc2NyaXB0aW9uIiwiY3JlYXRlZFByb2R1Y3QiLCJzYXZlIiwicHV0IiwicHJvZHVjdElkIiwiYm9keSIsInVwZGF0ZWRQcm9kdWN0IiwiZGVsZXRlIiwiaXNBZG1pbiIsImRlbGV0ZVByb2R1Y3QiLCJyZW1vdmUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7OztBQUVBLE1BQU1BLGFBQWEsR0FBR0MsaUJBQVFDLE1BQVIsRUFBdEI7O0FBRUFGLGFBQWEsQ0FBQ0csR0FBZCxDQUNFLEdBREYsRUFFRSxrQ0FBb0IsT0FBT0MsR0FBUCxFQUFZQyxHQUFaLEtBQW9CO0FBQ3RDLFFBQU1DLElBQUksR0FBR0YsR0FBRyxDQUFDRyxLQUFK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QUFBOEJMLE1BQUFBLE9BQU8sRUFBRXlCO0FBQXZDLEtBQVQ7QUFDRCxHQUhELE1BR087QUFDTDFELElBQUFBLEdBQUcsQ0FBQ3FDLE1BQUosQ0FBVyxHQUFYLEVBQWdCVixJQUFoQixDQUFxQjtBQUFFVyxNQUFBQSxPQUFPLEVBQUU7QUFBWCxLQUFyQjtBQUNEO0FBQ0YsQ0FSRCxDQUpGO2VBZWUzQyxhIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9NZS9EZXNrdG9wL1JlYWN0UHJvamVjdHMvZWNvbW0vbHV4ZXNob3AvYmFja2VuZC9yb3V0ZXMvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgZXhwcmVzc0FzeW5jSGFuZGxlciBmcm9tICdleHByZXNzLWFzeW5jLWhhbmRsZXInO1xuaW1wb3J0IFByb2R1Y3QgZnJvbSAnLi4vc2NoZW1hcy9wcm9kdWN0TW9kZWwuanMnO1xuaW1wb3J0IHsgaXNBZG1pbiwgaXNBdXRoLCBpc1NlbGxlck9yQWRtaW4gfSBmcm9tICcuLi91dGlsLmpzJztcblxuY29uc3QgcHJvZHVjdFJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5cbnByb2R1Y3RSb3V0ZXIuZ2V0KFxuICAnLycsXG4gIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc3QgbmFtZSA9IHJlcS5xdWVyeS5uYW1lIHx8ICcnO1xuICAgIGNvbnN0IGNhdGVnb3J5ID0gcmVxLnF1ZXJ5LmNhdGVnb3J5IHx8ICcnO1xuICAgIGNvbnN0IHNlbGxlciA9IHJlcS5xdWVyeS5zZWxsZXIgfHwgJyc7XG4gICAgY29uc3Qgb3JkZXIgPSByZXEucXVlcnkub3JkZXIgfHwgJyc7XG4gICAgY29uc3QgbWluID1cbiAgICAgIHJlcS5xdWVyeS5taW4gJiYgTnVtYmVyKHJlcS5xdWVyeS5taW4pICE9PSAwID8gTnVtYmVyKHJlcS5xdWVyeS5taW4pIDogMDtcbiAgICBjb25zdCBtYXggPVxuICAgICAgcmVxLnF1ZXJ5Lm1heCAmJiBOdW1iZXIocmVxLnF1ZXJ5Lm1heCkgIT09IDAgPyBOdW1iZXIocmVxLnF1ZXJ5Lm1heCkgOiAwO1xuICAgIGNvbnN0IHJhdGluZyA9XG4gICAgICByZXEucXVlcnkucmF0aW5nICYmIE51bWJlcihyZXEucXVlcnkucmF0aW5nKSAhPT0gMFxuICAgICAgICA/IE51bWJlcihyZXEucXVlcnkucmF0aW5nKVxuICAgICAgICA6IDA7XG5cbiAgICBjb25zdCBuYW1lRmlsdGVyID0gbmFtZSA/IHsgbmFtZTogeyAkcmVnZXg6IG5hbWUsICRvcHRpb25zOiAnaScgfSB9IDoge307XG4gICAgY29uc3Qgc2VsbGVyRmlsdGVyID0gc2VsbGVyID8geyBzZWxsZXIgfSA6IHt9O1xuICAgIGNvbnN0IGNhdGVnb3J5RmlsdGVyID0gY2F0ZWdvcnkgPyB7IGNhdGVnb3J5IH0gOiB7fTtcbiAgICBjb25zdCBwcmljZUZpbHRlciA9IG1pbiAmJiBtYXggPyB7IHByaWNlOiB7ICRndGU6IG1pbiwgJGx0ZTogbWF4IH0gfSA6IHt9O1xuICAgIGNvbnN0IHJhdGluZ0ZpbHRlciA9IHJhdGluZyA/IHsgcmF0aW5nOiB7ICRndGU6IHJhdGluZyB9IH0gOiB7fTtcbiAgICBjb25zdCBzb3J0T3JkZXIgPVxuICAgICAgb3JkZXIgPT09ICdsb3dlc3QnXG4gICAgICAgID8geyBwcmljZTogMSB9XG4gICAgICAgIDogb3JkZXIgPT09ICdoaWdoZXN0J1xuICAgICAgICA/IHsgcHJpY2U6IC0xIH1cbiAgICAgICAgOiBvcmRlciA9PT0gJ3RvcHJhdGVkJ1xuICAgICAgICA/IHsgcmF0aW5nOiAtMSB9XG4gICAgICAgIDogeyBfaWQ6IC0xIH07XG5cbiAgICBjb25zdCBwcm9kdWN0cyA9IGF3YWl0IFByb2R1Y3QuZmluZCh7XG4gICAgICAuLi5zZWxsZXJGaWx0ZXIsXG4gICAgICAuLi5uYW1lRmlsdGVyLFxuICAgICAgLi4uY2F0ZWdvcnlGaWx0ZXIsXG4gICAgICAuLi5wcmljZUZpbHRlcixcbiAgICAgIC4uLnJhdGluZ0ZpbHRlcixcbiAgICB9KVxuICAgICAgLnBvcHVsYXRlKCdzZWxsZXInLCAnc2VsbGVyLm5hbWUgc2VsbGVyLmxvZ28nKVxuICAgICAgLnNvcnQoc29ydE9yZGVyKTtcbiAgICByZXMuc2VuZChwcm9kdWN0cyk7XG4gIH0pXG4pO1xuXG5wcm9kdWN0Um91dGVyLmdldChcbiAgJy9jYXRlZ29yaWVzJyxcbiAgZXhwcmVzc0FzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCBjYXRlZ29yaWVzID0gYXdhaXQgUHJvZHVjdC5maW5kKCkuZGlzdGluY3QoJ2NhdGVnb3J5Jyk7XG4gICAgcmVzLnNlbmQoY2F0ZWdvcmllcyk7XG4gIH0pXG4pO1xuXG5wcm9kdWN0Um91dGVyLmdldChcbiAgJy9zZWVkJyxcbiAgZXhwcmVzc0FzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICAvLyBhd2FpdCBQcm9kdWN0LnJlbW92ZSh7fSk7XG4gICAgY29uc3QgY3JlYXRlZFByb2R1Y3RzID0gYXdhaXQgUHJvZHVjdC5pbnNlcnRNYW55KGRhdGEucHJvZHVjdHMpO1xuICAgIHJlcy5zZW5kKHsgY3JlYXRlZFByb2R1Y3RzIH0pO1xuICB9KVxuKTtcblxucHJvZHVjdFJvdXRlci5nZXQoXG4gICcvOmlkJyxcbiAgZXhwcmVzc0FzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCBwcm9kdWN0ID0gYXdhaXQgUHJvZHVjdC5maW5kQnlJZChyZXEucGFyYW1zLmlkKS5wb3B1bGF0ZShcbiAgICAgICdzZWxsZXInLFxuICAgICAgJ3NlbGxlci5uYW1lIHNlbGxlci5sb2dvIHNlbGxlci5yYXRpbmcgc2VsbGVyLm51bVJldmlld3MnXG4gICAgKTtcbiAgICBpZiAocHJvZHVjdCkge1xuICAgICAgcmVzLnNlbmQocHJvZHVjdCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHsgbWVzc2FnZTogJ1Byb2R1Y3QgTm90IEZvdW5kJyB9KTtcbiAgICB9XG4gIH0pXG4pO1xuXG5wcm9kdWN0Um91dGVyLnBvc3QoXG4gICcvJyxcbiAgaXNBdXRoLFxuICBpc1NlbGxlck9yQWRtaW4sXG4gIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc3QgcHJvZHVjdCA9IG5ldyBQcm9kdWN0KHtcbiAgICAgIG5hbWU6ICdzYW1wbGUgbmFtZSAnICsgRGF0ZS5ub3coKSxcbiAgICAgIHNlbGxlcjogcmVxLnVzZXIuX2lkLFxuICAgICAgaW1hZ2U6ICcvaW1hZ2VzL3AxLmpwZycsXG4gICAgICBwcmljZTogMCxcbiAgICAgIGNhdGVnb3J5OiAnc2FtcGxlIGNhdGVnb3J5JyxcbiAgICAgIGJyYW5kOiAnc2FtcGxlIGJyYW5kJyxcbiAgICAgIGNvdW50SW5TdG9jazogMCxcbiAgICAgIHJhdGluZzogMCxcbiAgICAgIG51bVJldmlld3M6IDAsXG4gICAgICBkZXNjcmlwdGlvbjogJ3NhbXBsZSBkZXNjcmlwdGlvbicsXG4gICAgfSk7XG4gICAgY29uc3QgY3JlYXRlZFByb2R1Y3QgPSBhd2FpdCBwcm9kdWN0LnNhdmUoKTtcbiAgICByZXMuc2VuZCh7IG1lc3NhZ2U6ICdQcm9kdWN0IENyZWF0ZWQnLCBwcm9kdWN0OiBjcmVhdGVkUHJvZHVjdCB9KTtcbiAgfSlcbik7XG5wcm9kdWN0Um91dGVyLnB1dChcbiAgJy86aWQnLFxuICBpc0F1dGgsXG4gIGlzU2VsbGVyT3JBZG1pbixcbiAgZXhwcmVzc0FzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCBwcm9kdWN0SWQgPSByZXEucGFyYW1zLmlkO1xuICAgIGNvbnN0IHByb2R1Y3QgPSBhd2FpdCBQcm9kdWN0LmZpbmRCeUlkKHByb2R1Y3RJZCk7XG4gICAgaWYgKHByb2R1Y3QpIHtcbiAgICAgIHByb2R1Y3QubmFtZSA9IHJlcS5ib2R5Lm5hbWU7XG4gICAgICBwcm9kdWN0LnByaWNlID0gcmVxLmJvZHkucHJpY2U7XG4gICAgICBwcm9kdWN0LmltYWdlID0gcmVxLmJvZHkuaW1hZ2U7XG4gICAgICBwcm9kdWN0LmNhdGVnb3J5ID0gcmVxLmJvZHkuY2F0ZWdvcnk7XG4gICAgICBwcm9kdWN0LmJyYW5kID0gcmVxLmJvZHkuYnJhbmQ7XG4gICAgICBwcm9kdWN0LmNvdW50SW5TdG9jayA9IHJlcS5ib2R5LmNvdW50SW5TdG9jaztcbiAgICAgIHByb2R1Y3QuZGVzY3JpcHRpb24gPSByZXEuYm9keS5kZXNjcmlwdGlvbjtcbiAgICAgIGNvbnN0IHVwZGF0ZWRQcm9kdWN0ID0gYXdhaXQgcHJvZHVjdC5zYXZlKCk7XG4gICAgICByZXMuc2VuZCh7IG1lc3NhZ2U6ICdQcm9kdWN0IFVwZGF0ZWQnLCBwcm9kdWN0OiB1cGRhdGVkUHJvZHVjdCB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoeyBtZXNzYWdlOiAnUHJvZHVjdCBOb3QgRm91bmQnIH0pO1xuICAgIH1cbiAgfSlcbik7XG5cbnByb2R1Y3RSb3V0ZXIuZGVsZXRlKFxuICAnLzppZCcsXG4gIGlzQXV0aCxcbiAgaXNBZG1pbixcbiAgZXhwcmVzc0FzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCBwcm9kdWN0ID0gYXdhaXQgUHJvZHVjdC5maW5kQnlJZChyZXEucGFyYW1zLmlkKTtcbiAgICBpZiAocHJvZHVjdCkge1xuICAgICAgY29uc3QgZGVsZXRlUHJvZHVjdCA9IGF3YWl0IHByb2R1Y3QucmVtb3ZlKCk7XG4gICAgICByZXMuc2VuZCh7IG1lc3NhZ2U6ICdQcm9kdWN0IERlbGV0ZWQnLCBwcm9kdWN0OiBkZWxldGVQcm9kdWN0IH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCh7IG1lc3NhZ2U6ICdQcm9kdWN0IE5vdCBGb3VuZCcgfSk7XG4gICAgfVxuICB9KVxuKTtcblxuZXhwb3J0IGRlZmF1bHQgcHJvZHVjdFJvdXRlcjtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "productRoute.js"
      ],
      "names": [
        "productRouter",
        "express",
        "Router",
        "get",
        "req",
        "res",
        "name",
        "query",
        "category",
        "seller",
        "order",
        "min",
        "Number",
        "max",
        "rating",
        "nameFilter",
        "$regex",
        "$options",
        "sellerFilter",
        "categoryFilter",
        "priceFilter",
        "price",
        "$gte",
        "$lte",
        "ratingFilter",
        "sortOrder",
        "_id",
        "products",
        "Product",
        "find",
        "populate",
        "sort",
        "send",
        "categories",
        "distinct",
        "createdProducts",
        "insertMany",
        "data",
        "product",
        "findById",
        "params",
        "id",
        "status",
        "message",
        "post",
        "isAuth",
        "isSellerOrAdmin",
        "Date",
        "now",
        "user",
        "image",
        "brand",
        "countInStock",
        "numReviews",
        "description",
        "createdProduct",
        "save",
        "put",
        "productId",
        "body",
        "updatedProduct",
        "delete",
        "isAdmin",
        "deleteProduct",
        "remove"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/",
      "sourcesContent": [
        "import express from 'express';\nimport expressAsyncHandler from 'express-async-handler';\nimport Product from '../schemas/productModel.js';\nimport { isAdmin, isAuth, isSellerOrAdmin } from '../util.js';\n\nconst productRouter = express.Router();\n\nproductRouter.get(\n  '/',\n  expressAsyncHandler(async (req, res) => {\n    const name = req.query.name || '';\n    const category = req.query.category || '';\n    const seller = req.query.seller || '';\n    const order = req.query.order || '';\n    const min =\n      req.query.min && Number(req.query.min) !== 0 ? Number(req.query.min) : 0;\n    const max =\n      req.query.max && Number(req.query.max) !== 0 ? Number(req.query.max) : 0;\n    const rating =\n      req.query.rating && Number(req.query.rating) !== 0\n        ? Number(req.query.rating)\n        : 0;\n\n    const nameFilter = name ? { name: { $regex: name, $options: 'i' } } : {};\n    const sellerFilter = seller ? { seller } : {};\n    const categoryFilter = category ? { category } : {};\n    const priceFilter = min && max ? { price: { $gte: min, $lte: max } } : {};\n    const ratingFilter = rating ? { rating: { $gte: rating } } : {};\n    const sortOrder =\n      order === 'lowest'\n        ? { price: 1 }\n        : order === 'highest'\n        ? { price: -1 }\n        : order === 'toprated'\n        ? { rating: -1 }\n        : { _id: -1 };\n\n    const products = await Product.find({\n      ...sellerFilter,\n      ...nameFilter,\n      ...categoryFilter,\n      ...priceFilter,\n      ...ratingFilter,\n    })\n      .populate('seller', 'seller.name seller.logo')\n      .sort(sortOrder);\n    res.send(products);\n  })\n);\n\nproductRouter.get(\n  '/categories',\n  expressAsyncHandler(async (req, res) => {\n    const categories = await Product.find().distinct('category');\n    res.send(categories);\n  })\n);\n\nproductRouter.get(\n  '/seed',\n  expressAsyncHandler(async (req, res) => {\n    // await Product.remove({});\n    const createdProducts = await Product.insertMany(data.products);\n    res.send({ createdProducts });\n  })\n);\n\nproductRouter.get(\n  '/:id',\n  expressAsyncHandler(async (req, res) => {\n    const product = await Product.findById(req.params.id).populate(\n      'seller',\n      'seller.name seller.logo seller.rating seller.numReviews'\n    );\n    if (product) {\n      res.send(product);\n    } else {\n      res.status(404).send({ message: 'Product Not Found' });\n    }\n  })\n);\n\nproductRouter.post(\n  '/',\n  isAuth,\n  isSellerOrAdmin,\n  expressAsyncHandler(async (req, res) => {\n    const product = new Product({\n      name: 'sample name ' + Date.now(),\n      seller: req.user._id,\n      image: '/images/p1.jpg',\n      price: 0,\n      category: 'sample category',\n      brand: 'sample brand',\n      countInStock: 0,\n      rating: 0,\n      numReviews: 0,\n      description: 'sample description',\n    });\n    const createdProduct = await product.save();\n    res.send({ message: 'Product Created', product: createdProduct });\n  })\n);\nproductRouter.put(\n  '/:id',\n  isAuth,\n  isSellerOrAdmin,\n  expressAsyncHandler(async (req, res) => {\n    const productId = req.params.id;\n    const product = await Product.findById(productId);\n    if (product) {\n      product.name = req.body.name;\n      product.price = req.body.price;\n      product.image = req.body.image;\n      product.category = req.body.category;\n      product.brand = req.body.brand;\n      product.countInStock = req.body.countInStock;\n      product.description = req.body.description;\n      const updatedProduct = await product.save();\n      res.send({ message: 'Product Updated', product: updatedProduct });\n    } else {\n      res.status(404).send({ message: 'Product Not Found' });\n    }\n  })\n);\n\nproductRouter.delete(\n  '/:id',\n  isAuth,\n  isAdmin,\n  expressAsyncHandler(async (req, res) => {\n    const product = await Product.findById(req.params.id);\n    if (product) {\n      const deleteProduct = await product.remove();\n      res.send({ message: 'Product Deleted', product: deleteProduct });\n    } else {\n      res.status(404).send({ message: 'Product Not Found' });\n    }\n  })\n);\n\nexport default productRouter;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1607065263866
  },
  "{\"sourceRoot\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop\",\"filename\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/models/productModel.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/models/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop",
      "filename": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/models/productModel.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/models/productModel.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/models/productModel.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/models/",
        "sourceFileName": "productModel.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst reviewSchema = new _mongoose.default.Schema({\n  name: {\n    type: String,\n    required: true\n  },\n  rating: {\n    type: Number,\n    default: 0\n  },\n  comment: {\n    type: String,\n    required: true\n  }\n}, {\n  timestamps: true\n});\nconst prodctSchema = new _mongoose.default.Schema({\n  name: {\n    type: String,\n    required: true\n  },\n  image: {\n    type: String,\n    required: true\n  },\n  brand: {\n    type: String,\n    required: true\n  },\n  price: {\n    type: Number,\n    default: 0,\n    required: true\n  },\n  category: {\n    type: String,\n    required: true\n  },\n  countInStock: {\n    type: Number,\n    default: 0,\n    required: true\n  },\n  description: {\n    type: String,\n    required: true\n  },\n  rating: {\n    type: Number,\n    default: 0,\n    required: true\n  },\n  numReviews: {\n    type: Number,\n    default: 0,\n    required: true\n  },\n  reviews: [reviewSchema]\n});\n\nconst productModel = _mongoose.default.model('Product', prodctSchema);\n\nvar _default = productModel;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2R1Y3RNb2RlbC5qcyJdLCJuYW1lcyI6WyJyZXZpZXdTY2hlbWEiLCJtb25nb29zZSIsIlNjaGVtYSIsIm5hbWUiLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJyYXRpbmciLCJOdW1iZXIiLCJkZWZhdWx0IiwiY29tbWVudCIsInRpbWVzdGFtcHMiLCJwcm9kY3RTY2hlbWEiLCJpbWFnZSIsImJyYW5kIiwicHJpY2UiLCJjYXRlZ29yeSIsImNvdW50SW5TdG9jayIsImRlc2NyaXB0aW9uIiwibnVtUmV2aWV3cyIsInJldmlld3MiLCJwcm9kdWN0TW9kZWwiLCJtb2RlbCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7O0FBRUEsTUFBTUEsWUFBWSxHQUFHLElBQUlDLGtCQUFTQyxNQUFiLENBQ25CO0FBQ0VDLEVBQUFBLElBQUksRUFBRTtBQUFFQyxJQUFBQSxJQUFJLEVBQUVDLE1BQVI7QUFBZ0JDLElBQUFBLFFBQVEsRUFBRTtBQUExQixHQURSO0FBRUVDLEVBQUFBLE1BQU0sRUFBRTtBQUFFSCxJQUFBQSxJQUFJLEVBQUVJLE1BQVI7QUFBZ0JDLElBQUFBLE9BQU8sRUFBRTtBQUF6QixHQUZWO0FBR0VDLEVBQUFBLE9BQU8sRUFBRTtBQUFFTixJQUFBQSxJQUFJLEVBQUVDLE1BQVI7QUFBZ0JDLElBQUFBLFFBQVEsRUFBRTtBQUExQjtBQUhYLENBRG1CLEVBTW5CO0FBQ0VLLEVBQUFBLFVBQVUsRUFBRTtBQURkLENBTm1CLENBQXJCO0FBVUEsTUFBTUMsWUFBWSxHQUFHLElBQUlYLGtCQUFTQyxNQUFiLENBQW9CO0FBQ3ZDQyxFQUFBQSxJQUFJLEVBQUU7QUFBRUMsSUFBQUEsSUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxJQUFBQSxRQUFRLEVBQUU7QUFBMUIsR0FEaUM7QUFFdkNPLEVBQUFBLEtBQUssRUFBRTtBQUFFVCxJQUFBQSxJQUFJLEVBQUVDLE1BQVI7QUFBZ0JDLElBQUFBLFFBQVEsRUFBRTtBQUExQixHQUZnQztBQUd2Q1EsRUFBQUEsS0FBSyxFQUFFO0FBQUVWLElBQUFBLElBQUksRUFBRUMsTUFBUjtBQUFnQkMsSUFBQUEsUUFBUSxFQUFFO0FBQTFCLEdBSGdDO0FBSXZDUyxFQUFBQSxLQUFLLEVBQUU7QUFBRVgsSUFBQUEsSUFBSSxFQUFFSSxNQUFSO0FBQWdCQyxJQUFBQSxPQUFPLEVBQUUsQ0FBekI7QUFBNEJILElBQUFBLFFBQVEsRUFBRTtBQUF0QyxHQUpnQztBQUt2Q1UsRUFBQUEsUUFBUSxFQUFFO0FBQUVaLElBQUFBLElBQUksRUFBRUMsTUFBUjtBQUFnQkMsSUFBQUEsUUFBUSxFQUFFO0FBQTFCLEdBTDZCO0FBTXZDVyxFQUFBQSxZQUFZLEVBQUU7QUFBRWIsSUFBQUEsSUFBSSxFQUFFSSxNQUFSO0FBQWdCQyxJQUFBQSxPQUFPLEVBQUUsQ0FBekI7QUFBNEJILElBQUFBLFFBQVEsRUFBRTtBQUF0QyxHQU55QjtBQU92Q1ksRUFBQUEsV0FBVyxFQUFFO0FBQUVkLElBQUFBLElBQUksRUFBRUMsTUFBUjtBQUFnQkMsSUFBQUEsUUFBUSxFQUFFO0FBQTFCLEdBUDBCO0FBUXZDQyxFQUFBQSxNQUFNLEVBQUU7QUFBRUgsSUFBQUEsSUFBSSxFQUFFSSxNQUFSO0FBQWdCQyxJQUFBQSxPQUFPLEVBQUUsQ0FBekI7QUFBNEJILElBQUFBLFFBQVEsRUFBRTtBQUF0QyxHQVIrQjtBQVN2Q2EsRUFBQUEsVUFBVSxFQUFFO0FBQUVmLElBQUFBLElBQUksRUFBRUksTUFBUjtBQUFnQkMsSUFBQUEsT0FBTyxFQUFFLENBQXpCO0FBQTRCSCxJQUFBQSxRQUFRLEVBQUU7QUFBdEMsR0FUMkI7QUFVdkNjLEVBQUFBLE9BQU8sRUFBRSxDQUFDcEIsWUFBRDtBQVY4QixDQUFwQixDQUFyQjs7QUFhQSxNQUFNcUIsWUFBWSxHQUFHcEIsa0JBQVNxQixLQUFULENBQWUsU0FBZixFQUEwQlYsWUFBMUIsQ0FBckI7O2VBRWVTLFkiLCJzb3VyY2VSb290IjoiL1VzZXJzL01lL0Rlc2t0b3AvUmVhY3RQcm9qZWN0cy9lY29tbS9sdXhlc2hvcC9iYWNrZW5kL21vZGVscy8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xuXG5jb25zdCByZXZpZXdTY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKFxuICB7XG4gICAgbmFtZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgcmF0aW5nOiB7IHR5cGU6IE51bWJlciwgZGVmYXVsdDogMCB9LFxuICAgIGNvbW1lbnQ6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxuICB9LFxuICB7XG4gICAgdGltZXN0YW1wczogdHJ1ZSxcbiAgfVxuKTtcbmNvbnN0IHByb2RjdFNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoe1xuICBuYW1lOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgaW1hZ2U6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxuICBicmFuZDogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gIHByaWNlOiB7IHR5cGU6IE51bWJlciwgZGVmYXVsdDogMCwgcmVxdWlyZWQ6IHRydWUgfSxcbiAgY2F0ZWdvcnk6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxuICBjb3VudEluU3RvY2s6IHsgdHlwZTogTnVtYmVyLCBkZWZhdWx0OiAwLCByZXF1aXJlZDogdHJ1ZSB9LFxuICBkZXNjcmlwdGlvbjogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gIHJhdGluZzogeyB0eXBlOiBOdW1iZXIsIGRlZmF1bHQ6IDAsIHJlcXVpcmVkOiB0cnVlIH0sXG4gIG51bVJldmlld3M6IHsgdHlwZTogTnVtYmVyLCBkZWZhdWx0OiAwLCByZXF1aXJlZDogdHJ1ZSB9LFxuICByZXZpZXdzOiBbcmV2aWV3U2NoZW1hXSxcbn0pO1xuXG5jb25zdCBwcm9kdWN0TW9kZWwgPSBtb25nb29zZS5tb2RlbCgnUHJvZHVjdCcsIHByb2RjdFNjaGVtYSk7XG5cbmV4cG9ydCBkZWZhdWx0IHByb2R1Y3RNb2RlbDtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "productModel.js"
      ],
      "names": [
        "reviewSchema",
        "mongoose",
        "Schema",
        "name",
        "type",
        "String",
        "required",
        "rating",
        "Number",
        "default",
        "comment",
        "timestamps",
        "prodctSchema",
        "image",
        "brand",
        "price",
        "category",
        "countInStock",
        "description",
        "numReviews",
        "reviews",
        "productModel",
        "model"
      ],
      "mappings": ";;;;;;;AAAA;;;;AAEA,MAAMA,YAAY,GAAG,IAAIC,kBAASC,MAAb,CACnB;AACEC,EAAAA,IAAI,EAAE;AAAEC,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GADR;AAEEC,EAAAA,MAAM,EAAE;AAAEH,IAAAA,IAAI,EAAEI,MAAR;AAAgBC,IAAAA,OAAO,EAAE;AAAzB,GAFV;AAGEC,EAAAA,OAAO,EAAE;AAAEN,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B;AAHX,CADmB,EAMnB;AACEK,EAAAA,UAAU,EAAE;AADd,CANmB,CAArB;AAUA,MAAMC,YAAY,GAAG,IAAIX,kBAASC,MAAb,CAAoB;AACvCC,EAAAA,IAAI,EAAE;AAAEC,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GADiC;AAEvCO,EAAAA,KAAK,EAAE;AAAET,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAFgC;AAGvCQ,EAAAA,KAAK,EAAE;AAAEV,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAHgC;AAIvCS,EAAAA,KAAK,EAAE;AAAEX,IAAAA,IAAI,EAAEI,MAAR;AAAgBC,IAAAA,OAAO,EAAE,CAAzB;AAA4BH,IAAAA,QAAQ,EAAE;AAAtC,GAJgC;AAKvCU,EAAAA,QAAQ,EAAE;AAAEZ,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAL6B;AAMvCW,EAAAA,YAAY,EAAE;AAAEb,IAAAA,IAAI,EAAEI,MAAR;AAAgBC,IAAAA,OAAO,EAAE,CAAzB;AAA4BH,IAAAA,QAAQ,EAAE;AAAtC,GANyB;AAOvCY,EAAAA,WAAW,EAAE;AAAEd,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAP0B;AAQvCC,EAAAA,MAAM,EAAE;AAAEH,IAAAA,IAAI,EAAEI,MAAR;AAAgBC,IAAAA,OAAO,EAAE,CAAzB;AAA4BH,IAAAA,QAAQ,EAAE;AAAtC,GAR+B;AASvCa,EAAAA,UAAU,EAAE;AAAEf,IAAAA,IAAI,EAAEI,MAAR;AAAgBC,IAAAA,OAAO,EAAE,CAAzB;AAA4BH,IAAAA,QAAQ,EAAE;AAAtC,GAT2B;AAUvCc,EAAAA,OAAO,EAAE,CAACpB,YAAD;AAV8B,CAApB,CAArB;;AAaA,MAAMqB,YAAY,GAAGpB,kBAASqB,KAAT,CAAe,SAAf,EAA0BV,YAA1B,CAArB;;eAEeS,Y",
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/models/",
      "sourcesContent": [
        "import mongoose from 'mongoose';\n\nconst reviewSchema = new mongoose.Schema(\n  {\n    name: { type: String, required: true },\n    rating: { type: Number, default: 0 },\n    comment: { type: String, required: true },\n  },\n  {\n    timestamps: true,\n  }\n);\nconst prodctSchema = new mongoose.Schema({\n  name: { type: String, required: true },\n  image: { type: String, required: true },\n  brand: { type: String, required: true },\n  price: { type: Number, default: 0, required: true },\n  category: { type: String, required: true },\n  countInStock: { type: Number, default: 0, required: true },\n  description: { type: String, required: true },\n  rating: { type: Number, default: 0, required: true },\n  numReviews: { type: Number, default: 0, required: true },\n  reviews: [reviewSchema],\n});\n\nconst productModel = mongoose.model('Product', prodctSchema);\n\nexport default productModel;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1595823100000
  },
  "{\"sourceRoot\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop\",\"filename\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/orderRoute.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop",
      "filename": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/orderRoute.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/orderRoute.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/orderRoute.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/",
        "sourceFileName": "orderRoute.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _orderModel = _interopRequireDefault(require(\"../schemas/orderModel\"));\n\nvar _util = require(\"../util\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst router = _express.default.Router();\n\nrouter.get(\"/\", _util.isAuth, async (req, res) => {\n  const orders = await _orderModel.default.find({}).populate('user');\n  res.send(orders);\n});\nrouter.get(\"/mine\", _util.isAuth, async (req, res) => {\n  const orders = await _orderModel.default.find({\n    user: req.user._id\n  });\n  res.send(orders);\n});\nrouter.get(\"/:id\", _util.isAuth, async (req, res) => {\n  const order = await _orderModel.default.findOne({\n    _id: req.params.id\n  });\n\n  if (order) {\n    res.send(order);\n  } else {\n    res.status(404).send(\"Order Not Found.\");\n  }\n});\nrouter.delete(\"/:id\", _util.isAuth, _util.isAdmin, async (req, res) => {\n  const order = await _orderModel.default.findOne({\n    _id: req.params.id\n  });\n\n  if (order) {\n    const deletedOrder = await order.remove();\n    res.send(deletedOrder);\n  } else {\n    res.status(404).send(\"Order Not Found.\");\n  }\n});\nrouter.post(\"/\", _util.isAuth, async (req, res) => {\n  const newOrder = new _orderModel.default({\n    orderItems: req.body.orderItems,\n    user: req.user._id,\n    shipping: req.body.shipping,\n    payment: req.body.payment,\n    itemsPrice: req.body.itemsPrice,\n    taxPrice: req.body.taxPrice,\n    shippingPrice: req.body.shippingPrice,\n    totalPrice: req.body.totalPrice\n  });\n  const newOrderCreated = await newOrder.save();\n  res.status(201).send({\n    message: \"New Order Created\",\n    data: newOrderCreated\n  });\n});\nrouter.put(\"/:id/pay\", _util.isAuth, async (req, res) => {\n  const order = await _orderModel.default.findById(req.params.id);\n\n  if (order) {\n    order.isPaid = true;\n    order.paidAt = Date.now();\n    order.payment = {\n      paymentMethod: 'paypal',\n      paymentResult: {\n        payerID: req.body.payerID,\n        orderID: req.body.orderID,\n        paymentID: req.body.paymentID\n      }\n    };\n    const updatedOrder = await order.save();\n    res.send({\n      message: 'Order Paid.',\n      order: updatedOrder\n    });\n  } else {\n    res.status(404).send({\n      message: 'Order not found.'\n    });\n  }\n});\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9yZGVyUm91dGUuanMiXSwibmFtZXMiOlsicm91dGVyIiwiZXhwcmVzcyIsIlJvdXRlciIsImdldCIsImlzQXV0aCIsInJlcSIsInJlcyIsIm9yZGVycyIsIk9yZGVyIiwiZmluZCIsInBvcHVsYXRlIiwic2VuZCIsInVzZXIiLCJfaWQiLCJvcmRlciIsImZpbmRPbmUiLCJwYXJhbXMiLCJpZCIsInN0YXR1cyIsImRlbGV0ZSIsImlzQWRtaW4iLCJkZWxldGVkT3JkZXIiLCJyZW1vdmUiLCJwb3N0IiwibmV3T3JkZXIiLCJvcmRlckl0ZW1zIiwiYm9keSIsInNoaXBwaW5nIiwicGF5bWVudCIsIml0ZW1zUHJpY2UiLCJ0YXhQcmljZSIsInNoaXBwaW5nUHJpY2UiLCJ0b3RhbFByaWNlIiwibmV3T3JkZXJDcmVhdGVkIiwic2F2ZSIsIm1lc3NhZ2UiLCJkYXRhIiwicHV0IiwiZmluZEJ5SWQiLCJpc1BhaWQiLCJwYWlkQXQiLCJEYXRlIiwibm93IiwicGF5bWVudE1ldGhvZCIsInBheW1lbnRSZXN1bHQiLCJwYXllcklEIiwib3JkZXJJRCIsInBheW1lbnRJRCIsInVwZGF0ZWRPcmRlciJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOzs7O0FBRUEsTUFBTUEsTUFBTSxHQUFHQyxpQkFBUUMsTUFBUixFQUFmOztBQUVBRixNQUFNLENBQUNHLEdBQVAsQ0FBVyxHQUFYLEVBQWdCQyxZQUFoQixFQUF3QixPQUFPQyxHQUFQLEVBQVlDLEdBQVosS0FBb0I7QUFDMUMsUUFBTUMsTUFBTSxHQUFHLE1BQU1DLG9CQUFNQyxJQUFOLENBQVcsRUFBWCxFQUFlQyxRQUFmLENBQXdCLE1BQXhCLENBQXJCO0FBQ0FKLEVBQUFBLEdBQUcsQ0FBQ0ssSUFBSixDQUFTSixNQUFUO0FBQ0QsQ0FIRDtBQUlBUCxNQUFNLENBQUNHLEdBQVAsQ0FBVyxPQUFYLEVBQW9CQyxZQUFwQixFQUE0QixPQUFPQyxHQUFQLEVBQVlDLEdBQVosS0FBb0I7QUFDOUMsUUFBTUMsTUFBTSxHQUFHLE1BQU1DLG9CQUFNQyxJQUFOLENBQVc7QUFBRUcsSUFBQUEsSUFBSSxFQUFFUCxHQUFHLENBQUNPLElBQUosQ0FBU0M7QUFBakIsR0FBWCxDQUFyQjtBQUNBUCxFQUFBQSxHQUFHLENBQUNLLElBQUosQ0FBU0osTUFBVDtBQUNELENBSEQ7QUFLQVAsTUFBTSxDQUFDRyxHQUFQLENBQVcsTUFBWCxFQUFtQkMsWUFBbkIsRUFBMkIsT0FBT0MsR0FBUCxFQUFZQyxHQUFaLEtBQW9CO0FBQzdDLFFBQU1RLEtBQUssR0FBRyxNQUFNTixvQkFBTU8sT0FBTixDQUFjO0FBQUVGLElBQUFBLEdBQUcsRUFBRVIsR0FBRyxDQUFDVyxNQUFKLENBQVdDO0FBQWxCLEdBQWQsQ0FBcEI7O0FBQ0EsTUFBSUgsS0FBSixFQUFXO0FBQ1RSLElBQUFBLEdBQUcsQ0FBQ0ssSUFBSixDQUFTRyxLQUFUO0FBQ0QsR0FGRCxNQUVPO0FBQ0xSLElBQUFBLEdBQUcsQ0FBQ1ksTUFBSixDQUFXLEdBQVgsRUFBZ0JQLElBQWhCLENBQXFCLGtCQUFyQjtBQUNEO0FBQ0YsQ0FQRDtBQVNBWCxNQUFNLENBQUNtQixNQUFQLENBQWMsTUFBZCxFQUFzQmYsWUFBdEIsRUFBOEJnQixhQUE5QixFQUF1QyxPQUFPZixHQUFQLEVBQVlDLEdBQVosS0FBb0I7QUFDekQsUUFBTVEsS0FBSyxHQUFHLE1BQU1OLG9CQUFNTyxPQUFOLENBQWM7QUFBRUYsSUFBQUEsR0FBRyxFQUFFUixHQUFHLENBQUNXLE1BQUosQ0FBV0M7QUFBbEIsR0FBZCxDQUFwQjs7QUFDQSxNQUFJSCxLQUFKLEVBQVc7QUFDVCxVQUFNTyxZQUFZLEdBQUcsTUFBTVAsS0FBSyxDQUFDUSxNQUFOLEVBQTNCO0FBQ0FoQixJQUFBQSxHQUFHLENBQUNLLElBQUosQ0FBU1UsWUFBVDtBQUNELEdBSEQsTUFHTztBQUNMZixJQUFBQSxHQUFHLENBQUNZLE1BQUosQ0FBVyxHQUFYLEVBQWdCUCxJQUFoQixDQUFxQixrQkFBckI7QUFDRDtBQUNGLENBUkQ7QUFVQVgsTUFBTSxDQUFDdUIsSUFBUCxDQUFZLEdBQVosRUFBaUJuQixZQUFqQixFQUF5QixPQUFPQyxHQUFQLEVBQVlDLEdBQVosS0FBb0I7QUFDM0MsUUFBTWtCLFFBQVEsR0FBRyxJQUFJaEIsbUJBQUosQ0FBVTtBQUN6QmlCLElBQUFBLFVBQVUsRUFBRXBCLEdBQUcsQ0FBQ3FCLElBQUosQ0FBU0QsVUFESTtBQUV6QmIsSUFBQUEsSUFBSSxFQUFFUCxHQUFHLENBQUNPLElBQUosQ0FBU0MsR0FGVTtBQUd6QmMsSUFBQUEsUUFBUSxFQUFFdEIsR0FBRyxDQUFDcUIsSUFBSixDQUFTQyxRQUhNO0FBSXpCQyxJQUFBQSxPQUFPLEVBQUV2QixHQUFHLENBQUNxQixJQUFKLENBQVNFLE9BSk87QUFLekJDLElBQUFBLFVBQVUsRUFBRXhCLEdBQUcsQ0FBQ3FCLElBQUosQ0FBU0csVUFMSTtBQU16QkMsSUFBQUEsUUFBUSxFQUFFekIsR0FBRyxDQUFDcUIsSUFBSixDQUFTSSxRQU5NO0FBT3pCQyxJQUFBQSxhQUFhLEVBQUUxQixHQUFHLENBQUNxQixJQUFKLENBQVNLLGFBUEM7QUFRekJDLElBQUFBLFVBQVUsRUFBRTNCLEdBQUcsQ0FBQ3FCLElBQUosQ0FBU007QUFSSSxHQUFWLENBQWpCO0FBVUEsUUFBTUMsZUFBZSxHQUFHLE1BQU1ULFFBQVEsQ0FBQ1UsSUFBVCxFQUE5QjtBQUNBNUIsRUFBQUEsR0FBRyxDQUFDWSxNQUFKLENBQVcsR0FBWCxFQUFnQlAsSUFBaEIsQ0FBcUI7QUFBRXdCLElBQUFBLE9BQU8sRUFBRSxtQkFBWDtBQUFnQ0MsSUFBQUEsSUFBSSxFQUFFSDtBQUF0QyxHQUFyQjtBQUNELENBYkQ7QUFlQWpDLE1BQU0sQ0FBQ3FDLEdBQVAsQ0FBVyxVQUFYLEVBQXVCakMsWUFBdkIsRUFBK0IsT0FBT0MsR0FBUCxFQUFZQyxHQUFaLEtBQW9CO0FBQ2pELFFBQU1RLEtBQUssR0FBRyxNQUFNTixvQkFBTThCLFFBQU4sQ0FBZWpDLEdBQUcsQ0FBQ1csTUFBSixDQUFXQyxFQUExQixDQUFwQjs7QUFDQSxNQUFJSCxLQUFKLEVBQVc7QUFDVEEsSUFBQUEsS0FBSyxDQUFDeUIsTUFBTixHQUFlLElBQWY7QUFDQXpCLElBQUFBLEtBQUssQ0FBQzBCLE1BQU4sR0FBZUMsSUFBSSxDQUFDQyxHQUFMLEVBQWY7QUFDQTVCLElBQUFBLEtBQUssQ0FBQ2MsT0FBTixHQUFnQjtBQUNkZSxNQUFBQSxhQUFhLEVBQUUsUUFERDtBQUVkQyxNQUFBQSxhQUFhLEVBQUU7QUFDYkMsUUFBQUEsT0FBTyxFQUFFeEMsR0FBRyxDQUFDcUIsSUFBSixDQUFTbUIsT0FETDtBQUViQyxRQUFBQSxPQUFPLEVBQUV6QyxHQUFHLENBQUNxQixJQUFKLENBQVNvQixPQUZMO0FBR2JDLFFBQUFBLFNBQVMsRUFBRTFDLEdBQUcsQ0FBQ3FCLElBQUosQ0FBU3FCO0FBSFA7QUFGRCxLQUFoQjtBQVFBLFVBQU1DLFlBQVksR0FBRyxNQUFNbEMsS0FBSyxDQUFDb0IsSUFBTixFQUEzQjtBQUNBNUIsSUFBQUEsR0FBRyxDQUFDSyxJQUFKLENBQVM7QUFBRXdCLE1BQUFBLE9BQU8sRUFBRSxhQUFYO0FBQTBCckIsTUFBQUEsS0FBSyxFQUFFa0M7QUFBakMsS0FBVDtBQUNELEdBYkQsTUFhTztBQUNMMUMsSUFBQUEsR0FBRyxDQUFDWSxNQUFKLENBQVcsR0FBWCxFQUFnQlAsSUFBaEIsQ0FBcUI7QUFBRXdCLE1BQUFBLE9BQU8sRUFBRTtBQUFYLEtBQXJCO0FBQ0Q7QUFDRixDQWxCRDtlQW9CZW5DLE0iLCJzb3VyY2VSb290IjoiL1VzZXJzL01lL0Rlc2t0b3AvUmVhY3RQcm9qZWN0cy9lY29tbS9sdXhlc2hvcC9iYWNrZW5kL3JvdXRlcy8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcbmltcG9ydCBPcmRlciBmcm9tICcuLi9zY2hlbWFzL29yZGVyTW9kZWwnO1xuaW1wb3J0IHsgaXNBdXRoLCBpc0FkbWluIH0gZnJvbSAnLi4vdXRpbCc7XG5cbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5cbnJvdXRlci5nZXQoXCIvXCIsIGlzQXV0aCwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIGNvbnN0IG9yZGVycyA9IGF3YWl0IE9yZGVyLmZpbmQoe30pLnBvcHVsYXRlKCd1c2VyJyk7XG4gIHJlcy5zZW5kKG9yZGVycyk7XG59KTtcbnJvdXRlci5nZXQoXCIvbWluZVwiLCBpc0F1dGgsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICBjb25zdCBvcmRlcnMgPSBhd2FpdCBPcmRlci5maW5kKHsgdXNlcjogcmVxLnVzZXIuX2lkIH0pO1xuICByZXMuc2VuZChvcmRlcnMpO1xufSk7XG5cbnJvdXRlci5nZXQoXCIvOmlkXCIsIGlzQXV0aCwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIGNvbnN0IG9yZGVyID0gYXdhaXQgT3JkZXIuZmluZE9uZSh7IF9pZDogcmVxLnBhcmFtcy5pZCB9KTtcbiAgaWYgKG9yZGVyKSB7XG4gICAgcmVzLnNlbmQob3JkZXIpO1xuICB9IGVsc2Uge1xuICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKFwiT3JkZXIgTm90IEZvdW5kLlwiKVxuICB9XG59KTtcblxucm91dGVyLmRlbGV0ZShcIi86aWRcIiwgaXNBdXRoLCBpc0FkbWluLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgY29uc3Qgb3JkZXIgPSBhd2FpdCBPcmRlci5maW5kT25lKHsgX2lkOiByZXEucGFyYW1zLmlkIH0pO1xuICBpZiAob3JkZXIpIHtcbiAgICBjb25zdCBkZWxldGVkT3JkZXIgPSBhd2FpdCBvcmRlci5yZW1vdmUoKTtcbiAgICByZXMuc2VuZChkZWxldGVkT3JkZXIpO1xuICB9IGVsc2Uge1xuICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKFwiT3JkZXIgTm90IEZvdW5kLlwiKVxuICB9XG59KTtcblxucm91dGVyLnBvc3QoXCIvXCIsIGlzQXV0aCwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIGNvbnN0IG5ld09yZGVyID0gbmV3IE9yZGVyKHtcbiAgICBvcmRlckl0ZW1zOiByZXEuYm9keS5vcmRlckl0ZW1zLFxuICAgIHVzZXI6IHJlcS51c2VyLl9pZCxcbiAgICBzaGlwcGluZzogcmVxLmJvZHkuc2hpcHBpbmcsXG4gICAgcGF5bWVudDogcmVxLmJvZHkucGF5bWVudCxcbiAgICBpdGVtc1ByaWNlOiByZXEuYm9keS5pdGVtc1ByaWNlLFxuICAgIHRheFByaWNlOiByZXEuYm9keS50YXhQcmljZSxcbiAgICBzaGlwcGluZ1ByaWNlOiByZXEuYm9keS5zaGlwcGluZ1ByaWNlLFxuICAgIHRvdGFsUHJpY2U6IHJlcS5ib2R5LnRvdGFsUHJpY2UsXG4gIH0pO1xuICBjb25zdCBuZXdPcmRlckNyZWF0ZWQgPSBhd2FpdCBuZXdPcmRlci5zYXZlKCk7XG4gIHJlcy5zdGF0dXMoMjAxKS5zZW5kKHsgbWVzc2FnZTogXCJOZXcgT3JkZXIgQ3JlYXRlZFwiLCBkYXRhOiBuZXdPcmRlckNyZWF0ZWQgfSk7XG59KTtcblxucm91dGVyLnB1dChcIi86aWQvcGF5XCIsIGlzQXV0aCwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIGNvbnN0IG9yZGVyID0gYXdhaXQgT3JkZXIuZmluZEJ5SWQocmVxLnBhcmFtcy5pZCk7XG4gIGlmIChvcmRlcikge1xuICAgIG9yZGVyLmlzUGFpZCA9IHRydWU7XG4gICAgb3JkZXIucGFpZEF0ID0gRGF0ZS5ub3coKTtcbiAgICBvcmRlci5wYXltZW50ID0ge1xuICAgICAgcGF5bWVudE1ldGhvZDogJ3BheXBhbCcsXG4gICAgICBwYXltZW50UmVzdWx0OiB7XG4gICAgICAgIHBheWVySUQ6IHJlcS5ib2R5LnBheWVySUQsXG4gICAgICAgIG9yZGVySUQ6IHJlcS5ib2R5Lm9yZGVySUQsXG4gICAgICAgIHBheW1lbnRJRDogcmVxLmJvZHkucGF5bWVudElEXG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHVwZGF0ZWRPcmRlciA9IGF3YWl0IG9yZGVyLnNhdmUoKTtcbiAgICByZXMuc2VuZCh7IG1lc3NhZ2U6ICdPcmRlciBQYWlkLicsIG9yZGVyOiB1cGRhdGVkT3JkZXIgfSk7XG4gIH0gZWxzZSB7XG4gICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoeyBtZXNzYWdlOiAnT3JkZXIgbm90IGZvdW5kLicgfSlcbiAgfVxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjsiXX0=",
    "map": {
      "version": 3,
      "sources": [
        "orderRoute.js"
      ],
      "names": [
        "router",
        "express",
        "Router",
        "get",
        "isAuth",
        "req",
        "res",
        "orders",
        "Order",
        "find",
        "populate",
        "send",
        "user",
        "_id",
        "order",
        "findOne",
        "params",
        "id",
        "status",
        "delete",
        "isAdmin",
        "deletedOrder",
        "remove",
        "post",
        "newOrder",
        "orderItems",
        "body",
        "shipping",
        "payment",
        "itemsPrice",
        "taxPrice",
        "shippingPrice",
        "totalPrice",
        "newOrderCreated",
        "save",
        "message",
        "data",
        "put",
        "findById",
        "isPaid",
        "paidAt",
        "Date",
        "now",
        "paymentMethod",
        "paymentResult",
        "payerID",
        "orderID",
        "paymentID",
        "updatedOrder"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;;;AAEA,MAAMA,MAAM,GAAGC,iBAAQC,MAAR,EAAf;;AAEAF,MAAM,CAACG,GAAP,CAAW,GAAX,EAAgBC,YAAhB,EAAwB,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AAC1C,QAAMC,MAAM,GAAG,MAAMC,oBAAMC,IAAN,CAAW,EAAX,EAAeC,QAAf,CAAwB,MAAxB,CAArB;AACAJ,EAAAA,GAAG,CAACK,IAAJ,CAASJ,MAAT;AACD,CAHD;AAIAP,MAAM,CAACG,GAAP,CAAW,OAAX,EAAoBC,YAApB,EAA4B,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AAC9C,QAAMC,MAAM,GAAG,MAAMC,oBAAMC,IAAN,CAAW;AAAEG,IAAAA,IAAI,EAAEP,GAAG,CAACO,IAAJ,CAASC;AAAjB,GAAX,CAArB;AACAP,EAAAA,GAAG,CAACK,IAAJ,CAASJ,MAAT;AACD,CAHD;AAKAP,MAAM,CAACG,GAAP,CAAW,MAAX,EAAmBC,YAAnB,EAA2B,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AAC7C,QAAMQ,KAAK,GAAG,MAAMN,oBAAMO,OAAN,CAAc;AAAEF,IAAAA,GAAG,EAAER,GAAG,CAACW,MAAJ,CAAWC;AAAlB,GAAd,CAApB;;AACA,MAAIH,KAAJ,EAAW;AACTR,IAAAA,GAAG,CAACK,IAAJ,CAASG,KAAT;AACD,GAFD,MAEO;AACLR,IAAAA,GAAG,CAACY,MAAJ,CAAW,GAAX,EAAgBP,IAAhB,CAAqB,kBAArB;AACD;AACF,CAPD;AASAX,MAAM,CAACmB,MAAP,CAAc,MAAd,EAAsBf,YAAtB,EAA8BgB,aAA9B,EAAuC,OAAOf,GAAP,EAAYC,GAAZ,KAAoB;AACzD,QAAMQ,KAAK,GAAG,MAAMN,oBAAMO,OAAN,CAAc;AAAEF,IAAAA,GAAG,EAAER,GAAG,CAACW,MAAJ,CAAWC;AAAlB,GAAd,CAApB;;AACA,MAAIH,KAAJ,EAAW;AACT,UAAMO,YAAY,GAAG,MAAMP,KAAK,CAACQ,MAAN,EAA3B;AACAhB,IAAAA,GAAG,CAACK,IAAJ,CAASU,YAAT;AACD,GAHD,MAGO;AACLf,IAAAA,GAAG,CAACY,MAAJ,CAAW,GAAX,EAAgBP,IAAhB,CAAqB,kBAArB;AACD;AACF,CARD;AAUAX,MAAM,CAACuB,IAAP,CAAY,GAAZ,EAAiBnB,YAAjB,EAAyB,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AAC3C,QAAMkB,QAAQ,GAAG,IAAIhB,mBAAJ,CAAU;AACzBiB,IAAAA,UAAU,EAAEpB,GAAG,CAACqB,IAAJ,CAASD,UADI;AAEzBb,IAAAA,IAAI,EAAEP,GAAG,CAACO,IAAJ,CAASC,GAFU;AAGzBc,IAAAA,QAAQ,EAAEtB,GAAG,CAACqB,IAAJ,CAASC,QAHM;AAIzBC,IAAAA,OAAO,EAAEvB,GAAG,CAACqB,IAAJ,CAASE,OAJO;AAKzBC,IAAAA,UAAU,EAAExB,GAAG,CAACqB,IAAJ,CAASG,UALI;AAMzBC,IAAAA,QAAQ,EAAEzB,GAAG,CAACqB,IAAJ,CAASI,QANM;AAOzBC,IAAAA,aAAa,EAAE1B,GAAG,CAACqB,IAAJ,CAASK,aAPC;AAQzBC,IAAAA,UAAU,EAAE3B,GAAG,CAACqB,IAAJ,CAASM;AARI,GAAV,CAAjB;AAUA,QAAMC,eAAe,GAAG,MAAMT,QAAQ,CAACU,IAAT,EAA9B;AACA5B,EAAAA,GAAG,CAACY,MAAJ,CAAW,GAAX,EAAgBP,IAAhB,CAAqB;AAAEwB,IAAAA,OAAO,EAAE,mBAAX;AAAgCC,IAAAA,IAAI,EAAEH;AAAtC,GAArB;AACD,CAbD;AAeAjC,MAAM,CAACqC,GAAP,CAAW,UAAX,EAAuBjC,YAAvB,EAA+B,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AACjD,QAAMQ,KAAK,GAAG,MAAMN,oBAAM8B,QAAN,CAAejC,GAAG,CAACW,MAAJ,CAAWC,EAA1B,CAApB;;AACA,MAAIH,KAAJ,EAAW;AACTA,IAAAA,KAAK,CAACyB,MAAN,GAAe,IAAf;AACAzB,IAAAA,KAAK,CAAC0B,MAAN,GAAeC,IAAI,CAACC,GAAL,EAAf;AACA5B,IAAAA,KAAK,CAACc,OAAN,GAAgB;AACde,MAAAA,aAAa,EAAE,QADD;AAEdC,MAAAA,aAAa,EAAE;AACbC,QAAAA,OAAO,EAAExC,GAAG,CAACqB,IAAJ,CAASmB,OADL;AAEbC,QAAAA,OAAO,EAAEzC,GAAG,CAACqB,IAAJ,CAASoB,OAFL;AAGbC,QAAAA,SAAS,EAAE1C,GAAG,CAACqB,IAAJ,CAASqB;AAHP;AAFD,KAAhB;AAQA,UAAMC,YAAY,GAAG,MAAMlC,KAAK,CAACoB,IAAN,EAA3B;AACA5B,IAAAA,GAAG,CAACK,IAAJ,CAAS;AAAEwB,MAAAA,OAAO,EAAE,aAAX;AAA0BrB,MAAAA,KAAK,EAAEkC;AAAjC,KAAT;AACD,GAbD,MAaO;AACL1C,IAAAA,GAAG,CAACY,MAAJ,CAAW,GAAX,EAAgBP,IAAhB,CAAqB;AAAEwB,MAAAA,OAAO,EAAE;AAAX,KAArB;AACD;AACF,CAlBD;eAoBenC,M",
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/",
      "sourcesContent": [
        "import express from 'express';\nimport Order from '../schemas/orderModel';\nimport { isAuth, isAdmin } from '../util';\n\nconst router = express.Router();\n\nrouter.get(\"/\", isAuth, async (req, res) => {\n  const orders = await Order.find({}).populate('user');\n  res.send(orders);\n});\nrouter.get(\"/mine\", isAuth, async (req, res) => {\n  const orders = await Order.find({ user: req.user._id });\n  res.send(orders);\n});\n\nrouter.get(\"/:id\", isAuth, async (req, res) => {\n  const order = await Order.findOne({ _id: req.params.id });\n  if (order) {\n    res.send(order);\n  } else {\n    res.status(404).send(\"Order Not Found.\")\n  }\n});\n\nrouter.delete(\"/:id\", isAuth, isAdmin, async (req, res) => {\n  const order = await Order.findOne({ _id: req.params.id });\n  if (order) {\n    const deletedOrder = await order.remove();\n    res.send(deletedOrder);\n  } else {\n    res.status(404).send(\"Order Not Found.\")\n  }\n});\n\nrouter.post(\"/\", isAuth, async (req, res) => {\n  const newOrder = new Order({\n    orderItems: req.body.orderItems,\n    user: req.user._id,\n    shipping: req.body.shipping,\n    payment: req.body.payment,\n    itemsPrice: req.body.itemsPrice,\n    taxPrice: req.body.taxPrice,\n    shippingPrice: req.body.shippingPrice,\n    totalPrice: req.body.totalPrice,\n  });\n  const newOrderCreated = await newOrder.save();\n  res.status(201).send({ message: \"New Order Created\", data: newOrderCreated });\n});\n\nrouter.put(\"/:id/pay\", isAuth, async (req, res) => {\n  const order = await Order.findById(req.params.id);\n  if (order) {\n    order.isPaid = true;\n    order.paidAt = Date.now();\n    order.payment = {\n      paymentMethod: 'paypal',\n      paymentResult: {\n        payerID: req.body.payerID,\n        orderID: req.body.orderID,\n        paymentID: req.body.paymentID\n      }\n    }\n    const updatedOrder = await order.save();\n    res.send({ message: 'Order Paid.', order: updatedOrder });\n  } else {\n    res.status(404).send({ message: 'Order not found.' })\n  }\n});\n\nexport default router;"
      ]
    },
    "sourceType": "script",
    "mtime": 1606438635879
  },
  "{\"sourceRoot\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop\",\"filename\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/models/orderModel.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/models/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop",
      "filename": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/models/orderModel.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/models/orderModel.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/models/orderModel.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/models/",
        "sourceFileName": "orderModel.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst shippingSchema = {\n  address: {\n    type: String,\n    required: true\n  },\n  city: {\n    type: String,\n    required: true\n  },\n  postalCode: {\n    type: String,\n    required: true\n  },\n  country: {\n    type: String,\n    required: true\n  }\n};\nconst paymentSchema = {\n  paymentMethod: {\n    type: String,\n    required: true\n  }\n};\nconst orderItemSchema = new _mongoose.default.Schema({\n  name: {\n    type: String,\n    required: true\n  },\n  qty: {\n    type: Number,\n    required: true\n  },\n  image: {\n    type: String,\n    required: true\n  },\n  price: {\n    type: String,\n    required: true\n  },\n  product: {\n    type: _mongoose.default.Schema.Types.ObjectId,\n    ref: 'Product',\n    required: true\n  }\n});\nconst orderSchema = new _mongoose.default.Schema({\n  user: {\n    type: _mongoose.default.Schema.Types.ObjectId,\n    ref: 'User',\n    required: true\n  },\n  orderItems: [orderItemSchema],\n  shipping: shippingSchema,\n  payment: paymentSchema,\n  itemsPrice: {\n    type: Number\n  },\n  taxPrice: {\n    type: Number\n  },\n  shippingPrice: {\n    type: Number\n  },\n  totalPrice: {\n    type: Number\n  },\n  isPaid: {\n    type: Boolean,\n    default: false\n  },\n  paidAt: {\n    type: Date\n  },\n  isDelivered: {\n    type: Boolean,\n    default: false\n  },\n  deliveredAt: {\n    type: Date\n  }\n}, {\n  timestamps: true\n});\n\nconst orderModel = _mongoose.default.model(\"Order\", orderSchema);\n\nvar _default = orderModel;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9yZGVyTW9kZWwuanMiXSwibmFtZXMiOlsic2hpcHBpbmdTY2hlbWEiLCJhZGRyZXNzIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwiY2l0eSIsInBvc3RhbENvZGUiLCJjb3VudHJ5IiwicGF5bWVudFNjaGVtYSIsInBheW1lbnRNZXRob2QiLCJvcmRlckl0ZW1TY2hlbWEiLCJtb25nb29zZSIsIlNjaGVtYSIsIm5hbWUiLCJxdHkiLCJOdW1iZXIiLCJpbWFnZSIsInByaWNlIiwicHJvZHVjdCIsIlR5cGVzIiwiT2JqZWN0SWQiLCJyZWYiLCJvcmRlclNjaGVtYSIsInVzZXIiLCJvcmRlckl0ZW1zIiwic2hpcHBpbmciLCJwYXltZW50IiwiaXRlbXNQcmljZSIsInRheFByaWNlIiwic2hpcHBpbmdQcmljZSIsInRvdGFsUHJpY2UiLCJpc1BhaWQiLCJCb29sZWFuIiwiZGVmYXVsdCIsInBhaWRBdCIsIkRhdGUiLCJpc0RlbGl2ZXJlZCIsImRlbGl2ZXJlZEF0IiwidGltZXN0YW1wcyIsIm9yZGVyTW9kZWwiLCJtb2RlbCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7O0FBQ0EsTUFBTUEsY0FBYyxHQUFHO0FBQ3JCQyxFQUFBQSxPQUFPLEVBQUU7QUFBRUMsSUFBQUEsSUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxJQUFBQSxRQUFRLEVBQUU7QUFBMUIsR0FEWTtBQUVyQkMsRUFBQUEsSUFBSSxFQUFFO0FBQUVILElBQUFBLElBQUksRUFBRUMsTUFBUjtBQUFnQkMsSUFBQUEsUUFBUSxFQUFFO0FBQTFCLEdBRmU7QUFHckJFLEVBQUFBLFVBQVUsRUFBRTtBQUFFSixJQUFBQSxJQUFJLEVBQUVDLE1BQVI7QUFBZ0JDLElBQUFBLFFBQVEsRUFBRTtBQUExQixHQUhTO0FBSXJCRyxFQUFBQSxPQUFPLEVBQUU7QUFBRUwsSUFBQUEsSUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxJQUFBQSxRQUFRLEVBQUU7QUFBMUI7QUFKWSxDQUF2QjtBQU9BLE1BQU1JLGFBQWEsR0FBRztBQUNwQkMsRUFBQUEsYUFBYSxFQUFFO0FBQUVQLElBQUFBLElBQUksRUFBRUMsTUFBUjtBQUFnQkMsSUFBQUEsUUFBUSxFQUFFO0FBQTFCO0FBREssQ0FBdEI7QUFJQSxNQUFNTSxlQUFlLEdBQUcsSUFBSUMsa0JBQVNDLE1BQWIsQ0FBb0I7QUFDMUNDLEVBQUFBLElBQUksRUFBRTtBQUFFWCxJQUFBQSxJQUFJLEVBQUVDLE1BQVI7QUFBZ0JDLElBQUFBLFFBQVEsRUFBRTtBQUExQixHQURvQztBQUUxQ1UsRUFBQUEsR0FBRyxFQUFFO0FBQUVaLElBQUFBLElBQUksRUFBRWEsTUFBUjtBQUFnQlgsSUFBQUEsUUFBUSxFQUFFO0FBQTFCLEdBRnFDO0FBRzFDWSxFQUFBQSxLQUFLLEVBQUU7QUFBRWQsSUFBQUEsSUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxJQUFBQSxRQUFRLEVBQUU7QUFBMUIsR0FIbUM7QUFJMUNhLEVBQUFBLEtBQUssRUFBRTtBQUFFZixJQUFBQSxJQUFJLEVBQUVDLE1BQVI7QUFBZ0JDLElBQUFBLFFBQVEsRUFBRTtBQUExQixHQUptQztBQUsxQ2MsRUFBQUEsT0FBTyxFQUFFO0FBQ1BoQixJQUFBQSxJQUFJLEVBQUVTLGtCQUFTQyxNQUFULENBQWdCTyxLQUFoQixDQUFzQkMsUUFEckI7QUFFUEMsSUFBQUEsR0FBRyxFQUFFLFNBRkU7QUFHUGpCLElBQUFBLFFBQVEsRUFBRTtBQUhIO0FBTGlDLENBQXBCLENBQXhCO0FBWUEsTUFBTWtCLFdBQVcsR0FBRyxJQUFJWCxrQkFBU0MsTUFBYixDQUFvQjtBQUN0Q1csRUFBQUEsSUFBSSxFQUFFO0FBQUVyQixJQUFBQSxJQUFJLEVBQUVTLGtCQUFTQyxNQUFULENBQWdCTyxLQUFoQixDQUFzQkMsUUFBOUI7QUFBd0NDLElBQUFBLEdBQUcsRUFBRSxNQUE3QztBQUFxRGpCLElBQUFBLFFBQVEsRUFBRTtBQUEvRCxHQURnQztBQUV0Q29CLEVBQUFBLFVBQVUsRUFBRSxDQUFDZCxlQUFELENBRjBCO0FBR3RDZSxFQUFBQSxRQUFRLEVBQUV6QixjQUg0QjtBQUl0QzBCLEVBQUFBLE9BQU8sRUFBRWxCLGFBSjZCO0FBS3RDbUIsRUFBQUEsVUFBVSxFQUFFO0FBQUV6QixJQUFBQSxJQUFJLEVBQUVhO0FBQVIsR0FMMEI7QUFNdENhLEVBQUFBLFFBQVEsRUFBRTtBQUFFMUIsSUFBQUEsSUFBSSxFQUFFYTtBQUFSLEdBTjRCO0FBT3RDYyxFQUFBQSxhQUFhLEVBQUU7QUFBRTNCLElBQUFBLElBQUksRUFBRWE7QUFBUixHQVB1QjtBQVF0Q2UsRUFBQUEsVUFBVSxFQUFFO0FBQUU1QixJQUFBQSxJQUFJLEVBQUVhO0FBQVIsR0FSMEI7QUFTdENnQixFQUFBQSxNQUFNLEVBQUU7QUFBRTdCLElBQUFBLElBQUksRUFBRThCLE9BQVI7QUFBaUJDLElBQUFBLE9BQU8sRUFBRTtBQUExQixHQVQ4QjtBQVV0Q0MsRUFBQUEsTUFBTSxFQUFFO0FBQUVoQyxJQUFBQSxJQUFJLEVBQUVpQztBQUFSLEdBVjhCO0FBV3RDQyxFQUFBQSxXQUFXLEVBQUU7QUFBRWxDLElBQUFBLElBQUksRUFBRThCLE9BQVI7QUFBaUJDLElBQUFBLE9BQU8sRUFBRTtBQUExQixHQVh5QjtBQVl0Q0ksRUFBQUEsV0FBVyxFQUFFO0FBQUVuQyxJQUFBQSxJQUFJLEVBQUVpQztBQUFSO0FBWnlCLENBQXBCLEVBYWpCO0FBQ0RHLEVBQUFBLFVBQVUsRUFBRTtBQURYLENBYmlCLENBQXBCOztBQWlCQSxNQUFNQyxVQUFVLEdBQUc1QixrQkFBUzZCLEtBQVQsQ0FBZSxPQUFmLEVBQXdCbEIsV0FBeEIsQ0FBbkI7O2VBQ2VpQixVIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9NZS9EZXNrdG9wL1JlYWN0UHJvamVjdHMvZWNvbW0vbHV4ZXNob3AvYmFja2VuZC9tb2RlbHMvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcbmNvbnN0IHNoaXBwaW5nU2NoZW1hID0ge1xuICBhZGRyZXNzOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgY2l0eTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gIHBvc3RhbENvZGU6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxuICBjb3VudHJ5OiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcbn07XG5cbmNvbnN0IHBheW1lbnRTY2hlbWEgPSB7XG4gIHBheW1lbnRNZXRob2Q6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9XG59O1xuXG5jb25zdCBvcmRlckl0ZW1TY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKHtcbiAgbmFtZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gIHF0eTogeyB0eXBlOiBOdW1iZXIsIHJlcXVpcmVkOiB0cnVlIH0sXG4gIGltYWdlOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgcHJpY2U6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxuICBwcm9kdWN0OiB7XG4gICAgdHlwZTogbW9uZ29vc2UuU2NoZW1hLlR5cGVzLk9iamVjdElkLFxuICAgIHJlZjogJ1Byb2R1Y3QnLFxuICAgIHJlcXVpcmVkOiB0cnVlXG4gIH0sXG59KTtcblxuY29uc3Qgb3JkZXJTY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKHtcbiAgdXNlcjogeyB0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsIHJlZjogJ1VzZXInLCByZXF1aXJlZDogdHJ1ZSB9LFxuICBvcmRlckl0ZW1zOiBbb3JkZXJJdGVtU2NoZW1hXSxcbiAgc2hpcHBpbmc6IHNoaXBwaW5nU2NoZW1hLFxuICBwYXltZW50OiBwYXltZW50U2NoZW1hLFxuICBpdGVtc1ByaWNlOiB7IHR5cGU6IE51bWJlciB9LFxuICB0YXhQcmljZTogeyB0eXBlOiBOdW1iZXIgfSxcbiAgc2hpcHBpbmdQcmljZTogeyB0eXBlOiBOdW1iZXIgfSxcbiAgdG90YWxQcmljZTogeyB0eXBlOiBOdW1iZXIgfSxcbiAgaXNQYWlkOiB7IHR5cGU6IEJvb2xlYW4sIGRlZmF1bHQ6IGZhbHNlIH0sXG4gIHBhaWRBdDogeyB0eXBlOiBEYXRlIH0sXG4gIGlzRGVsaXZlcmVkOiB7IHR5cGU6IEJvb2xlYW4sIGRlZmF1bHQ6IGZhbHNlIH0sXG4gIGRlbGl2ZXJlZEF0OiB7IHR5cGU6IERhdGUgfSxcbn0sIHtcbiAgdGltZXN0YW1wczogdHJ1ZVxufSk7XG5cbmNvbnN0IG9yZGVyTW9kZWwgPSBtb25nb29zZS5tb2RlbChcIk9yZGVyXCIsIG9yZGVyU2NoZW1hKTtcbmV4cG9ydCBkZWZhdWx0IG9yZGVyTW9kZWw7Il19",
    "map": {
      "version": 3,
      "sources": [
        "orderModel.js"
      ],
      "names": [
        "shippingSchema",
        "address",
        "type",
        "String",
        "required",
        "city",
        "postalCode",
        "country",
        "paymentSchema",
        "paymentMethod",
        "orderItemSchema",
        "mongoose",
        "Schema",
        "name",
        "qty",
        "Number",
        "image",
        "price",
        "product",
        "Types",
        "ObjectId",
        "ref",
        "orderSchema",
        "user",
        "orderItems",
        "shipping",
        "payment",
        "itemsPrice",
        "taxPrice",
        "shippingPrice",
        "totalPrice",
        "isPaid",
        "Boolean",
        "default",
        "paidAt",
        "Date",
        "isDelivered",
        "deliveredAt",
        "timestamps",
        "orderModel",
        "model"
      ],
      "mappings": ";;;;;;;AAAA;;;;AACA,MAAMA,cAAc,GAAG;AACrBC,EAAAA,OAAO,EAAE;AAAEC,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GADY;AAErBC,EAAAA,IAAI,EAAE;AAAEH,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAFe;AAGrBE,EAAAA,UAAU,EAAE;AAAEJ,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAHS;AAIrBG,EAAAA,OAAO,EAAE;AAAEL,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B;AAJY,CAAvB;AAOA,MAAMI,aAAa,GAAG;AACpBC,EAAAA,aAAa,EAAE;AAAEP,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B;AADK,CAAtB;AAIA,MAAMM,eAAe,GAAG,IAAIC,kBAASC,MAAb,CAAoB;AAC1CC,EAAAA,IAAI,EAAE;AAAEX,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GADoC;AAE1CU,EAAAA,GAAG,EAAE;AAAEZ,IAAAA,IAAI,EAAEa,MAAR;AAAgBX,IAAAA,QAAQ,EAAE;AAA1B,GAFqC;AAG1CY,EAAAA,KAAK,EAAE;AAAEd,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAHmC;AAI1Ca,EAAAA,KAAK,EAAE;AAAEf,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAJmC;AAK1Cc,EAAAA,OAAO,EAAE;AACPhB,IAAAA,IAAI,EAAES,kBAASC,MAAT,CAAgBO,KAAhB,CAAsBC,QADrB;AAEPC,IAAAA,GAAG,EAAE,SAFE;AAGPjB,IAAAA,QAAQ,EAAE;AAHH;AALiC,CAApB,CAAxB;AAYA,MAAMkB,WAAW,GAAG,IAAIX,kBAASC,MAAb,CAAoB;AACtCW,EAAAA,IAAI,EAAE;AAAErB,IAAAA,IAAI,EAAES,kBAASC,MAAT,CAAgBO,KAAhB,CAAsBC,QAA9B;AAAwCC,IAAAA,GAAG,EAAE,MAA7C;AAAqDjB,IAAAA,QAAQ,EAAE;AAA/D,GADgC;AAEtCoB,EAAAA,UAAU,EAAE,CAACd,eAAD,CAF0B;AAGtCe,EAAAA,QAAQ,EAAEzB,cAH4B;AAItC0B,EAAAA,OAAO,EAAElB,aAJ6B;AAKtCmB,EAAAA,UAAU,EAAE;AAAEzB,IAAAA,IAAI,EAAEa;AAAR,GAL0B;AAMtCa,EAAAA,QAAQ,EAAE;AAAE1B,IAAAA,IAAI,EAAEa;AAAR,GAN4B;AAOtCc,EAAAA,aAAa,EAAE;AAAE3B,IAAAA,IAAI,EAAEa;AAAR,GAPuB;AAQtCe,EAAAA,UAAU,EAAE;AAAE5B,IAAAA,IAAI,EAAEa;AAAR,GAR0B;AAStCgB,EAAAA,MAAM,EAAE;AAAE7B,IAAAA,IAAI,EAAE8B,OAAR;AAAiBC,IAAAA,OAAO,EAAE;AAA1B,GAT8B;AAUtCC,EAAAA,MAAM,EAAE;AAAEhC,IAAAA,IAAI,EAAEiC;AAAR,GAV8B;AAWtCC,EAAAA,WAAW,EAAE;AAAElC,IAAAA,IAAI,EAAE8B,OAAR;AAAiBC,IAAAA,OAAO,EAAE;AAA1B,GAXyB;AAYtCI,EAAAA,WAAW,EAAE;AAAEnC,IAAAA,IAAI,EAAEiC;AAAR;AAZyB,CAApB,EAajB;AACDG,EAAAA,UAAU,EAAE;AADX,CAbiB,CAApB;;AAiBA,MAAMC,UAAU,GAAG5B,kBAAS6B,KAAT,CAAe,OAAf,EAAwBlB,WAAxB,CAAnB;;eACeiB,U",
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/models/",
      "sourcesContent": [
        "import mongoose from 'mongoose';\nconst shippingSchema = {\n  address: { type: String, required: true },\n  city: { type: String, required: true },\n  postalCode: { type: String, required: true },\n  country: { type: String, required: true },\n};\n\nconst paymentSchema = {\n  paymentMethod: { type: String, required: true }\n};\n\nconst orderItemSchema = new mongoose.Schema({\n  name: { type: String, required: true },\n  qty: { type: Number, required: true },\n  image: { type: String, required: true },\n  price: { type: String, required: true },\n  product: {\n    type: mongoose.Schema.Types.ObjectId,\n    ref: 'Product',\n    required: true\n  },\n});\n\nconst orderSchema = new mongoose.Schema({\n  user: { type: mongoose.Schema.Types.ObjectId, ref: 'User', required: true },\n  orderItems: [orderItemSchema],\n  shipping: shippingSchema,\n  payment: paymentSchema,\n  itemsPrice: { type: Number },\n  taxPrice: { type: Number },\n  shippingPrice: { type: Number },\n  totalPrice: { type: Number },\n  isPaid: { type: Boolean, default: false },\n  paidAt: { type: Date },\n  isDelivered: { type: Boolean, default: false },\n  deliveredAt: { type: Date },\n}, {\n  timestamps: true\n});\n\nconst orderModel = mongoose.model(\"Order\", orderSchema);\nexport default orderModel;"
      ]
    },
    "sourceType": "script",
    "mtime": 1595823100000
  },
  "{\"sourceRoot\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop\",\"filename\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/uploadRoute.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop",
      "filename": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/uploadRoute.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/uploadRoute.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/uploadRoute.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/",
        "sourceFileName": "uploadRoute.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _multer = _interopRequireDefault(require(\"multer\"));\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _util = require(\"../util.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst uploadRouter = _express.default.Router();\n\nconst storage = _multer.default.diskStorage({\n  destination(req, file, cb) {\n    cb(null, 'uploads/');\n  },\n\n  filename(req, file, cb) {\n    cb(null, `${Date.now()}.jpg`);\n  }\n\n});\n\nconst upload = (0, _multer.default)({\n  storage\n});\nuploadRouter.post('/', _util.isAuth, upload.single('image'), (req, res) => {\n  res.send(`/${req.file.path}`);\n});\nvar _default = uploadRouter;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVwbG9hZFJvdXRlLmpzIl0sIm5hbWVzIjpbInVwbG9hZFJvdXRlciIsImV4cHJlc3MiLCJSb3V0ZXIiLCJzdG9yYWdlIiwibXVsdGVyIiwiZGlza1N0b3JhZ2UiLCJkZXN0aW5hdGlvbiIsInJlcSIsImZpbGUiLCJjYiIsImZpbGVuYW1lIiwiRGF0ZSIsIm5vdyIsInVwbG9hZCIsInBvc3QiLCJpc0F1dGgiLCJzaW5nbGUiLCJyZXMiLCJzZW5kIiwicGF0aCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOzs7O0FBRUEsTUFBTUEsWUFBWSxHQUFHQyxpQkFBUUMsTUFBUixFQUFyQjs7QUFFQSxNQUFNQyxPQUFPLEdBQUdDLGdCQUFPQyxXQUFQLENBQW1CO0FBQ2pDQyxFQUFBQSxXQUFXLENBQUNDLEdBQUQsRUFBTUMsSUFBTixFQUFZQyxFQUFaLEVBQWdCO0FBQ3pCQSxJQUFBQSxFQUFFLENBQUMsSUFBRCxFQUFPLFVBQVAsQ0FBRjtBQUNELEdBSGdDOztBQUlqQ0MsRUFBQUEsUUFBUSxDQUFDSCxHQUFELEVBQU1DLElBQU4sRUFBWUMsRUFBWixFQUFnQjtBQUN0QkEsSUFBQUEsRUFBRSxDQUFDLElBQUQsRUFBUSxHQUFFRSxJQUFJLENBQUNDLEdBQUwsRUFBVyxNQUFyQixDQUFGO0FBQ0Q7O0FBTmdDLENBQW5CLENBQWhCOztBQVNBLE1BQU1DLE1BQU0sR0FBRyxxQkFBTztBQUFFVixFQUFBQTtBQUFGLENBQVAsQ0FBZjtBQUVBSCxZQUFZLENBQUNjLElBQWIsQ0FBa0IsR0FBbEIsRUFBdUJDLFlBQXZCLEVBQStCRixNQUFNLENBQUNHLE1BQVAsQ0FBYyxPQUFkLENBQS9CLEVBQXVELENBQUNULEdBQUQsRUFBTVUsR0FBTixLQUFjO0FBQ25FQSxFQUFBQSxHQUFHLENBQUNDLElBQUosQ0FBVSxJQUFHWCxHQUFHLENBQUNDLElBQUosQ0FBU1csSUFBSyxFQUEzQjtBQUNELENBRkQ7ZUFJZW5CLFkiLCJzb3VyY2VSb290IjoiL1VzZXJzL01lL0Rlc2t0b3AvUmVhY3RQcm9qZWN0cy9lY29tbS9sdXhlc2hvcC9iYWNrZW5kL3JvdXRlcy8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbXVsdGVyIGZyb20gJ211bHRlcic7XG5pbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcbmltcG9ydCB7IGlzQXV0aCB9IGZyb20gJy4uL3V0aWwuanMnO1xuXG5jb25zdCB1cGxvYWRSb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xuXG5jb25zdCBzdG9yYWdlID0gbXVsdGVyLmRpc2tTdG9yYWdlKHtcbiAgZGVzdGluYXRpb24ocmVxLCBmaWxlLCBjYikge1xuICAgIGNiKG51bGwsICd1cGxvYWRzLycpO1xuICB9LFxuICBmaWxlbmFtZShyZXEsIGZpbGUsIGNiKSB7XG4gICAgY2IobnVsbCwgYCR7RGF0ZS5ub3coKX0uanBnYCk7XG4gIH0sXG59KTtcblxuY29uc3QgdXBsb2FkID0gbXVsdGVyKHsgc3RvcmFnZSB9KTtcblxudXBsb2FkUm91dGVyLnBvc3QoJy8nLCBpc0F1dGgsIHVwbG9hZC5zaW5nbGUoJ2ltYWdlJyksIChyZXEsIHJlcykgPT4ge1xuICByZXMuc2VuZChgLyR7cmVxLmZpbGUucGF0aH1gKTtcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCB1cGxvYWRSb3V0ZXI7XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "uploadRoute.js"
      ],
      "names": [
        "uploadRouter",
        "express",
        "Router",
        "storage",
        "multer",
        "diskStorage",
        "destination",
        "req",
        "file",
        "cb",
        "filename",
        "Date",
        "now",
        "upload",
        "post",
        "isAuth",
        "single",
        "res",
        "send",
        "path"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;;;AAEA,MAAMA,YAAY,GAAGC,iBAAQC,MAAR,EAArB;;AAEA,MAAMC,OAAO,GAAGC,gBAAOC,WAAP,CAAmB;AACjCC,EAAAA,WAAW,CAACC,GAAD,EAAMC,IAAN,EAAYC,EAAZ,EAAgB;AACzBA,IAAAA,EAAE,CAAC,IAAD,EAAO,UAAP,CAAF;AACD,GAHgC;;AAIjCC,EAAAA,QAAQ,CAACH,GAAD,EAAMC,IAAN,EAAYC,EAAZ,EAAgB;AACtBA,IAAAA,EAAE,CAAC,IAAD,EAAQ,GAAEE,IAAI,CAACC,GAAL,EAAW,MAArB,CAAF;AACD;;AANgC,CAAnB,CAAhB;;AASA,MAAMC,MAAM,GAAG,qBAAO;AAAEV,EAAAA;AAAF,CAAP,CAAf;AAEAH,YAAY,CAACc,IAAb,CAAkB,GAAlB,EAAuBC,YAAvB,EAA+BF,MAAM,CAACG,MAAP,CAAc,OAAd,CAA/B,EAAuD,CAACT,GAAD,EAAMU,GAAN,KAAc;AACnEA,EAAAA,GAAG,CAACC,IAAJ,CAAU,IAAGX,GAAG,CAACC,IAAJ,CAASW,IAAK,EAA3B;AACD,CAFD;eAIenB,Y",
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/",
      "sourcesContent": [
        "import multer from 'multer';\nimport express from 'express';\nimport { isAuth } from '../util.js';\n\nconst uploadRouter = express.Router();\n\nconst storage = multer.diskStorage({\n  destination(req, file, cb) {\n    cb(null, 'uploads/');\n  },\n  filename(req, file, cb) {\n    cb(null, `${Date.now()}.jpg`);\n  },\n});\n\nconst upload = multer({ storage });\n\nuploadRouter.post('/', isAuth, upload.single('image'), (req, res) => {\n  res.send(`/${req.file.path}`);\n});\n\nexport default uploadRouter;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1607064588852
  },
  "{\"sourceRoot\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/schemas/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop\",\"filename\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/schemas/userModel.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/schemas/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop",
      "filename": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/schemas/userModel.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/schemas/userModel.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/schemas/userModel.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/schemas/",
        "sourceFileName": "userModel.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst userSchema = new _mongoose.default.Schema({\n  name: {\n    type: String,\n    required: true\n  },\n  email: {\n    type: String,\n    required: true,\n    unique: true\n  },\n  password: {\n    type: String,\n    required: true\n  },\n  isAdmin: {\n    type: Boolean,\n    default: false,\n    required: true\n  },\n  isSeller: {\n    type: Boolean,\n    default: false,\n    required: true\n  },\n  seller: {\n    name: String,\n    logo: String,\n    description: String,\n    rating: {\n      type: Number,\n      default: 0,\n      required: true\n    },\n    numReviews: {\n      type: Number,\n      default: 0,\n      required: true\n    }\n  }\n}, {\n  timestamps: true\n});\n\nconst User = _mongoose.default.model('User', userSchema);\n\nvar _default = User;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJNb2RlbC5qcyJdLCJuYW1lcyI6WyJ1c2VyU2NoZW1hIiwibW9uZ29vc2UiLCJTY2hlbWEiLCJuYW1lIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwiZW1haWwiLCJ1bmlxdWUiLCJwYXNzd29yZCIsImlzQWRtaW4iLCJCb29sZWFuIiwiZGVmYXVsdCIsImlzU2VsbGVyIiwic2VsbGVyIiwibG9nbyIsImRlc2NyaXB0aW9uIiwicmF0aW5nIiwiTnVtYmVyIiwibnVtUmV2aWV3cyIsInRpbWVzdGFtcHMiLCJVc2VyIiwibW9kZWwiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7OztBQUVBLE1BQU1BLFVBQVUsR0FBRyxJQUFJQyxrQkFBU0MsTUFBYixDQUNqQjtBQUNFQyxFQUFBQSxJQUFJLEVBQUU7QUFBRUMsSUFBQUEsSUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxJQUFBQSxRQUFRLEVBQUU7QUFBMUIsR0FEUjtBQUVFQyxFQUFBQSxLQUFLLEVBQUU7QUFBRUgsSUFBQUEsSUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxJQUFBQSxRQUFRLEVBQUUsSUFBMUI7QUFBZ0NFLElBQUFBLE1BQU0sRUFBRTtBQUF4QyxHQUZUO0FBR0VDLEVBQUFBLFFBQVEsRUFBRTtBQUFFTCxJQUFBQSxJQUFJLEVBQUVDLE1BQVI7QUFBZ0JDLElBQUFBLFFBQVEsRUFBRTtBQUExQixHQUhaO0FBSUVJLEVBQUFBLE9BQU8sRUFBRTtBQUFFTixJQUFBQSxJQUFJLEVBQUVPLE9BQVI7QUFBaUJDLElBQUFBLE9BQU8sRUFBRSxLQUExQjtBQUFpQ04sSUFBQUEsUUFBUSxFQUFFO0FBQTNDLEdBSlg7QUFLRU8sRUFBQUEsUUFBUSxFQUFFO0FBQUVULElBQUFBLElBQUksRUFBRU8sT0FBUjtBQUFpQkMsSUFBQUEsT0FBTyxFQUFFLEtBQTFCO0FBQWlDTixJQUFBQSxRQUFRLEVBQUU7QUFBM0MsR0FMWjtBQU1FUSxFQUFBQSxNQUFNLEVBQUU7QUFDTlgsSUFBQUEsSUFBSSxFQUFFRSxNQURBO0FBRU5VLElBQUFBLElBQUksRUFBRVYsTUFGQTtBQUdOVyxJQUFBQSxXQUFXLEVBQUVYLE1BSFA7QUFJTlksSUFBQUEsTUFBTSxFQUFFO0FBQUViLE1BQUFBLElBQUksRUFBRWMsTUFBUjtBQUFnQk4sTUFBQUEsT0FBTyxFQUFFLENBQXpCO0FBQTRCTixNQUFBQSxRQUFRLEVBQUU7QUFBdEMsS0FKRjtBQUtOYSxJQUFBQSxVQUFVLEVBQUU7QUFBRWYsTUFBQUEsSUFBSSxFQUFFYyxNQUFSO0FBQWdCTixNQUFBQSxPQUFPLEVBQUUsQ0FBekI7QUFBNEJOLE1BQUFBLFFBQVEsRUFBRTtBQUF0QztBQUxOO0FBTlYsQ0FEaUIsRUFlakI7QUFDRWMsRUFBQUEsVUFBVSxFQUFFO0FBRGQsQ0FmaUIsQ0FBbkI7O0FBbUJBLE1BQU1DLElBQUksR0FBR3BCLGtCQUFTcUIsS0FBVCxDQUFlLE1BQWYsRUFBdUJ0QixVQUF2QixDQUFiOztlQUNlcUIsSSIsInNvdXJjZVJvb3QiOiIvVXNlcnMvTWUvRGVza3RvcC9SZWFjdFByb2plY3RzL2Vjb21tL2x1eGVzaG9wL2JhY2tlbmQvc2NoZW1hcy8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xuXG5jb25zdCB1c2VyU2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYShcbiAge1xuICAgIG5hbWU6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgIGVtYWlsOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUsIHVuaXF1ZTogdHJ1ZSB9LFxuICAgIHBhc3N3b3JkOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICBpc0FkbWluOiB7IHR5cGU6IEJvb2xlYW4sIGRlZmF1bHQ6IGZhbHNlLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgIGlzU2VsbGVyOiB7IHR5cGU6IEJvb2xlYW4sIGRlZmF1bHQ6IGZhbHNlLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgIHNlbGxlcjoge1xuICAgICAgbmFtZTogU3RyaW5nLFxuICAgICAgbG9nbzogU3RyaW5nLFxuICAgICAgZGVzY3JpcHRpb246IFN0cmluZyxcbiAgICAgIHJhdGluZzogeyB0eXBlOiBOdW1iZXIsIGRlZmF1bHQ6IDAsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgICBudW1SZXZpZXdzOiB7IHR5cGU6IE51bWJlciwgZGVmYXVsdDogMCwgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICB9LFxuICB9LFxuICB7XG4gICAgdGltZXN0YW1wczogdHJ1ZSxcbiAgfVxuKTtcbmNvbnN0IFVzZXIgPSBtb25nb29zZS5tb2RlbCgnVXNlcicsIHVzZXJTY2hlbWEpO1xuZXhwb3J0IGRlZmF1bHQgVXNlcjtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "userModel.js"
      ],
      "names": [
        "userSchema",
        "mongoose",
        "Schema",
        "name",
        "type",
        "String",
        "required",
        "email",
        "unique",
        "password",
        "isAdmin",
        "Boolean",
        "default",
        "isSeller",
        "seller",
        "logo",
        "description",
        "rating",
        "Number",
        "numReviews",
        "timestamps",
        "User",
        "model"
      ],
      "mappings": ";;;;;;;AAAA;;;;AAEA,MAAMA,UAAU,GAAG,IAAIC,kBAASC,MAAb,CACjB;AACEC,EAAAA,IAAI,EAAE;AAAEC,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GADR;AAEEC,EAAAA,KAAK,EAAE;AAAEH,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE,IAA1B;AAAgCE,IAAAA,MAAM,EAAE;AAAxC,GAFT;AAGEC,EAAAA,QAAQ,EAAE;AAAEL,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAHZ;AAIEI,EAAAA,OAAO,EAAE;AAAEN,IAAAA,IAAI,EAAEO,OAAR;AAAiBC,IAAAA,OAAO,EAAE,KAA1B;AAAiCN,IAAAA,QAAQ,EAAE;AAA3C,GAJX;AAKEO,EAAAA,QAAQ,EAAE;AAAET,IAAAA,IAAI,EAAEO,OAAR;AAAiBC,IAAAA,OAAO,EAAE,KAA1B;AAAiCN,IAAAA,QAAQ,EAAE;AAA3C,GALZ;AAMEQ,EAAAA,MAAM,EAAE;AACNX,IAAAA,IAAI,EAAEE,MADA;AAENU,IAAAA,IAAI,EAAEV,MAFA;AAGNW,IAAAA,WAAW,EAAEX,MAHP;AAINY,IAAAA,MAAM,EAAE;AAAEb,MAAAA,IAAI,EAAEc,MAAR;AAAgBN,MAAAA,OAAO,EAAE,CAAzB;AAA4BN,MAAAA,QAAQ,EAAE;AAAtC,KAJF;AAKNa,IAAAA,UAAU,EAAE;AAAEf,MAAAA,IAAI,EAAEc,MAAR;AAAgBN,MAAAA,OAAO,EAAE,CAAzB;AAA4BN,MAAAA,QAAQ,EAAE;AAAtC;AALN;AANV,CADiB,EAejB;AACEc,EAAAA,UAAU,EAAE;AADd,CAfiB,CAAnB;;AAmBA,MAAMC,IAAI,GAAGpB,kBAASqB,KAAT,CAAe,MAAf,EAAuBtB,UAAvB,CAAb;;eACeqB,I",
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/schemas/",
      "sourcesContent": [
        "import mongoose from 'mongoose';\n\nconst userSchema = new mongoose.Schema(\n  {\n    name: { type: String, required: true },\n    email: { type: String, required: true, unique: true },\n    password: { type: String, required: true },\n    isAdmin: { type: Boolean, default: false, required: true },\n    isSeller: { type: Boolean, default: false, required: true },\n    seller: {\n      name: String,\n      logo: String,\n      description: String,\n      rating: { type: Number, default: 0, required: true },\n      numReviews: { type: Number, default: 0, required: true },\n    },\n  },\n  {\n    timestamps: true,\n  }\n);\nconst User = mongoose.model('User', userSchema);\nexport default User;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1606412590000
  },
  "{\"sourceRoot\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/schemas/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop\",\"filename\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/schemas/productModel.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/schemas/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop",
      "filename": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/schemas/productModel.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/schemas/productModel.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/schemas/productModel.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/schemas/",
        "sourceFileName": "productModel.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst reviewSchema = new _mongoose.default.Schema({\n  name: {\n    type: String,\n    required: true\n  },\n  rating: {\n    type: Number,\n    default: 0\n  },\n  comment: {\n    type: String,\n    required: true\n  }\n}, {\n  timestamps: true\n});\nconst prodctSchema = new _mongoose.default.Schema({\n  name: {\n    type: String,\n    required: true\n  },\n  image: {\n    type: String,\n    required: true\n  },\n  brand: {\n    type: String,\n    required: true\n  },\n  price: {\n    type: Number,\n    default: 0,\n    required: true\n  },\n  category: {\n    type: String,\n    required: true\n  },\n  countInStock: {\n    type: Number,\n    default: 0,\n    required: true\n  },\n  description: {\n    type: String,\n    required: true\n  },\n  rating: {\n    type: Number,\n    default: 0,\n    required: true\n  },\n  numReviews: {\n    type: Number,\n    default: 0,\n    required: true\n  },\n  reviews: [reviewSchema]\n});\n\nconst productModel = _mongoose.default.model('Product', prodctSchema);\n\nvar _default = productModel;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2R1Y3RNb2RlbC5qcyJdLCJuYW1lcyI6WyJyZXZpZXdTY2hlbWEiLCJtb25nb29zZSIsIlNjaGVtYSIsIm5hbWUiLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJyYXRpbmciLCJOdW1iZXIiLCJkZWZhdWx0IiwiY29tbWVudCIsInRpbWVzdGFtcHMiLCJwcm9kY3RTY2hlbWEiLCJpbWFnZSIsImJyYW5kIiwicHJpY2UiLCJjYXRlZ29yeSIsImNvdW50SW5TdG9jayIsImRlc2NyaXB0aW9uIiwibnVtUmV2aWV3cyIsInJldmlld3MiLCJwcm9kdWN0TW9kZWwiLCJtb2RlbCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7O0FBRUEsTUFBTUEsWUFBWSxHQUFHLElBQUlDLGtCQUFTQyxNQUFiLENBQ25CO0FBQ0VDLEVBQUFBLElBQUksRUFBRTtBQUFFQyxJQUFBQSxJQUFJLEVBQUVDLE1BQVI7QUFBZ0JDLElBQUFBLFFBQVEsRUFBRTtBQUExQixHQURSO0FBRUVDLEVBQUFBLE1BQU0sRUFBRTtBQUFFSCxJQUFBQSxJQUFJLEVBQUVJLE1BQVI7QUFBZ0JDLElBQUFBLE9BQU8sRUFBRTtBQUF6QixHQUZWO0FBR0VDLEVBQUFBLE9BQU8sRUFBRTtBQUFFTixJQUFBQSxJQUFJLEVBQUVDLE1BQVI7QUFBZ0JDLElBQUFBLFFBQVEsRUFBRTtBQUExQjtBQUhYLENBRG1CLEVBTW5CO0FBQ0VLLEVBQUFBLFVBQVUsRUFBRTtBQURkLENBTm1CLENBQXJCO0FBVUEsTUFBTUMsWUFBWSxHQUFHLElBQUlYLGtCQUFTQyxNQUFiLENBQW9CO0FBQ3ZDQyxFQUFBQSxJQUFJLEVBQUU7QUFBRUMsSUFBQUEsSUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxJQUFBQSxRQUFRLEVBQUU7QUFBMUIsR0FEaUM7QUFFdkNPLEVBQUFBLEtBQUssRUFBRTtBQUFFVCxJQUFBQSxJQUFJLEVBQUVDLE1BQVI7QUFBZ0JDLElBQUFBLFFBQVEsRUFBRTtBQUExQixHQUZnQztBQUd2Q1EsRUFBQUEsS0FBSyxFQUFFO0FBQUVWLElBQUFBLElBQUksRUFBRUMsTUFBUjtBQUFnQkMsSUFBQUEsUUFBUSxFQUFFO0FBQTFCLEdBSGdDO0FBSXZDUyxFQUFBQSxLQUFLLEVBQUU7QUFBRVgsSUFBQUEsSUFBSSxFQUFFSSxNQUFSO0FBQWdCQyxJQUFBQSxPQUFPLEVBQUUsQ0FBekI7QUFBNEJILElBQUFBLFFBQVEsRUFBRTtBQUF0QyxHQUpnQztBQUt2Q1UsRUFBQUEsUUFBUSxFQUFFO0FBQUVaLElBQUFBLElBQUksRUFBRUMsTUFBUjtBQUFnQkMsSUFBQUEsUUFBUSxFQUFFO0FBQTFCLEdBTDZCO0FBTXZDVyxFQUFBQSxZQUFZLEVBQUU7QUFBRWIsSUFBQUEsSUFBSSxFQUFFSSxNQUFSO0FBQWdCQyxJQUFBQSxPQUFPLEVBQUUsQ0FBekI7QUFBNEJILElBQUFBLFFBQVEsRUFBRTtBQUF0QyxHQU55QjtBQU92Q1ksRUFBQUEsV0FBVyxFQUFFO0FBQUVkLElBQUFBLElBQUksRUFBRUMsTUFBUjtBQUFnQkMsSUFBQUEsUUFBUSxFQUFFO0FBQTFCLEdBUDBCO0FBUXZDQyxFQUFBQSxNQUFNLEVBQUU7QUFBRUgsSUFBQUEsSUFBSSxFQUFFSSxNQUFSO0FBQWdCQyxJQUFBQSxPQUFPLEVBQUUsQ0FBekI7QUFBNEJILElBQUFBLFFBQVEsRUFBRTtBQUF0QyxHQVIrQjtBQVN2Q2EsRUFBQUEsVUFBVSxFQUFFO0FBQUVmLElBQUFBLElBQUksRUFBRUksTUFBUjtBQUFnQkMsSUFBQUEsT0FBTyxFQUFFLENBQXpCO0FBQTRCSCxJQUFBQSxRQUFRLEVBQUU7QUFBdEMsR0FUMkI7QUFVdkNjLEVBQUFBLE9BQU8sRUFBRSxDQUFDcEIsWUFBRDtBQVY4QixDQUFwQixDQUFyQjs7QUFhQSxNQUFNcUIsWUFBWSxHQUFHcEIsa0JBQVNxQixLQUFULENBQWUsU0FBZixFQUEwQlYsWUFBMUIsQ0FBckI7O2VBRWVTLFkiLCJzb3VyY2VSb290IjoiL1VzZXJzL01lL0Rlc2t0b3AvUmVhY3RQcm9qZWN0cy9lY29tbS9sdXhlc2hvcC9iYWNrZW5kL3NjaGVtYXMvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcblxuY29uc3QgcmV2aWV3U2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYShcbiAge1xuICAgIG5hbWU6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgIHJhdGluZzogeyB0eXBlOiBOdW1iZXIsIGRlZmF1bHQ6IDAgfSxcbiAgICBjb21tZW50OiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgfSxcbiAge1xuICAgIHRpbWVzdGFtcHM6IHRydWUsXG4gIH1cbik7XG5jb25zdCBwcm9kY3RTY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKHtcbiAgbmFtZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gIGltYWdlOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgYnJhbmQ6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxuICBwcmljZTogeyB0eXBlOiBOdW1iZXIsIGRlZmF1bHQ6IDAsIHJlcXVpcmVkOiB0cnVlIH0sXG4gIGNhdGVnb3J5OiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgY291bnRJblN0b2NrOiB7IHR5cGU6IE51bWJlciwgZGVmYXVsdDogMCwgcmVxdWlyZWQ6IHRydWUgfSxcbiAgZGVzY3JpcHRpb246IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxuICByYXRpbmc6IHsgdHlwZTogTnVtYmVyLCBkZWZhdWx0OiAwLCByZXF1aXJlZDogdHJ1ZSB9LFxuICBudW1SZXZpZXdzOiB7IHR5cGU6IE51bWJlciwgZGVmYXVsdDogMCwgcmVxdWlyZWQ6IHRydWUgfSxcbiAgcmV2aWV3czogW3Jldmlld1NjaGVtYV0sXG59KTtcblxuY29uc3QgcHJvZHVjdE1vZGVsID0gbW9uZ29vc2UubW9kZWwoJ1Byb2R1Y3QnLCBwcm9kY3RTY2hlbWEpO1xuXG5leHBvcnQgZGVmYXVsdCBwcm9kdWN0TW9kZWw7XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "productModel.js"
      ],
      "names": [
        "reviewSchema",
        "mongoose",
        "Schema",
        "name",
        "type",
        "String",
        "required",
        "rating",
        "Number",
        "default",
        "comment",
        "timestamps",
        "prodctSchema",
        "image",
        "brand",
        "price",
        "category",
        "countInStock",
        "description",
        "numReviews",
        "reviews",
        "productModel",
        "model"
      ],
      "mappings": ";;;;;;;AAAA;;;;AAEA,MAAMA,YAAY,GAAG,IAAIC,kBAASC,MAAb,CACnB;AACEC,EAAAA,IAAI,EAAE;AAAEC,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GADR;AAEEC,EAAAA,MAAM,EAAE;AAAEH,IAAAA,IAAI,EAAEI,MAAR;AAAgBC,IAAAA,OAAO,EAAE;AAAzB,GAFV;AAGEC,EAAAA,OAAO,EAAE;AAAEN,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B;AAHX,CADmB,EAMnB;AACEK,EAAAA,UAAU,EAAE;AADd,CANmB,CAArB;AAUA,MAAMC,YAAY,GAAG,IAAIX,kBAASC,MAAb,CAAoB;AACvCC,EAAAA,IAAI,EAAE;AAAEC,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GADiC;AAEvCO,EAAAA,KAAK,EAAE;AAAET,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAFgC;AAGvCQ,EAAAA,KAAK,EAAE;AAAEV,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAHgC;AAIvCS,EAAAA,KAAK,EAAE;AAAEX,IAAAA,IAAI,EAAEI,MAAR;AAAgBC,IAAAA,OAAO,EAAE,CAAzB;AAA4BH,IAAAA,QAAQ,EAAE;AAAtC,GAJgC;AAKvCU,EAAAA,QAAQ,EAAE;AAAEZ,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAL6B;AAMvCW,EAAAA,YAAY,EAAE;AAAEb,IAAAA,IAAI,EAAEI,MAAR;AAAgBC,IAAAA,OAAO,EAAE,CAAzB;AAA4BH,IAAAA,QAAQ,EAAE;AAAtC,GANyB;AAOvCY,EAAAA,WAAW,EAAE;AAAEd,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAP0B;AAQvCC,EAAAA,MAAM,EAAE;AAAEH,IAAAA,IAAI,EAAEI,MAAR;AAAgBC,IAAAA,OAAO,EAAE,CAAzB;AAA4BH,IAAAA,QAAQ,EAAE;AAAtC,GAR+B;AASvCa,EAAAA,UAAU,EAAE;AAAEf,IAAAA,IAAI,EAAEI,MAAR;AAAgBC,IAAAA,OAAO,EAAE,CAAzB;AAA4BH,IAAAA,QAAQ,EAAE;AAAtC,GAT2B;AAUvCc,EAAAA,OAAO,EAAE,CAACpB,YAAD;AAV8B,CAApB,CAArB;;AAaA,MAAMqB,YAAY,GAAGpB,kBAASqB,KAAT,CAAe,SAAf,EAA0BV,YAA1B,CAArB;;eAEeS,Y",
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/schemas/",
      "sourcesContent": [
        "import mongoose from 'mongoose';\n\nconst reviewSchema = new mongoose.Schema(\n  {\n    name: { type: String, required: true },\n    rating: { type: Number, default: 0 },\n    comment: { type: String, required: true },\n  },\n  {\n    timestamps: true,\n  }\n);\nconst prodctSchema = new mongoose.Schema({\n  name: { type: String, required: true },\n  image: { type: String, required: true },\n  brand: { type: String, required: true },\n  price: { type: Number, default: 0, required: true },\n  category: { type: String, required: true },\n  countInStock: { type: Number, default: 0, required: true },\n  description: { type: String, required: true },\n  rating: { type: Number, default: 0, required: true },\n  numReviews: { type: Number, default: 0, required: true },\n  reviews: [reviewSchema],\n});\n\nconst productModel = mongoose.model('Product', prodctSchema);\n\nexport default productModel;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1595823100000
  },
  "{\"sourceRoot\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/schemas/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop\",\"filename\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/schemas/orderModel.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/schemas/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop",
      "filename": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/schemas/orderModel.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/schemas/orderModel.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/schemas/orderModel.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/schemas/",
        "sourceFileName": "orderModel.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst orderSchema = new _mongoose.default.Schema({\n  orderItems: [{\n    name: {\n      type: String,\n      required: true\n    },\n    qty: {\n      type: Number,\n      required: true\n    },\n    image: {\n      type: String,\n      required: true\n    },\n    price: {\n      type: Number,\n      required: true\n    },\n    product: {\n      type: _mongoose.default.Schema.Types.ObjectId,\n      ref: 'Product',\n      required: true\n    }\n  }],\n  shippingAddress: {\n    fullName: {\n      type: String,\n      required: true\n    },\n    address: {\n      type: String,\n      required: true\n    },\n    city: {\n      type: String,\n      required: true\n    },\n    postalCode: {\n      type: String,\n      required: true\n    },\n    country: {\n      type: String,\n      required: true\n    }\n  },\n  paymentMethod: {\n    type: String,\n    required: true\n  },\n  paymentResult: {\n    id: String,\n    status: String,\n    update_time: String,\n    email_address: String\n  },\n  itemsPrice: {\n    type: Number,\n    required: true\n  },\n  shippingPrice: {\n    type: Number,\n    required: true\n  },\n  taxPrice: {\n    type: Number,\n    required: true\n  },\n  totalPrice: {\n    type: Number,\n    required: true\n  },\n  user: {\n    type: _mongoose.default.Schema.Types.ObjectId,\n    ref: 'User',\n    required: true\n  },\n  seller: {\n    type: _mongoose.default.Schema.Types.ObjectID,\n    ref: 'User'\n  },\n  isPaid: {\n    type: Boolean,\n    default: false\n  },\n  paidAt: {\n    type: Date\n  },\n  isDelivered: {\n    type: Boolean,\n    default: false\n  },\n  deliveredAt: {\n    type: Date\n  }\n}, {\n  timestamps: true\n});\n\nconst Order = _mongoose.default.model('Order', orderSchema);\n\nvar _default = Order;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9yZGVyTW9kZWwuanMiXSwibmFtZXMiOlsib3JkZXJTY2hlbWEiLCJtb25nb29zZSIsIlNjaGVtYSIsIm9yZGVySXRlbXMiLCJuYW1lIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwicXR5IiwiTnVtYmVyIiwiaW1hZ2UiLCJwcmljZSIsInByb2R1Y3QiLCJUeXBlcyIsIk9iamVjdElkIiwicmVmIiwic2hpcHBpbmdBZGRyZXNzIiwiZnVsbE5hbWUiLCJhZGRyZXNzIiwiY2l0eSIsInBvc3RhbENvZGUiLCJjb3VudHJ5IiwicGF5bWVudE1ldGhvZCIsInBheW1lbnRSZXN1bHQiLCJpZCIsInN0YXR1cyIsInVwZGF0ZV90aW1lIiwiZW1haWxfYWRkcmVzcyIsIml0ZW1zUHJpY2UiLCJzaGlwcGluZ1ByaWNlIiwidGF4UHJpY2UiLCJ0b3RhbFByaWNlIiwidXNlciIsInNlbGxlciIsIk9iamVjdElEIiwiaXNQYWlkIiwiQm9vbGVhbiIsImRlZmF1bHQiLCJwYWlkQXQiLCJEYXRlIiwiaXNEZWxpdmVyZWQiLCJkZWxpdmVyZWRBdCIsInRpbWVzdGFtcHMiLCJPcmRlciIsIm1vZGVsIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7Ozs7QUFFQSxNQUFNQSxXQUFXLEdBQUcsSUFBSUMsa0JBQVNDLE1BQWIsQ0FDbEI7QUFDRUMsRUFBQUEsVUFBVSxFQUFFLENBQ1Y7QUFDRUMsSUFBQUEsSUFBSSxFQUFFO0FBQUVDLE1BQUFBLElBQUksRUFBRUMsTUFBUjtBQUFnQkMsTUFBQUEsUUFBUSxFQUFFO0FBQTFCLEtBRFI7QUFFRUMsSUFBQUEsR0FBRyxFQUFFO0FBQUVILE1BQUFBLElBQUksRUFBRUksTUFBUjtBQUFnQkYsTUFBQUEsUUFBUSxFQUFFO0FBQTFCLEtBRlA7QUFHRUcsSUFBQUEsS0FBSyxFQUFFO0FBQUVMLE1BQUFBLElBQUksRUFBRUMsTUFBUjtBQUFnQkMsTUFBQUEsUUFBUSxFQUFFO0FBQTFCLEtBSFQ7QUFJRUksSUFBQUEsS0FBSyxFQUFFO0FB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SSxFQUFFa0M7QUFBUjtBQXJDZixDQURrQixFQXdDbEI7QUFDRUcsRUFBQUEsVUFBVSxFQUFFO0FBRGQsQ0F4Q2tCLENBQXBCOztBQTRDQSxNQUFNQyxLQUFLLEdBQUcxQyxrQkFBUzJDLEtBQVQsQ0FBZSxPQUFmLEVBQXdCNUMsV0FBeEIsQ0FBZDs7ZUFDZTJDLEsiLCJzb3VyY2VSb290IjoiL1VzZXJzL01lL0Rlc2t0b3AvUmVhY3RQcm9qZWN0cy9lY29tbS9sdXhlc2hvcC9iYWNrZW5kL3NjaGVtYXMvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcblxuY29uc3Qgb3JkZXJTY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKFxuICB7XG4gICAgb3JkZXJJdGVtczogW1xuICAgICAge1xuICAgICAgICBuYW1lOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICAgICAgcXR5OiB7IHR5cGU6IE51bWJlciwgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICAgICAgaW1hZ2U6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgICAgICBwcmljZTogeyB0eXBlOiBOdW1iZXIsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgICAgIHByb2R1Y3Q6IHtcbiAgICAgICAgICB0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsXG4gICAgICAgICAgcmVmOiAnUHJvZHVjdCcsXG4gICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIF0sXG4gICAgc2hpcHBpbmdBZGRyZXNzOiB7XG4gICAgICBmdWxsTmFtZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgICBhZGRyZXNzOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICAgIGNpdHk6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgICAgcG9zdGFsQ29kZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgICBjb3VudHJ5OiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICB9LFxuICAgIHBheW1lbnRNZXRob2Q6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgIHBheW1lbnRSZXN1bHQ6IHtcbiAgICAgIGlkOiBTdHJpbmcsXG4gICAgICBzdGF0dXM6IFN0cmluZyxcbiAgICAgIHVwZGF0ZV90aW1lOiBTdHJpbmcsXG4gICAgICBlbWFpbF9hZGRyZXNzOiBTdHJpbmcsXG4gICAgfSxcbiAgICBpdGVtc1ByaWNlOiB7IHR5cGU6IE51bWJlciwgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICBzaGlwcGluZ1ByaWNlOiB7IHR5cGU6IE51bWJlciwgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICB0YXhQcmljZTogeyB0eXBlOiBOdW1iZXIsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgdG90YWxQcmljZTogeyB0eXBlOiBOdW1iZXIsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgdXNlcjogeyB0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsIHJlZjogJ1VzZXInLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgIHNlbGxlcjogeyB0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SUQsIHJlZjogJ1VzZXInIH0sXG4gICAgaXNQYWlkOiB7IHR5cGU6IEJvb2xlYW4sIGRlZmF1bHQ6IGZhbHNlIH0sXG4gICAgcGFpZEF0OiB7IHR5cGU6IERhdGUgfSxcbiAgICBpc0RlbGl2ZXJlZDogeyB0eXBlOiBCb29sZWFuLCBkZWZhdWx0OiBmYWxzZSB9LFxuICAgIGRlbGl2ZXJlZEF0OiB7IHR5cGU6IERhdGUgfSxcbiAgfSxcbiAge1xuICAgIHRpbWVzdGFtcHM6IHRydWUsXG4gIH1cbik7XG5jb25zdCBPcmRlciA9IG1vbmdvb3NlLm1vZGVsKCdPcmRlcicsIG9yZGVyU2NoZW1hKTtcbmV4cG9ydCBkZWZhdWx0IE9yZGVyO1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "orderModel.js"
      ],
      "names": [
        "orderSchema",
        "mongoose",
        "Schema",
        "orderItems",
        "name",
        "type",
        "String",
        "required",
        "qty",
        "Number",
        "image",
        "price",
        "product",
        "Types",
        "ObjectId",
        "ref",
        "shippingAddress",
        "fullName",
        "address",
        "city",
        "postalCode",
        "country",
        "paymentMethod",
        "paymentResult",
        "id",
        "status",
        "update_time",
        "email_address",
        "itemsPrice",
        "shippingPrice",
        "taxPrice",
        "totalPrice",
        "user",
        "seller",
        "ObjectID",
        "isPaid",
        "Boolean",
        "default",
        "paidAt",
        "Date",
        "isDelivered",
        "deliveredAt",
        "timestamps",
        "Order",
        "model"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/schemas/",
      "sourcesContent": [
        "import mongoose from 'mongoose';\n\nconst orderSchema = new mongoose.Schema(\n  {\n    orderItems: [\n      {\n        name: { type: String, required: true },\n        qty: { type: Number, required: true },\n        image: { type: String, required: true },\n        price: { type: Number, required: true },\n        product: {\n          type: mongoose.Schema.Types.ObjectId,\n          ref: 'Product',\n          required: true,\n        },\n      },\n    ],\n    shippingAddress: {\n      fullName: { type: String, required: true },\n      address: { type: String, required: true },\n      city: { type: String, required: true },\n      postalCode: { type: String, required: true },\n      country: { type: String, required: true },\n    },\n    paymentMethod: { type: String, required: true },\n    paymentResult: {\n      id: String,\n      status: String,\n      update_time: String,\n      email_address: String,\n    },\n    itemsPrice: { type: Number, required: true },\n    shippingPrice: { type: Number, required: true },\n    taxPrice: { type: Number, required: true },\n    totalPrice: { type: Number, required: true },\n    user: { type: mongoose.Schema.Types.ObjectId, ref: 'User', required: true },\n    seller: { type: mongoose.Schema.Types.ObjectID, ref: 'User' },\n    isPaid: { type: Boolean, default: false },\n    paidAt: { type: Date },\n    isDelivered: { type: Boolean, default: false },\n    deliveredAt: { type: Date },\n  },\n  {\n    timestamps: true,\n  }\n);\nconst Order = mongoose.model('Order', orderSchema);\nexport default Order;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1606412590000
  },
  "{\"sourceRoot\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/schemas/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop\",\"filename\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/schemas/userModel.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/schemas/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop",
      "filename": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/schemas/userModel.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/schemas/userModel.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/schemas/userModel.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/schemas/",
        "sourceFileName": "userModel.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst userSchema = new _mongoose.default.Schema({\n  name: {\n    type: String,\n    required: true\n  },\n  email: {\n    type: String,\n    required: true,\n    unique: true\n  },\n  password: {\n    type: String,\n    required: true\n  },\n  isAdmin: {\n    type: Boolean,\n    default: false,\n    required: true\n  },\n  isSeller: {\n    type: Boolean,\n    default: false,\n    required: true\n  },\n  seller: {\n    name: String,\n    logo: String,\n    description: String,\n    rating: {\n      type: Number,\n      default: 0,\n      required: true\n    },\n    numReviews: {\n      type: Number,\n      default: 0,\n      required: true\n    }\n  }\n}, {\n  timestamps: true\n});\n\nconst User = _mongoose.default.model('User', userSchema);\n\nvar _default = User;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJNb2RlbC5qcyJdLCJuYW1lcyI6WyJ1c2VyU2NoZW1hIiwibW9uZ29vc2UiLCJTY2hlbWEiLCJuYW1lIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwiZW1haWwiLCJ1bmlxdWUiLCJwYXNzd29yZCIsImlzQWRtaW4iLCJCb29sZWFuIiwiZGVmYXVsdCIsImlzU2VsbGVyIiwic2VsbGVyIiwibG9nbyIsImRlc2NyaXB0aW9uIiwicmF0aW5nIiwiTnVtYmVyIiwibnVtUmV2aWV3cyIsInRpbWVzdGFtcHMiLCJVc2VyIiwibW9kZWwiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7OztBQUVBLE1BQU1BLFVBQVUsR0FBRyxJQUFJQyxrQkFBU0MsTUFBYixDQUNqQjtBQUNFQyxFQUFBQSxJQUFJLEVBQUU7QUFBRUMsSUFBQUEsSUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxJQUFBQSxRQUFRLEVBQUU7QUFBMUIsR0FEUjtBQUVFQyxFQUFBQSxLQUFLLEVBQUU7QUFBRUgsSUFBQUEsSUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxJQUFBQSxRQUFRLEVBQUUsSUFBMUI7QUFBZ0NFLElBQUFBLE1BQU0sRUFBRTtBQUF4QyxHQUZUO0FBR0VDLEVBQUFBLFFBQVEsRUFBRTtBQUFFTCxJQUFBQSxJQUFJLEVBQUVDLE1BQVI7QUFBZ0JDLElBQUFBLFFBQVEsRUFBRTtBQUExQixHQUhaO0FBSUVJLEVBQUFBLE9BQU8sRUFBRTtBQUFFTixJQUFBQSxJQUFJLEVBQUVPLE9BQVI7QUFBaUJDLElBQUFBLE9BQU8sRUFBRSxLQUExQjtBQUFpQ04sSUFBQUEsUUFBUSxFQUFFO0FBQTNDLEdBSlg7QUFLRU8sRUFBQUEsUUFBUSxFQUFFO0FBQUVULElBQUFBLElBQUksRUFBRU8sT0FBUjtBQUFpQkMsSUFBQUEsT0FBTyxFQUFFLEtBQTFCO0FBQWlDTixJQUFBQSxRQUFRLEVBQUU7QUFBM0MsR0FMWjtBQU1FUSxFQUFBQSxNQUFNLEVBQUU7QUFDTlgsSUFBQUEsSUFBSSxFQUFFRSxNQURBO0FBRU5VLElBQUFBLElBQUksRUFBRVYsTUFGQTtBQUdOVyxJQUFBQSxXQUFXLEVBQUVYLE1BSFA7QUFJTlksSUFBQUEsTUFBTSxFQUFFO0FBQUViLE1BQUFBLElBQUksRUFBRWMsTUFBUjtBQUFnQk4sTUFBQUEsT0FBTyxFQUFFLENBQXpCO0FBQTRCTixNQUFBQSxRQUFRLEVBQUU7QUFBdEMsS0FKRjtBQUtOYSxJQUFBQSxVQUFVLEVBQUU7QUFBRWYsTUFBQUEsSUFBSSxFQUFFYyxNQUFSO0FBQWdCTixNQUFBQSxPQUFPLEVBQUUsQ0FBekI7QUFBNEJOLE1BQUFBLFFBQVEsRUFBRTtBQUF0QztBQUxOO0FBTlYsQ0FEaUIsRUFlakI7QUFDRWMsRUFBQUEsVUFBVSxFQUFFO0FBRGQsQ0FmaUIsQ0FBbkI7O0FBbUJBLE1BQU1DLElBQUksR0FBR3BCLGtCQUFTcUIsS0FBVCxDQUFlLE1BQWYsRUFBdUJ0QixVQUF2QixDQUFiOztlQUNlcUIsSSIsInNvdXJjZVJvb3QiOiIvVXNlcnMvTWUvRGVza3RvcC9SZWFjdFByb2plY3RzL2Vjb21tL2x1eGVzaG9wL2JhY2tlbmQvc2NoZW1hcy8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xuXG5jb25zdCB1c2VyU2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYShcbiAge1xuICAgIG5hbWU6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgIGVtYWlsOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUsIHVuaXF1ZTogdHJ1ZSB9LFxuICAgIHBhc3N3b3JkOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICBpc0FkbWluOiB7IHR5cGU6IEJvb2xlYW4sIGRlZmF1bHQ6IGZhbHNlLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgIGlzU2VsbGVyOiB7IHR5cGU6IEJvb2xlYW4sIGRlZmF1bHQ6IGZhbHNlLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgIHNlbGxlcjoge1xuICAgICAgbmFtZTogU3RyaW5nLFxuICAgICAgbG9nbzogU3RyaW5nLFxuICAgICAgZGVzY3JpcHRpb246IFN0cmluZyxcbiAgICAgIHJhdGluZzogeyB0eXBlOiBOdW1iZXIsIGRlZmF1bHQ6IDAsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgICBudW1SZXZpZXdzOiB7IHR5cGU6IE51bWJlciwgZGVmYXVsdDogMCwgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICB9LFxuICB9LFxuICB7XG4gICAgdGltZXN0YW1wczogdHJ1ZSxcbiAgfVxuKTtcbmNvbnN0IFVzZXIgPSBtb25nb29zZS5tb2RlbCgnVXNlcicsIHVzZXJTY2hlbWEpO1xuZXhwb3J0IGRlZmF1bHQgVXNlcjtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "userModel.js"
      ],
      "names": [
        "userSchema",
        "mongoose",
        "Schema",
        "name",
        "type",
        "String",
        "required",
        "email",
        "unique",
        "password",
        "isAdmin",
        "Boolean",
        "default",
        "isSeller",
        "seller",
        "logo",
        "description",
        "rating",
        "Number",
        "numReviews",
        "timestamps",
        "User",
        "model"
      ],
      "mappings": ";;;;;;;AAAA;;;;AAEA,MAAMA,UAAU,GAAG,IAAIC,kBAASC,MAAb,CACjB;AACEC,EAAAA,IAAI,EAAE;AAAEC,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GADR;AAEEC,EAAAA,KAAK,EAAE;AAAEH,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE,IAA1B;AAAgCE,IAAAA,MAAM,EAAE;AAAxC,GAFT;AAGEC,EAAAA,QAAQ,EAAE;AAAEL,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAHZ;AAIEI,EAAAA,OAAO,EAAE;AAAEN,IAAAA,IAAI,EAAEO,OAAR;AAAiBC,IAAAA,OAAO,EAAE,KAA1B;AAAiCN,IAAAA,QAAQ,EAAE;AAA3C,GAJX;AAKEO,EAAAA,QAAQ,EAAE;AAAET,IAAAA,IAAI,EAAEO,OAAR;AAAiBC,IAAAA,OAAO,EAAE,KAA1B;AAAiCN,IAAAA,QAAQ,EAAE;AAA3C,GALZ;AAMEQ,EAAAA,MAAM,EAAE;AACNX,IAAAA,IAAI,EAAEE,MADA;AAENU,IAAAA,IAAI,EAAEV,MAFA;AAGNW,IAAAA,WAAW,EAAEX,MAHP;AAINY,IAAAA,MAAM,EAAE;AAAEb,MAAAA,IAAI,EAAEc,MAAR;AAAgBN,MAAAA,OAAO,EAAE,CAAzB;AAA4BN,MAAAA,QAAQ,EAAE;AAAtC,KAJF;AAKNa,IAAAA,UAAU,EAAE;AAAEf,MAAAA,IAAI,EAAEc,MAAR;AAAgBN,MAAAA,OAAO,EAAE,CAAzB;AAA4BN,MAAAA,QAAQ,EAAE;AAAtC;AALN;AANV,CADiB,EAejB;AACEc,EAAAA,UAAU,EAAE;AADd,CAfiB,CAAnB;;AAmBA,MAAMC,IAAI,GAAGpB,kBAASqB,KAAT,CAAe,MAAf,EAAuBtB,UAAvB,CAAb;;eACeqB,I",
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/schemas/",
      "sourcesContent": [
        "import mongoose from 'mongoose';\n\nconst userSchema = new mongoose.Schema(\n  {\n    name: { type: String, required: true },\n    email: { type: String, required: true, unique: true },\n    password: { type: String, required: true },\n    isAdmin: { type: Boolean, default: false, required: true },\n    isSeller: { type: Boolean, default: false, required: true },\n    seller: {\n      name: String,\n      logo: String,\n      description: String,\n      rating: { type: Number, default: 0, required: true },\n      numReviews: { type: Number, default: 0, required: true },\n    },\n  },\n  {\n    timestamps: true,\n  }\n);\nconst User = mongoose.model('User', userSchema);\nexport default User;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1606412590000
  },
  "{\"sourceRoot\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/schemas/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop\",\"filename\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/schemas/productModel.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/schemas/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop",
      "filename": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/schemas/productModel.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/schemas/productModel.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/schemas/productModel.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/schemas/",
        "sourceFileName": "productModel.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst productSchema = new _mongoose.default.Schema({\n  name: {\n    type: String,\n    required: true,\n    unique: true\n  },\n  seller: {\n    type: _mongoose.default.Schema.Types.ObjectID,\n    ref: 'User'\n  },\n  image: {\n    type: String,\n    required: true\n  },\n  brand: {\n    type: String,\n    required: true\n  },\n  category: {\n    type: String,\n    required: true\n  },\n  description: {\n    type: String,\n    required: true\n  },\n  price: {\n    type: Number,\n    required: true\n  },\n  countInStock: {\n    type: Number,\n    required: true\n  },\n  rating: {\n    type: Number,\n    required: true\n  },\n  numReviews: {\n    type: Number,\n    required: true\n  }\n}, {\n  timestamps: true\n});\n\nconst Product = _mongoose.default.model('Product', productSchema);\n\nvar _default = Product;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2R1Y3RNb2RlbC5qcyJdLCJuYW1lcyI6WyJwcm9kdWN0U2NoZW1hIiwibW9uZ29vc2UiLCJTY2hlbWEiLCJuYW1lIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwidW5pcXVlIiwic2VsbGVyIiwiVHlwZXMiLCJPYmplY3RJRCIsInJlZiIsImltYWdlIiwiYnJhbmQiLCJjYXRlZ29yeSIsImRlc2NyaXB0aW9uIiwicHJpY2UiLCJOdW1iZXIiLCJjb3VudEluU3RvY2siLCJyYXRpbmciLCJudW1SZXZpZXdzIiwidGltZXN0YW1wcyIsIlByb2R1Y3QiLCJtb2RlbCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7O0FBRUEsTUFBTUEsYUFBYSxHQUFHLElBQUlDLGtCQUFTQyxNQUFiLENBQ3BCO0FBQ0VDLEVBQUFBLElBQUksRUFBRTtBQUFFQyxJQUFBQSxJQUFJLEVBQUVDLE1BQVI7QUFBZ0JDLElBQUFBLFFBQVEsRUFBRSxJQUExQjtBQUFnQ0MsSUFBQUEsTUFBTSxFQUFFO0FBQXhDLEdBRFI7QUFFRUMsRUFBQUEsTUFBTSxFQUFFO0FBQUVKLElBQUFBLElBQUksRUFBRUgsa0JBQVNDLE1BQVQsQ0FBZ0JPLEtBQWhCLENBQXNCQyxRQUE5QjtBQUF3Q0MsSUFBQUEsR0FBRyxFQUFFO0FBQTdDLEdBRlY7QUFHRUMsRUFBQUEsS0FBSyxFQUFFO0FBQUVSLElBQUFBLElBQUksRUFBRUMsTUFBUjtBQUFnQkMsSUFBQUEsUUFBUSxFQUFFO0FBQTFCLEdBSFQ7QUFJRU8sRUFBQUEsS0FBSyxFQUFFO0FBQUVULElBQUFBLElBQUksRUFBRUMsTUFBUjtBQUFnQkMsSUFBQUEsUUFBUSxFQUFFO0FBQTFCLEdBSlQ7QUFLRVEsRUFBQUEsUUFBUSxFQUFFO0FBQUVWLElBQUFBLElBQUksRUFBRUMsTUFBUjtBQUFnQkMsSUFBQUEsUUFBUSxFQUFFO0FBQTFCLEdBTFo7QUFNRVMsRUFBQUEsV0FBVyxFQUFFO0FBQUVYLElBQUFBLElBQUksRUFBRUMsTUFBUjtBQUFnQkMsSUFBQUEsUUFBUSxFQUFFO0FBQTFCLEdBTmY7QUFPRVUsRUFBQUEsS0FBSyxFQUFFO0FBQUVaLElBQUFBLElBQUksRUFBRWEsTUFBUjtBQUFnQlgsSUFBQUEsUUFBUSxFQUFFO0FBQTFCLEdBUFQ7QUFRRVksRUFBQUEsWUFBWSxFQUFFO0FBQUVkLElBQUFBLElBQUksRUFBRWEsTUFBUjtBQUFnQlgsSUFBQUEsUUFBUSxFQUFFO0FBQTFCLEdBUmhCO0FBU0VhLEVBQUFBLE1BQU0sRUFBRTtBQUFFZixJQUFBQSxJQUFJLEVBQUVhLE1BQVI7QUFBZ0JYLElBQUFBLFFBQVEsRUFBRTtBQUExQixHQVRWO0FBVUVjLEVBQUFBLFVBQVUsRUFBRTtBQUFFaEIsSUFBQUEsSUFBSSxFQUFFYSxNQUFSO0FBQWdCWCxJQUFBQSxRQUFRLEVBQUU7QUFBMUI7QUFWZCxDQURvQixFQWFwQjtBQUNFZSxFQUFBQSxVQUFVLEVBQUU7QUFEZCxDQWJvQixDQUF0Qjs7QUFpQkEsTUFBTUMsT0FBTyxHQUFHckIsa0JBQVNzQixLQUFULENBQWUsU0FBZixFQUEwQnZCLGFBQTFCLENBQWhCOztlQUVlc0IsTyIsInNvdXJjZVJvb3QiOiIvVXNlcnMvTWUvRGVza3RvcC9SZWFjdFByb2plY3RzL2Vjb21tL2x1eGVzaG9wL2JhY2tlbmQvc2NoZW1hcy8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xuXG5jb25zdCBwcm9kdWN0U2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYShcbiAge1xuICAgIG5hbWU6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSwgdW5pcXVlOiB0cnVlIH0sXG4gICAgc2VsbGVyOiB7IHR5cGU6IG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5PYmplY3RJRCwgcmVmOiAnVXNlcicgfSxcbiAgICBpbWFnZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgYnJhbmQ6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgIGNhdGVnb3J5OiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICBkZXNjcmlwdGlvbjogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgcHJpY2U6IHsgdHlwZTogTnVtYmVyLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgIGNvdW50SW5TdG9jazogeyB0eXBlOiBOdW1iZXIsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgcmF0aW5nOiB7IHR5cGU6IE51bWJlciwgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICBudW1SZXZpZXdzOiB7IHR5cGU6IE51bWJlciwgcmVxdWlyZWQ6IHRydWUgfSxcbiAgfSxcbiAge1xuICAgIHRpbWVzdGFtcHM6IHRydWUsXG4gIH1cbik7XG5jb25zdCBQcm9kdWN0ID0gbW9uZ29vc2UubW9kZWwoJ1Byb2R1Y3QnLCBwcm9kdWN0U2NoZW1hKTtcblxuZXhwb3J0IGRlZmF1bHQgUHJvZHVjdDtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "productModel.js"
      ],
      "names": [
        "productSchema",
        "mongoose",
        "Schema",
        "name",
        "type",
        "String",
        "required",
        "unique",
        "seller",
        "Types",
        "ObjectID",
        "ref",
        "image",
        "brand",
        "category",
        "description",
        "price",
        "Number",
        "countInStock",
        "rating",
        "numReviews",
        "timestamps",
        "Product",
        "model"
      ],
      "mappings": ";;;;;;;AAAA;;;;AAEA,MAAMA,aAAa,GAAG,IAAIC,kBAASC,MAAb,CACpB;AACEC,EAAAA,IAAI,EAAE;AAAEC,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE,IAA1B;AAAgCC,IAAAA,MAAM,EAAE;AAAxC,GADR;AAEEC,EAAAA,MAAM,EAAE;AAAEJ,IAAAA,IAAI,EAAEH,kBAASC,MAAT,CAAgBO,KAAhB,CAAsBC,QAA9B;AAAwCC,IAAAA,GAAG,EAAE;AAA7C,GAFV;AAGEC,EAAAA,KAAK,EAAE;AAAER,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAHT;AAIEO,EAAAA,KAAK,EAAE;AAAET,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAJT;AAKEQ,EAAAA,QAAQ,EAAE;AAAEV,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GALZ;AAMES,EAAAA,WAAW,EAAE;AAAEX,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GANf;AAOEU,EAAAA,KAAK,EAAE;AAAEZ,IAAAA,IAAI,EAAEa,MAAR;AAAgBX,IAAAA,QAAQ,EAAE;AAA1B,GAPT;AAQEY,EAAAA,YAAY,EAAE;AAAEd,IAAAA,IAAI,EAAEa,MAAR;AAAgBX,IAAAA,QAAQ,EAAE;AAA1B,GARhB;AASEa,EAAAA,MAAM,EAAE;AAAEf,IAAAA,IAAI,EAAEa,MAAR;AAAgBX,IAAAA,QAAQ,EAAE;AAA1B,GATV;AAUEc,EAAAA,UAAU,EAAE;AAAEhB,IAAAA,IAAI,EAAEa,MAAR;AAAgBX,IAAAA,QAAQ,EAAE;AAA1B;AAVd,CADoB,EAapB;AACEe,EAAAA,UAAU,EAAE;AADd,CAboB,CAAtB;;AAiBA,MAAMC,OAAO,GAAGrB,kBAASsB,KAAT,CAAe,SAAf,EAA0BvB,aAA1B,CAAhB;;eAEesB,O",
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/schemas/",
      "sourcesContent": [
        "import mongoose from 'mongoose';\n\nconst productSchema = new mongoose.Schema(\n  {\n    name: { type: String, required: true, unique: true },\n    seller: { type: mongoose.Schema.Types.ObjectID, ref: 'User' },\n    image: { type: String, required: true },\n    brand: { type: String, required: true },\n    category: { type: String, required: true },\n    description: { type: String, required: true },\n    price: { type: Number, required: true },\n    countInStock: { type: Number, required: true },\n    rating: { type: Number, required: true },\n    numReviews: { type: Number, required: true },\n  },\n  {\n    timestamps: true,\n  }\n);\nconst Product = mongoose.model('Product', productSchema);\n\nexport default Product;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1606412590000
  },
  "{\"sourceRoot\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/schemas/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop\",\"filename\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/schemas/orderModel.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/schemas/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop",
      "filename": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/schemas/orderModel.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/schemas/orderModel.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/schemas/orderModel.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/schemas/",
        "sourceFileName": "orderModel.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst shippingSchema = {\n  address: {\n    type: String,\n    required: true\n  },\n  city: {\n    type: String,\n    required: true\n  },\n  postalCode: {\n    type: String,\n    required: true\n  },\n  country: {\n    type: String,\n    required: true\n  }\n};\nconst paymentSchema = {\n  paymentMethod: {\n    type: String,\n    required: true\n  }\n};\nconst orderItemSchema = new _mongoose.default.Schema({\n  name: {\n    type: String,\n    required: true\n  },\n  qty: {\n    type: Number,\n    required: true\n  },\n  image: {\n    type: String,\n    required: true\n  },\n  price: {\n    type: String,\n    required: true\n  },\n  product: {\n    type: _mongoose.default.Schema.Types.ObjectId,\n    ref: 'Product',\n    required: true\n  }\n});\nconst orderSchema = new _mongoose.default.Schema({\n  user: {\n    type: _mongoose.default.Schema.Types.ObjectId,\n    ref: 'User',\n    required: true\n  },\n  orderItems: [orderItemSchema],\n  shipping: shippingSchema,\n  payment: paymentSchema,\n  itemsPrice: {\n    type: Number\n  },\n  taxPrice: {\n    type: Number\n  },\n  shippingPrice: {\n    type: Number\n  },\n  totalPrice: {\n    type: Number\n  },\n  isPaid: {\n    type: Boolean,\n    default: false\n  },\n  paidAt: {\n    type: Date\n  },\n  isDelivered: {\n    type: Boolean,\n    default: false\n  },\n  deliveredAt: {\n    type: Date\n  }\n}, {\n  timestamps: true\n});\n\nconst orderModel = _mongoose.default.model(\"Order\", orderSchema);\n\nvar _default = orderModel;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9yZGVyTW9kZWwuanMiXSwibmFtZXMiOlsic2hpcHBpbmdTY2hlbWEiLCJhZGRyZXNzIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwiY2l0eSIsInBvc3RhbENvZGUiLCJjb3VudHJ5IiwicGF5bWVudFNjaGVtYSIsInBheW1lbnRNZXRob2QiLCJvcmRlckl0ZW1TY2hlbWEiLCJtb25nb29zZSIsIlNjaGVtYSIsIm5hbWUiLCJxdHkiLCJOdW1iZXIiLCJpbWFnZSIsInByaWNlIiwicHJvZHVjdCIsIlR5cGVzIiwiT2JqZWN0SWQiLCJyZWYiLCJvcmRlclNjaGVtYSIsInVzZXIiLCJvcmRlckl0ZW1zIiwic2hpcHBpbmciLCJwYXltZW50IiwiaXRlbXNQcmljZSIsInRheFByaWNlIiwic2hpcHBpbmdQcmljZSIsInRvdGFsUHJpY2UiLCJpc1BhaWQiLCJCb29sZWFuIiwiZGVmYXVsdCIsInBhaWRBdCIsIkRhdGUiLCJpc0RlbGl2ZXJlZCIsImRlbGl2ZXJlZEF0IiwidGltZXN0YW1wcyIsIm9yZGVyTW9kZWwiLCJtb2RlbCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7O0FBQ0EsTUFBTUEsY0FBYyxHQUFHO0FBQ3JCQyxFQUFBQSxPQUFPLEVBQUU7QUFBRUMsSUFBQUEsSUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxJQUFBQSxRQUFRLEVBQUU7QUFBMUIsR0FEWTtBQUVyQkMsRUFBQUEsSUFBSSxFQUFFO0FBQUVILElBQUFBLElBQUksRUFBRUMsTUFBUjtBQUFnQkMsSUFBQUEsUUFBUSxFQUFFO0FBQTFCLEdBRmU7QUFHckJFLEVBQUFBLFVBQVUsRUFBRTtBQUFFSixJQUFBQSxJQUFJLEVBQUVDLE1BQVI7QUFBZ0JDLElBQUFBLFFBQVEsRUFBRTtBQUExQixHQUhTO0FBSXJCRyxFQUFBQSxPQUFPLEVBQUU7QUFBRUwsSUFBQUEsSUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxJQUFBQSxRQUFRLEVBQUU7QUFBMUI7QUFKWSxDQUF2QjtBQU9BLE1BQU1JLGFBQWEsR0FBRztBQUNwQkMsRUFBQUEsYUFBYSxFQUFFO0FBQUVQLElBQUFBLElBQUksRUFBRUMsTUFBUjtBQUFnQkMsSUFBQUEsUUFBUSxFQUFFO0FBQTFCO0FBREssQ0FBdEI7QUFJQSxNQUFNTSxlQUFlLEdBQUcsSUFBSUMsa0JBQVNDLE1BQWIsQ0FBb0I7QUFDMUNDLEVBQUFBLElBQUksRUFBRTtBQUFFWCxJQUFBQSxJQUFJLEVBQUVDLE1BQVI7QUFBZ0JDLElBQUFBLFFBQVEsRUFBRTtBQUExQixHQURvQztBQUUxQ1UsRUFBQUEsR0FBRyxFQUFFO0FBQUVaLElBQUFBLElBQUksRUFBRWEsTUFBUjtBQUFnQlgsSUFBQUEsUUFBUSxFQUFFO0FBQTFCLEdBRnFDO0FBRzFDWSxFQUFBQSxLQUFLLEVBQUU7QUFBRWQsSUFBQUEsSUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxJQUFBQSxRQUFRLEVBQUU7QUFBMUIsR0FIbUM7QUFJMUNhLEVBQUFBLEtBQUssRUFBRTtBQUFFZixJQUFBQSxJQUFJLEVBQUVDLE1BQVI7QUFBZ0JDLElBQUFBLFFBQVEsRUFBRTtBQUExQixHQUptQztBQUsxQ2MsRUFBQUEsT0FBTyxFQUFFO0FBQ1BoQixJQUFBQSxJQUFJLEVBQUVTLGtCQUFTQyxNQUFULENBQWdCTyxLQUFoQixDQUFzQkMsUUFEckI7QUFFUEMsSUFBQUEsR0FBRyxFQUFFLFNBRkU7QUFHUGpCLElBQUFBLFFBQVEsRUFBRTtBQUhIO0FBTGlDLENBQXBCLENBQXhCO0FBWUEsTUFBTWtCLFdBQVcsR0FBRyxJQUFJWCxrQkFBU0MsTUFBYixDQUFvQjtBQUN0Q1csRUFBQUEsSUFBSSxFQUFFO0FBQUVyQixJQUFBQSxJQUFJLEVBQUVTLGtCQUFTQyxNQUFULENBQWdCTyxLQUFoQixDQUFzQkMsUUFBOUI7QUFBd0NDLElBQUFBLEdBQUcsRUFBRSxNQUE3QztBQUFxRGpCLElBQUFBLFFBQVEsRUFBRTtBQUEvRCxHQURnQztBQUV0Q29CLEVBQUFBLFVBQVUsRUFBRSxDQUFDZCxlQUFELENBRjBCO0FBR3RDZSxFQUFBQSxRQUFRLEVBQUV6QixjQUg0QjtBQUl0QzBCLEVBQUFBLE9BQU8sRUFBRWxCLGFBSjZCO0FBS3RDbUIsRUFBQUEsVUFBVSxFQUFFO0FBQUV6QixJQUFBQSxJQUFJLEVBQUVhO0FBQVIsR0FMMEI7QUFNdENhLEVBQUFBLFFBQVEsRUFBRTtBQUFFMUIsSUFBQUEsSUFBSSxFQUFFYTtBQUFSLEdBTjRCO0FBT3RDYyxFQUFBQSxhQUFhLEVBQUU7QUFBRTNCLElBQUFBLElBQUksRUFBRWE7QUFBUixHQVB1QjtBQVF0Q2UsRUFBQUEsVUFBVSxFQUFFO0FBQUU1QixJQUFBQSxJQUFJLEVBQUVhO0FBQVIsR0FSMEI7QUFTdENnQixFQUFBQSxNQUFNLEVBQUU7QUFBRTdCLElBQUFBLElBQUksRUFBRThCLE9BQVI7QUFBaUJDLElBQUFBLE9BQU8sRUFBRTtBQUExQixHQVQ4QjtBQVV0Q0MsRUFBQUEsTUFBTSxFQUFFO0FBQUVoQyxJQUFBQSxJQUFJLEVBQUVpQztBQUFSLEdBVjhCO0FBV3RDQyxFQUFBQSxXQUFXLEVBQUU7QUFBRWxDLElBQUFBLElBQUksRUFBRThCLE9BQVI7QUFBaUJDLElBQUFBLE9BQU8sRUFBRTtBQUExQixHQVh5QjtBQVl0Q0ksRUFBQUEsV0FBVyxFQUFFO0FBQUVuQyxJQUFBQSxJQUFJLEVBQUVpQztBQUFSO0FBWnlCLENBQXBCLEVBYWpCO0FBQ0RHLEVBQUFBLFVBQVUsRUFBRTtBQURYLENBYmlCLENBQXBCOztBQWlCQSxNQUFNQyxVQUFVLEdBQUc1QixrQkFBUzZCLEtBQVQsQ0FBZSxPQUFmLEVBQXdCbEIsV0FBeEIsQ0FBbkI7O2VBQ2VpQixVIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9NZS9EZXNrdG9wL1JlYWN0UHJvamVjdHMvZWNvbW0vbHV4ZXNob3AvYmFja2VuZC9zY2hlbWFzLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSc7XG5jb25zdCBzaGlwcGluZ1NjaGVtYSA9IHtcbiAgYWRkcmVzczogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gIGNpdHk6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxuICBwb3N0YWxDb2RlOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgY291bnRyeTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG59O1xuXG5jb25zdCBwYXltZW50U2NoZW1hID0ge1xuICBwYXltZW50TWV0aG9kOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfVxufTtcblxuY29uc3Qgb3JkZXJJdGVtU2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7XG4gIG5hbWU6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxuICBxdHk6IHsgdHlwZTogTnVtYmVyLCByZXF1aXJlZDogdHJ1ZSB9LFxuICBpbWFnZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gIHByaWNlOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgcHJvZHVjdDoge1xuICAgIHR5cGU6IG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5PYmplY3RJZCxcbiAgICByZWY6ICdQcm9kdWN0JyxcbiAgICByZXF1aXJlZDogdHJ1ZVxuICB9LFxufSk7XG5cbmNvbnN0IG9yZGVyU2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7XG4gIHVzZXI6IHsgdHlwZTogbW9uZ29vc2UuU2NoZW1hLlR5cGVzLk9iamVjdElkLCByZWY6ICdVc2VyJywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgb3JkZXJJdGVtczogW29yZGVySXRlbVNjaGVtYV0sXG4gIHNoaXBwaW5nOiBzaGlwcGluZ1NjaGVtYSxcbiAgcGF5bWVudDogcGF5bWVudFNjaGVtYSxcbiAgaXRlbXNQcmljZTogeyB0eXBlOiBOdW1iZXIgfSxcbiAgdGF4UHJpY2U6IHsgdHlwZTogTnVtYmVyIH0sXG4gIHNoaXBwaW5nUHJpY2U6IHsgdHlwZTogTnVtYmVyIH0sXG4gIHRvdGFsUHJpY2U6IHsgdHlwZTogTnVtYmVyIH0sXG4gIGlzUGFpZDogeyB0eXBlOiBCb29sZWFuLCBkZWZhdWx0OiBmYWxzZSB9LFxuICBwYWlkQXQ6IHsgdHlwZTogRGF0ZSB9LFxuICBpc0RlbGl2ZXJlZDogeyB0eXBlOiBCb29sZWFuLCBkZWZhdWx0OiBmYWxzZSB9LFxuICBkZWxpdmVyZWRBdDogeyB0eXBlOiBEYXRlIH0sXG59LCB7XG4gIHRpbWVzdGFtcHM6IHRydWVcbn0pO1xuXG5jb25zdCBvcmRlck1vZGVsID0gbW9uZ29vc2UubW9kZWwoXCJPcmRlclwiLCBvcmRlclNjaGVtYSk7XG5leHBvcnQgZGVmYXVsdCBvcmRlck1vZGVsOyJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "orderModel.js"
      ],
      "names": [
        "shippingSchema",
        "address",
        "type",
        "String",
        "required",
        "city",
        "postalCode",
        "country",
        "paymentSchema",
        "paymentMethod",
        "orderItemSchema",
        "mongoose",
        "Schema",
        "name",
        "qty",
        "Number",
        "image",
        "price",
        "product",
        "Types",
        "ObjectId",
        "ref",
        "orderSchema",
        "user",
        "orderItems",
        "shipping",
        "payment",
        "itemsPrice",
        "taxPrice",
        "shippingPrice",
        "totalPrice",
        "isPaid",
        "Boolean",
        "default",
        "paidAt",
        "Date",
        "isDelivered",
        "deliveredAt",
        "timestamps",
        "orderModel",
        "model"
      ],
      "mappings": ";;;;;;;AAAA;;;;AACA,MAAMA,cAAc,GAAG;AACrBC,EAAAA,OAAO,EAAE;AAAEC,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GADY;AAErBC,EAAAA,IAAI,EAAE;AAAEH,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAFe;AAGrBE,EAAAA,UAAU,EAAE;AAAEJ,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAHS;AAIrBG,EAAAA,OAAO,EAAE;AAAEL,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B;AAJY,CAAvB;AAOA,MAAMI,aAAa,GAAG;AACpBC,EAAAA,aAAa,EAAE;AAAEP,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B;AADK,CAAtB;AAIA,MAAMM,eAAe,GAAG,IAAIC,kBAASC,MAAb,CAAoB;AAC1CC,EAAAA,IAAI,EAAE;AAAEX,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GADoC;AAE1CU,EAAAA,GAAG,EAAE;AAAEZ,IAAAA,IAAI,EAAEa,MAAR;AAAgBX,IAAAA,QAAQ,EAAE;AAA1B,GAFqC;AAG1CY,EAAAA,KAAK,EAAE;AAAEd,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAHmC;AAI1Ca,EAAAA,KAAK,EAAE;AAAEf,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAJmC;AAK1Cc,EAAAA,OAAO,EAAE;AACPhB,IAAAA,IAAI,EAAES,kBAASC,MAAT,CAAgBO,KAAhB,CAAsBC,QADrB;AAEPC,IAAAA,GAAG,EAAE,SAFE;AAGPjB,IAAAA,QAAQ,EAAE;AAHH;AALiC,CAApB,CAAxB;AAYA,MAAMkB,WAAW,GAAG,IAAIX,kBAASC,MAAb,CAAoB;AACtCW,EAAAA,IAAI,EAAE;AAAErB,IAAAA,IAAI,EAAES,kBAASC,MAAT,CAAgBO,KAAhB,CAAsBC,QAA9B;AAAwCC,IAAAA,GAAG,EAAE,MAA7C;AAAqDjB,IAAAA,QAAQ,EAAE;AAA/D,GADgC;AAEtCoB,EAAAA,UAAU,EAAE,CAACd,eAAD,CAF0B;AAGtCe,EAAAA,QAAQ,EAAEzB,cAH4B;AAItC0B,EAAAA,OAAO,EAAElB,aAJ6B;AAKtCmB,EAAAA,UAAU,EAAE;AAAEzB,IAAAA,IAAI,EAAEa;AAAR,GAL0B;AAMtCa,EAAAA,QAAQ,EAAE;AAAE1B,IAAAA,IAAI,EAAEa;AAAR,GAN4B;AAOtCc,EAAAA,aAAa,EAAE;AAAE3B,IAAAA,IAAI,EAAEa;AAAR,GAPuB;AAQtCe,EAAAA,UAAU,EAAE;AAAE5B,IAAAA,IAAI,EAAEa;AAAR,GAR0B;AAStCgB,EAAAA,MAAM,EAAE;AAAE7B,IAAAA,IAAI,EAAE8B,OAAR;AAAiBC,IAAAA,OAAO,EAAE;AAA1B,GAT8B;AAUtCC,EAAAA,MAAM,EAAE;AAAEhC,IAAAA,IAAI,EAAEiC;AAAR,GAV8B;AAWtCC,EAAAA,WAAW,EAAE;AAAElC,IAAAA,IAAI,EAAE8B,OAAR;AAAiBC,IAAAA,OAAO,EAAE;AAA1B,GAXyB;AAYtCI,EAAAA,WAAW,EAAE;AAAEnC,IAAAA,IAAI,EAAEiC;AAAR;AAZyB,CAApB,EAajB;AACDG,EAAAA,UAAU,EAAE;AADX,CAbiB,CAApB;;AAiBA,MAAMC,UAAU,GAAG5B,kBAAS6B,KAAT,CAAe,OAAf,EAAwBlB,WAAxB,CAAnB;;eACeiB,U",
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/schemas/",
      "sourcesContent": [
        "import mongoose from 'mongoose';\nconst shippingSchema = {\n  address: { type: String, required: true },\n  city: { type: String, required: true },\n  postalCode: { type: String, required: true },\n  country: { type: String, required: true },\n};\n\nconst paymentSchema = {\n  paymentMethod: { type: String, required: true }\n};\n\nconst orderItemSchema = new mongoose.Schema({\n  name: { type: String, required: true },\n  qty: { type: Number, required: true },\n  image: { type: String, required: true },\n  price: { type: String, required: true },\n  product: {\n    type: mongoose.Schema.Types.ObjectId,\n    ref: 'Product',\n    required: true\n  },\n});\n\nconst orderSchema = new mongoose.Schema({\n  user: { type: mongoose.Schema.Types.ObjectId, ref: 'User', required: true },\n  orderItems: [orderItemSchema],\n  shipping: shippingSchema,\n  payment: paymentSchema,\n  itemsPrice: { type: Number },\n  taxPrice: { type: Number },\n  shippingPrice: { type: Number },\n  totalPrice: { type: Number },\n  isPaid: { type: Boolean, default: false },\n  paidAt: { type: Date },\n  isDelivered: { type: Boolean, default: false },\n  deliveredAt: { type: Date },\n}, {\n  timestamps: true\n});\n\nconst orderModel = mongoose.model(\"Order\", orderSchema);\nexport default orderModel;"
      ]
    },
    "sourceType": "script",
    "mtime": 1595823100000
  },
  "{\"sourceRoot\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop\",\"filename\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/productRouter.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop",
      "filename": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/productRouter.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/productRouter.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/productRouter.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/",
        "sourceFileName": "productRouter.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _expressAsyncHandler = _interopRequireDefault(require(\"express-async-handler\"));\n\nvar _productModel = _interopRequireDefault(require(\"../schemas/productModel.js\"));\n\nvar _util = require(\"../util.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst productRouter = _express.default.Router();\n\nproductRouter.get('/', (0, _expressAsyncHandler.default)(async (req, res) => {\n  const name = req.query.name || '';\n  const category = req.query.category || '';\n  const seller = req.query.seller || '';\n  const order = req.query.order || '';\n  const min = req.query.min && Number(req.query.min) !== 0 ? Number(req.query.min) : 0;\n  const max = req.query.max && Number(req.query.max) !== 0 ? Number(req.query.max) : 0;\n  const rating = req.query.rating && Number(req.query.rating) !== 0 ? Number(req.query.rating) : 0;\n  const nameFilter = name ? {\n    name: {\n      $regex: name,\n      $options: 'i'\n    }\n  } : {};\n  const sellerFilter = seller ? {\n    seller\n  } : {};\n  const categoryFilter = category ? {\n    category\n  } : {};\n  const priceFilter = min && max ? {\n    price: {\n      $gte: min,\n      $lte: max\n    }\n  } : {};\n  const ratingFilter = rating ? {\n    rating: {\n      $gte: rating\n    }\n  } : {};\n  const sortOrder = order === 'lowest' ? {\n    price: 1\n  } : order === 'highest' ? {\n    price: -1\n  } : order === 'toprated' ? {\n    rating: -1\n  } : {\n    _id: -1\n  };\n  const products = await _productModel.default.find({ ...sellerFilter,\n    ...nameFilter,\n    ...categoryFilter,\n    ...priceFilter,\n    ...ratingFilter\n  }).populate('seller', 'seller.name seller.logo').sort(sortOrder);\n  res.send(products);\n}));\nproductRouter.get('/categories', (0, _expressAsyncHandler.default)(async (req, res) => {\n  const categories = await _productModel.default.find().distinct('category');\n  res.send(categories);\n}));\nproductRouter.get('/seed', (0, _expressAsyncHandler.default)(async (req, res) => {\n  // await Product.remove({});\n  const createdProducts = await _productModel.default.insertMany(data.products);\n  res.send({\n    createdProducts\n  });\n}));\nproductRouter.get('/:id', (0, _expressAsyncHandler.default)(async (req, res) => {\n  const product = await _productModel.default.findById(req.params.id).populate('seller', 'seller.name seller.logo seller.rating seller.numReviews');\n\n  if (product) {\n    res.send(product);\n  } else {\n    res.status(404).send({\n      message: 'Product Not Found'\n    });\n  }\n}));\nproductRouter.post('/', _util.isAuth, _util.isSellerOrAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const product = new _productModel.default({\n    name: 'sample name ' + Date.now(),\n    seller: req.user._id,\n    image: '/images/p1.jpg',\n    price: 0,\n    category: 'sample category',\n    brand: 'sample brand',\n    countInStock: 0,\n    rating: 0,\n    numReviews: 0,\n    description: 'sample description'\n  });\n  const createdProduct = await product.save();\n  res.send({\n    message: 'Product Created',\n    product: createdProduct\n  });\n}));\nproductRouter.put('/:id', _util.isAuth, _util.isSellerOrAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const productId = req.params.id;\n  const product = await _productModel.default.findById(productId);\n\n  if (product) {\n    product.name = req.body.name;\n    product.price = req.body.price;\n    product.image = req.body.image;\n    product.category = req.body.category;\n    product.brand = req.body.brand;\n    product.countInStock = req.body.countInStock;\n    product.description = req.body.description;\n    const updatedProduct = await product.save();\n    res.send({\n      message: 'Product Updated',\n      product: updatedProduct\n    });\n  } else {\n    res.status(404).send({\n      message: 'Product Not Found'\n    });\n  }\n}));\nproductRouter.delete('/:id', _util.isAuth, _util.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const product = await _productModel.default.findById(req.params.id);\n\n  if (product) {\n    const deleteProduct = await product.remove();\n    res.send({\n      message: 'Product Deleted',\n      product: deleteProduct\n    });\n  } else {\n    res.status(404).send({\n      message: 'Product Not Found'\n    });\n  }\n}));\nvar _default = productRouter;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2R1Y3RSb3V0ZXIuanMiXSwibmFtZXMiOlsicHJvZHVjdFJvdXRlciIsImV4cHJlc3MiLCJSb3V0ZXIiLCJnZXQiLCJyZXEiLCJyZXMiLCJuYW1lIiwicXVlcnkiLCJjYXRlZ29yeSIsInNlbGxlciIsIm9yZGVyIiwibWluIiwiTnVtYmVyIiwibWF4IiwicmF0aW5nIiwibmFtZUZpbHRlciIsIiRyZWdleCIsIiRvcHRpb25zIiwic2VsbGVyRmlsdGVyIiwiY2F0ZWdvcnlGaWx0ZXIiLCJwcmljZUZpbHRlciIsInByaWNlIiwiJGd0ZSIsIiRsdGUiLCJyYXRpbmdGaWx0ZXIiLCJzb3J0T3JkZXIiLCJfaWQiLCJwcm9kdWN0cyIsIlByb2R1Y3QiLCJmaW5kIiwicG9wdWxhdGUiLCJzb3J0Iiwic2VuZCIsImNhdGVnb3JpZXMiLCJkaXN0aW5jdCIsImNyZWF0ZWRQcm9kdWN0cyIsImluc2VydE1hbnkiLCJkYXRhIiwicHJvZHVjdCIsImZpbmRCeUlkIiwicGFyYW1zIiwiaWQiLCJzdGF0dXMiLCJtZXNzYWdlIiwicG9zdCIsImlzQXV0aCIsImlzU2VsbGVyT3JBZG1pbiIsIkRhdGUiLCJub3ciLCJ1c2VyIiwiaW1hZ2UiLCJicmFuZCIsImNvdW50SW5TdG9jayIsIm51bVJldmlld3MiLCJkZXNjcmlwdGlvbiIsImNyZWF0ZWRQcm9kdWN0Iiwic2F2ZSIsInB1dCIsInByb2R1Y3RJZCIsImJvZHkiLCJ1cGRhdGVkUHJvZHVjdCIsImRlbGV0ZSIsImlzQWRtaW4iLCJkZWxldGVQcm9kdWN0IiwicmVtb3ZlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7QUFFQSxNQUFNQSxhQUFhLEdBQUdDLGlCQUFRQyxNQUFSLEVBQXRCOztBQUVBRixhQUFhLENBQUNHLEdBQWQsQ0FDRSxHQURGLEVBRUUsa0NBQW9CLE9BQU9DLEdBQVAsRUFBWUMsR0FBWixLQUFvQjtBQUN0QyxRQUFNQyxJQUFJLEdBQUdGLEdBQUcsQ0FBQ0csS0FB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O0FBQThCTCxNQUFBQSxPQUFPLEVBQUV5QjtBQUF2QyxLQUFUO0FBQ0QsR0FIRCxNQUdPO0FBQ0wxRCxJQUFBQSxHQUFHLENBQUNxQyxNQUFKLENBQVcsR0FBWCxFQUFnQlYsSUFBaEIsQ0FBcUI7QUFBRVcsTUFBQUEsT0FBTyxFQUFFO0FBQVgsS0FBckI7QUFDRDtBQUNGLENBUkQsQ0FKRjtlQWVlM0MsYSIsInNvdXJjZVJvb3QiOiIvVXNlcnMvTWUvRGVza3RvcC9SZWFjdFByb2plY3RzL2Vjb21tL2x1eGVzaG9wL2JhY2tlbmQvcm91dGVzLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IGV4cHJlc3NBc3luY0hhbmRsZXIgZnJvbSAnZXhwcmVzcy1hc3luYy1oYW5kbGVyJztcbmltcG9ydCBQcm9kdWN0IGZyb20gJy4uL3NjaGVtYXMvcHJvZHVjdE1vZGVsLmpzJztcbmltcG9ydCB7IGlzQWRtaW4sIGlzQXV0aCwgaXNTZWxsZXJPckFkbWluIH0gZnJvbSAnLi4vdXRpbC5qcyc7XG5cbmNvbnN0IHByb2R1Y3RSb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xuXG5wcm9kdWN0Um91dGVyLmdldChcbiAgJy8nLFxuICBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IG5hbWUgPSByZXEucXVlcnkubmFtZSB8fCAnJztcbiAgICBjb25zdCBjYXRlZ29yeSA9IHJlcS5xdWVyeS5jYXRlZ29yeSB8fCAnJztcbiAgICBjb25zdCBzZWxsZXIgPSByZXEucXVlcnkuc2VsbGVyIHx8ICcnO1xuICAgIGNvbnN0IG9yZGVyID0gcmVxLnF1ZXJ5Lm9yZGVyIHx8ICcnO1xuICAgIGNvbnN0IG1pbiA9XG4gICAgICByZXEucXVlcnkubWluICYmIE51bWJlcihyZXEucXVlcnkubWluKSAhPT0gMCA/IE51bWJlcihyZXEucXVlcnkubWluKSA6IDA7XG4gICAgY29uc3QgbWF4ID1cbiAgICAgIHJlcS5xdWVyeS5tYXggJiYgTnVtYmVyKHJlcS5xdWVyeS5tYXgpICE9PSAwID8gTnVtYmVyKHJlcS5xdWVyeS5tYXgpIDogMDtcbiAgICBjb25zdCByYXRpbmcgPVxuICAgICAgcmVxLnF1ZXJ5LnJhdGluZyAmJiBOdW1iZXIocmVxLnF1ZXJ5LnJhdGluZykgIT09IDBcbiAgICAgICAgPyBOdW1iZXIocmVxLnF1ZXJ5LnJhdGluZylcbiAgICAgICAgOiAwO1xuXG4gICAgY29uc3QgbmFtZUZpbHRlciA9IG5hbWUgPyB7IG5hbWU6IHsgJHJlZ2V4OiBuYW1lLCAkb3B0aW9uczogJ2knIH0gfSA6IHt9O1xuICAgIGNvbnN0IHNlbGxlckZpbHRlciA9IHNlbGxlciA/IHsgc2VsbGVyIH0gOiB7fTtcbiAgICBjb25zdCBjYXRlZ29yeUZpbHRlciA9IGNhdGVnb3J5ID8geyBjYXRlZ29yeSB9IDoge307XG4gICAgY29uc3QgcHJpY2VGaWx0ZXIgPSBtaW4gJiYgbWF4ID8geyBwcmljZTogeyAkZ3RlOiBtaW4sICRsdGU6IG1heCB9IH0gOiB7fTtcbiAgICBjb25zdCByYXRpbmdGaWx0ZXIgPSByYXRpbmcgPyB7IHJhdGluZzogeyAkZ3RlOiByYXRpbmcgfSB9IDoge307XG4gICAgY29uc3Qgc29ydE9yZGVyID1cbiAgICAgIG9yZGVyID09PSAnbG93ZXN0J1xuICAgICAgICA/IHsgcHJpY2U6IDEgfVxuICAgICAgICA6IG9yZGVyID09PSAnaGlnaGVzdCdcbiAgICAgICAgPyB7IHByaWNlOiAtMSB9XG4gICAgICAgIDogb3JkZXIgPT09ICd0b3ByYXRlZCdcbiAgICAgICAgPyB7IHJhdGluZzogLTEgfVxuICAgICAgICA6IHsgX2lkOiAtMSB9O1xuXG4gICAgY29uc3QgcHJvZHVjdHMgPSBhd2FpdCBQcm9kdWN0LmZpbmQoe1xuICAgICAgLi4uc2VsbGVyRmlsdGVyLFxuICAgICAgLi4ubmFtZUZpbHRlcixcbiAgICAgIC4uLmNhdGVnb3J5RmlsdGVyLFxuICAgICAgLi4ucHJpY2VGaWx0ZXIsXG4gICAgICAuLi5yYXRpbmdGaWx0ZXIsXG4gICAgfSlcbiAgICAgIC5wb3B1bGF0ZSgnc2VsbGVyJywgJ3NlbGxlci5uYW1lIHNlbGxlci5sb2dvJylcbiAgICAgIC5zb3J0KHNvcnRPcmRlcik7XG4gICAgcmVzLnNlbmQocHJvZHVjdHMpO1xuICB9KVxuKTtcblxucHJvZHVjdFJvdXRlci5nZXQoXG4gICcvY2F0ZWdvcmllcycsXG4gIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc3QgY2F0ZWdvcmllcyA9IGF3YWl0IFByb2R1Y3QuZmluZCgpLmRpc3RpbmN0KCdjYXRlZ29yeScpO1xuICAgIHJlcy5zZW5kKGNhdGVnb3JpZXMpO1xuICB9KVxuKTtcblxucHJvZHVjdFJvdXRlci5nZXQoXG4gICcvc2VlZCcsXG4gIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgLy8gYXdhaXQgUHJvZHVjdC5yZW1vdmUoe30pO1xuICAgIGNvbnN0IGNyZWF0ZWRQcm9kdWN0cyA9IGF3YWl0IFByb2R1Y3QuaW5zZXJ0TWFueShkYXRhLnByb2R1Y3RzKTtcbiAgICByZXMuc2VuZCh7IGNyZWF0ZWRQcm9kdWN0cyB9KTtcbiAgfSlcbik7XG5cbnByb2R1Y3RSb3V0ZXIuZ2V0KFxuICAnLzppZCcsXG4gIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc3QgcHJvZHVjdCA9IGF3YWl0IFByb2R1Y3QuZmluZEJ5SWQocmVxLnBhcmFtcy5pZCkucG9wdWxhdGUoXG4gICAgICAnc2VsbGVyJyxcbiAgICAgICdzZWxsZXIubmFtZSBzZWxsZXIubG9nbyBzZWxsZXIucmF0aW5nIHNlbGxlci5udW1SZXZpZXdzJ1xuICAgICk7XG4gICAgaWYgKHByb2R1Y3QpIHtcbiAgICAgIHJlcy5zZW5kKHByb2R1Y3QpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCh7IG1lc3NhZ2U6ICdQcm9kdWN0IE5vdCBGb3VuZCcgfSk7XG4gICAgfVxuICB9KVxuKTtcblxucHJvZHVjdFJvdXRlci5wb3N0KFxuICAnLycsXG4gIGlzQXV0aCxcbiAgaXNTZWxsZXJPckFkbWluLFxuICBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHByb2R1Y3QgPSBuZXcgUHJvZHVjdCh7XG4gICAgICBuYW1lOiAnc2FtcGxlIG5hbWUgJyArIERhdGUubm93KCksXG4gICAgICBzZWxsZXI6IHJlcS51c2VyLl9pZCxcbiAgICAgIGltYWdlOiAnL2ltYWdlcy9wMS5qcGcnLFxuICAgICAgcHJpY2U6IDAsXG4gICAgICBjYXRlZ29yeTogJ3NhbXBsZSBjYXRlZ29yeScsXG4gICAgICBicmFuZDogJ3NhbXBsZSBicmFuZCcsXG4gICAgICBjb3VudEluU3RvY2s6IDAsXG4gICAgICByYXRpbmc6IDAsXG4gICAgICBudW1SZXZpZXdzOiAwLFxuICAgICAgZGVzY3JpcHRpb246ICdzYW1wbGUgZGVzY3JpcHRpb24nLFxuICAgIH0pO1xuICAgIGNvbnN0IGNyZWF0ZWRQcm9kdWN0ID0gYXdhaXQgcHJvZHVjdC5zYXZlKCk7XG4gICAgcmVzLnNlbmQoeyBtZXNzYWdlOiAnUHJvZHVjdCBDcmVhdGVkJywgcHJvZHVjdDogY3JlYXRlZFByb2R1Y3QgfSk7XG4gIH0pXG4pO1xucHJvZHVjdFJvdXRlci5wdXQoXG4gICcvOmlkJyxcbiAgaXNBdXRoLFxuICBpc1NlbGxlck9yQWRtaW4sXG4gIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc3QgcHJvZHVjdElkID0gcmVxLnBhcmFtcy5pZDtcbiAgICBjb25zdCBwcm9kdWN0ID0gYXdhaXQgUHJvZHVjdC5maW5kQnlJZChwcm9kdWN0SWQpO1xuICAgIGlmIChwcm9kdWN0KSB7XG4gICAgICBwcm9kdWN0Lm5hbWUgPSByZXEuYm9keS5uYW1lO1xuICAgICAgcHJvZHVjdC5wcmljZSA9IHJlcS5ib2R5LnByaWNlO1xuICAgICAgcHJvZHVjdC5pbWFnZSA9IHJlcS5ib2R5LmltYWdlO1xuICAgICAgcHJvZHVjdC5jYXRlZ29yeSA9IHJlcS5ib2R5LmNhdGVnb3J5O1xuICAgICAgcHJvZHVjdC5icmFuZCA9IHJlcS5ib2R5LmJyYW5kO1xuICAgICAgcHJvZHVjdC5jb3VudEluU3RvY2sgPSByZXEuYm9keS5jb3VudEluU3RvY2s7XG4gICAgICBwcm9kdWN0LmRlc2NyaXB0aW9uID0gcmVxLmJvZHkuZGVzY3JpcHRpb247XG4gICAgICBjb25zdCB1cGRhdGVkUHJvZHVjdCA9IGF3YWl0IHByb2R1Y3Quc2F2ZSgpO1xuICAgICAgcmVzLnNlbmQoeyBtZXNzYWdlOiAnUHJvZHVjdCBVcGRhdGVkJywgcHJvZHVjdDogdXBkYXRlZFByb2R1Y3QgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHsgbWVzc2FnZTogJ1Byb2R1Y3QgTm90IEZvdW5kJyB9KTtcbiAgICB9XG4gIH0pXG4pO1xuXG5wcm9kdWN0Um91dGVyLmRlbGV0ZShcbiAgJy86aWQnLFxuICBpc0F1dGgsXG4gIGlzQWRtaW4sXG4gIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc3QgcHJvZHVjdCA9IGF3YWl0IFByb2R1Y3QuZmluZEJ5SWQocmVxLnBhcmFtcy5pZCk7XG4gICAgaWYgKHByb2R1Y3QpIHtcbiAgICAgIGNvbnN0IGRlbGV0ZVByb2R1Y3QgPSBhd2FpdCBwcm9kdWN0LnJlbW92ZSgpO1xuICAgICAgcmVzLnNlbmQoeyBtZXNzYWdlOiAnUHJvZHVjdCBEZWxldGVkJywgcHJvZHVjdDogZGVsZXRlUHJvZHVjdCB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoeyBtZXNzYWdlOiAnUHJvZHVjdCBOb3QgRm91bmQnIH0pO1xuICAgIH1cbiAgfSlcbik7XG5cbmV4cG9ydCBkZWZhdWx0IHByb2R1Y3RSb3V0ZXI7XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "productRouter.js"
      ],
      "names": [
        "productRouter",
        "express",
        "Router",
        "get",
        "req",
        "res",
        "name",
        "query",
        "category",
        "seller",
        "order",
        "min",
        "Number",
        "max",
        "rating",
        "nameFilter",
        "$regex",
        "$options",
        "sellerFilter",
        "categoryFilter",
        "priceFilter",
        "price",
        "$gte",
        "$lte",
        "ratingFilter",
        "sortOrder",
        "_id",
        "products",
        "Product",
        "find",
        "populate",
        "sort",
        "send",
        "categories",
        "distinct",
        "createdProducts",
        "insertMany",
        "data",
        "product",
        "findById",
        "params",
        "id",
        "status",
        "message",
        "post",
        "isAuth",
        "isSellerOrAdmin",
        "Date",
        "now",
        "user",
        "image",
        "brand",
        "countInStock",
        "numReviews",
        "description",
        "createdProduct",
        "save",
        "put",
        "productId",
        "body",
        "updatedProduct",
        "delete",
        "isAdmin",
        "deleteProduct",
        "remove"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/",
      "sourcesContent": [
        "import express from 'express';\nimport expressAsyncHandler from 'express-async-handler';\nimport Product from '../schemas/productModel.js';\nimport { isAdmin, isAuth, isSellerOrAdmin } from '../util.js';\n\nconst productRouter = express.Router();\n\nproductRouter.get(\n  '/',\n  expressAsyncHandler(async (req, res) => {\n    const name = req.query.name || '';\n    const category = req.query.category || '';\n    const seller = req.query.seller || '';\n    const order = req.query.order || '';\n    const min =\n      req.query.min && Number(req.query.min) !== 0 ? Number(req.query.min) : 0;\n    const max =\n      req.query.max && Number(req.query.max) !== 0 ? Number(req.query.max) : 0;\n    const rating =\n      req.query.rating && Number(req.query.rating) !== 0\n        ? Number(req.query.rating)\n        : 0;\n\n    const nameFilter = name ? { name: { $regex: name, $options: 'i' } } : {};\n    const sellerFilter = seller ? { seller } : {};\n    const categoryFilter = category ? { category } : {};\n    const priceFilter = min && max ? { price: { $gte: min, $lte: max } } : {};\n    const ratingFilter = rating ? { rating: { $gte: rating } } : {};\n    const sortOrder =\n      order === 'lowest'\n        ? { price: 1 }\n        : order === 'highest'\n        ? { price: -1 }\n        : order === 'toprated'\n        ? { rating: -1 }\n        : { _id: -1 };\n\n    const products = await Product.find({\n      ...sellerFilter,\n      ...nameFilter,\n      ...categoryFilter,\n      ...priceFilter,\n      ...ratingFilter,\n    })\n      .populate('seller', 'seller.name seller.logo')\n      .sort(sortOrder);\n    res.send(products);\n  })\n);\n\nproductRouter.get(\n  '/categories',\n  expressAsyncHandler(async (req, res) => {\n    const categories = await Product.find().distinct('category');\n    res.send(categories);\n  })\n);\n\nproductRouter.get(\n  '/seed',\n  expressAsyncHandler(async (req, res) => {\n    // await Product.remove({});\n    const createdProducts = await Product.insertMany(data.products);\n    res.send({ createdProducts });\n  })\n);\n\nproductRouter.get(\n  '/:id',\n  expressAsyncHandler(async (req, res) => {\n    const product = await Product.findById(req.params.id).populate(\n      'seller',\n      'seller.name seller.logo seller.rating seller.numReviews'\n    );\n    if (product) {\n      res.send(product);\n    } else {\n      res.status(404).send({ message: 'Product Not Found' });\n    }\n  })\n);\n\nproductRouter.post(\n  '/',\n  isAuth,\n  isSellerOrAdmin,\n  expressAsyncHandler(async (req, res) => {\n    const product = new Product({\n      name: 'sample name ' + Date.now(),\n      seller: req.user._id,\n      image: '/images/p1.jpg',\n      price: 0,\n      category: 'sample category',\n      brand: 'sample brand',\n      countInStock: 0,\n      rating: 0,\n      numReviews: 0,\n      description: 'sample description',\n    });\n    const createdProduct = await product.save();\n    res.send({ message: 'Product Created', product: createdProduct });\n  })\n);\nproductRouter.put(\n  '/:id',\n  isAuth,\n  isSellerOrAdmin,\n  expressAsyncHandler(async (req, res) => {\n    const productId = req.params.id;\n    const product = await Product.findById(productId);\n    if (product) {\n      product.name = req.body.name;\n      product.price = req.body.price;\n      product.image = req.body.image;\n      product.category = req.body.category;\n      product.brand = req.body.brand;\n      product.countInStock = req.body.countInStock;\n      product.description = req.body.description;\n      const updatedProduct = await product.save();\n      res.send({ message: 'Product Updated', product: updatedProduct });\n    } else {\n      res.status(404).send({ message: 'Product Not Found' });\n    }\n  })\n);\n\nproductRouter.delete(\n  '/:id',\n  isAuth,\n  isAdmin,\n  expressAsyncHandler(async (req, res) => {\n    const product = await Product.findById(req.params.id);\n    if (product) {\n      const deleteProduct = await product.remove();\n      res.send({ message: 'Product Deleted', product: deleteProduct });\n    } else {\n      res.status(404).send({ message: 'Product Not Found' });\n    }\n  })\n);\n\nexport default productRouter;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1607065263866
  },
  "{\"sourceRoot\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop\",\"filename\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/userRouter.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop",
      "filename": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/userRouter.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/userRouter.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/userRouter.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/",
        "sourceFileName": "userRouter.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _expressAsyncHandler = _interopRequireDefault(require(\"express-async-handler\"));\n\nvar _bcryptjs = _interopRequireDefault(require(\"bcryptjs\"));\n\nvar _userModel = _interopRequireDefault(require(\"../schemas/userModel.js\"));\n\nvar _util = require(\"../util.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst userRouter = _express.default.Router();\n\nuserRouter.get('/top-sellers', (0, _expressAsyncHandler.default)(async (req, res) => {\n  const topSellers = await _userModel.default.find({\n    isSeller: true\n  }).sort({\n    'seller.rating': -1\n  }).limit(3);\n  res.send(topSellers);\n}));\nuserRouter.get('/seed', (0, _expressAsyncHandler.default)(async (req, res) => {\n  // await User.remove({});\n  const createdUsers = await _userModel.default.insertMany(data.users);\n  res.send({\n    createdUsers\n  });\n}));\nuserRouter.post('/signin', (0, _expressAsyncHandler.default)(async (req, res) => {\n  const user = await _userModel.default.findOne({\n    email: req.body.email\n  });\n\n  if (user) {\n    if (_bcryptjs.default.compareSync(req.body.password, user.password)) {\n      res.send({\n        _id: user._id,\n        name: user.name,\n        email: user.email,\n        isAdmin: user.isAdmin,\n        isSeller: user.isSeller,\n        token: (0, _util.generateToken)(user)\n      });\n      return;\n    }\n  }\n\n  res.status(401).send({\n    message: 'Invalid email or password'\n  });\n}));\nuserRouter.post('/register', (0, _expressAsyncHandler.default)(async (req, res) => {\n  const user = new _userModel.default({\n    name: req.body.name,\n    email: req.body.email,\n    password: _bcryptjs.default.hashSync(req.body.password, 8)\n  });\n  const createdUser = await user.save();\n  res.send({\n    _id: createdUser._id,\n    name: createdUser.name,\n    email: createdUser.email,\n    isAdmin: createdUser.isAdmin,\n    isSeller: user.isSeller,\n    token: (0, _util.generateToken)(createdUser)\n  });\n}));\nuserRouter.get('/:id', (0, _expressAsyncHandler.default)(async (req, res) => {\n  const user = await _userModel.default.findById(req.params.id);\n\n  if (user) {\n    res.send(user);\n  } else {\n    res.status(404).send({\n      message: 'User Not Found'\n    });\n  }\n}));\nuserRouter.put('/profile', _util.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const user = await _userModel.default.findById(req.user._id);\n\n  if (user) {\n    user.name = req.body.name || user.name;\n    user.email = req.body.email || user.email;\n\n    if (user.isSeller) {\n      user.seller.name = req.body.sellerName || user.seller.name;\n      user.seller.logo = req.body.sellerLogo || user.seller.logo;\n      user.seller.description = req.body.sellerDescription || user.seller.description;\n    }\n\n    if (req.body.password) {\n      user.password = _bcryptjs.default.hashSync(req.body.password, 8);\n    }\n\n    const updatedUser = await user.save();\n    res.send({\n      _id: updatedUser._id,\n      name: updatedUser.name,\n      email: updatedUser.email,\n      isAdmin: updatedUser.isAdmin,\n      isSeller: user.isSeller,\n      token: (0, _util.generateToken)(updatedUser)\n    });\n  }\n}));\nuserRouter.get('/', _util.isAuth, _util.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const users = await _userModel.default.find({});\n  res.send(users);\n}));\nuserRouter.delete('/:id', _util.isAuth, _util.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const user = await _userModel.default.findById(req.params.id);\n\n  if (user) {\n    if (user.email === 'admin@example.com') {\n      res.status(400).send({\n        message: 'Can Not Delete Admin User'\n      });\n      return;\n    }\n\n    const deleteUser = await user.remove();\n    res.send({\n      message: 'User Deleted',\n      user: deleteUser\n    });\n  } else {\n    res.status(404).send({\n      message: 'User Not Found'\n    });\n  }\n}));\nuserRouter.put('/:id', _util.isAuth, _util.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const user = await _userModel.default.findById(req.params.id);\n\n  if (user) {\n    user.name = req.body.name || user.name;\n    user.email = req.body.email || user.email;\n    user.isSeller = req.body.isSeller || user.isSeller;\n    user.isAdmin = req.body.isAdmin || user.isAdmin;\n    const updatedUser = await user.save();\n    res.send({\n      message: 'User Updated',\n      user: updatedUser\n    });\n  } else {\n    res.status(404).send({\n      message: 'User Not Found'\n    });\n  }\n}));\nvar _default = userRouter;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJSb3V0ZXIuanMiXSwibmFtZXMiOlsidXNlclJvdXRlciIsImV4cHJlc3MiLCJSb3V0ZXIiLCJnZXQiLCJyZXEiLCJyZXMiLCJ0b3BTZWxsZXJzIiwiVXNlciIsImZpbmQiLCJpc1NlbGxlciIsInNvcnQiLCJsaW1pdCIsInNlbmQiLCJjcmVhdGVkVXNlcnMiLCJpbnNlcnRNYW55IiwiZGF0YSIsInVzZXJzIiwicG9zdCIsInVzZXIiLCJmaW5kT25lIiwiZW1haWwiLCJib2R5IiwiYmNyeXB0IiwiY29tcGFyZVN5bmMiLCJwYXNzd29yZCIsIl9pZCIsIm5hbWUiLCJpc0FkbWluIiwidG9rZW4iLCJzdGF0dXMiLCJtZXNzYWdlIiwiaGFzaFN5bmMiLCJjcmVhdGVkVXNlciIsInNhdmUiLCJmaW5kQnlJZCIsInBhcmFtcyIsImlkIiwicHV0IiwiaXNBdXRoIiwic2VsbGVyIiwic2VsbGVyTmFtZSIsImxvZ28iLCJzZWxsZXJMb2dvIiwiZGVzY3JpcHRpb24iLCJzZWxsZXJEZXNjcmlwdGlvbiIsInVwZGF0ZWRVc2VyIiwiZGVsZXRlIiwiZGVsZXRlVXNlciIsInJlbW92ZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOzs7O0FBRUEsTUFBTUEsVUFBVSxHQUFHQyxpQkFBUUMsTUFBUixFQUFuQjs7QUFFQUYsVUFBVSxDQUFDRyxHQUFYLENBQ0UsY0FERixFQUVFLGtDQUFvQixPQUFPQyxHQUFQLEVBQVlDLEdBQVosS0FBb0I7QUFDdEMsUUFBTUMsVUFBVSxHQUFHLE1BQU1DLG1CQUFLQyxJQUFMLENBQVU7QUFBRUMsSUFBQUEsUUFBUSxFQUFFO0FBQVosR0FBVixFQUN0QkMsSUFEc0IsQ0FDakI7QUFBRSxxQkFBaUIsQ0FBQztBQUFwQixHQURpQixFQUV0QkMsS0FGc0IsQ0FFaEIsQ0FGZ0IsQ0FBekI7QUFHQU4sRUFBQUEsR0FBRyxDQUFDTyxJQUFKLENBQVNOLFVBQVQ7QUFDRCxDQUxELENBRkY7QUFVQU4s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QUFDUyxPQUFMLEdBQWV2QixHQUFHLENBQUNpQixJQUFKLENBQVNNLE9BQVQsSUFBb0JULElBQUksQ0FBQ1MsT0FBeEM7QUFDQSxVQUFNa0IsV0FBVyxHQUFHLE1BQU0zQixJQUFJLENBQUNlLElBQUwsRUFBMUI7QUFDQTVCLElBQUFBLEdBQUcsQ0FBQ08sSUFBSixDQUFTO0FBQUVrQixNQUFBQSxPQUFPLEVBQUUsY0FBWDtBQUEyQlosTUFBQUEsSUFBSSxFQUFFMkI7QUFBakMsS0FBVDtBQUNELEdBUEQsTUFPTztBQUNMeEMsSUFBQUEsR0FBRyxDQUFDd0IsTUFBSixDQUFXLEdBQVgsRUFBZ0JqQixJQUFoQixDQUFxQjtBQUFFa0IsTUFBQUEsT0FBTyxFQUFFO0FBQVgsS0FBckI7QUFDRDtBQUNGLENBWkQsQ0FKRjtlQW9CZTlCLFUiLCJzb3VyY2VSb290IjoiL1VzZXJzL01lL0Rlc2t0b3AvUmVhY3RQcm9qZWN0cy9lY29tbS9sdXhlc2hvcC9iYWNrZW5kL3JvdXRlcy8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcbmltcG9ydCBleHByZXNzQXN5bmNIYW5kbGVyIGZyb20gJ2V4cHJlc3MtYXN5bmMtaGFuZGxlcic7XG5pbXBvcnQgYmNyeXB0IGZyb20gJ2JjcnlwdGpzJztcbmltcG9ydCBVc2VyIGZyb20gJy4uL3NjaGVtYXMvdXNlck1vZGVsLmpzJztcbmltcG9ydCB7IGdlbmVyYXRlVG9rZW4sIGlzQWRtaW4sIGlzQXV0aCB9IGZyb20gJy4uL3V0aWwuanMnO1xuXG5jb25zdCB1c2VyUm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcblxudXNlclJvdXRlci5nZXQoXG4gICcvdG9wLXNlbGxlcnMnLFxuICBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHRvcFNlbGxlcnMgPSBhd2FpdCBVc2VyLmZpbmQoeyBpc1NlbGxlcjogdHJ1ZSB9KVxuICAgICAgLnNvcnQoeyAnc2VsbGVyLnJhdGluZyc6IC0xIH0pXG4gICAgICAubGltaXQoMyk7XG4gICAgcmVzLnNlbmQodG9wU2VsbGVycyk7XG4gIH0pXG4pO1xuXG51c2VyUm91dGVyLmdldChcbiAgJy9zZWVkJyxcbiAgZXhwcmVzc0FzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICAvLyBhd2FpdCBVc2VyLnJlbW92ZSh7fSk7XG4gICAgY29uc3QgY3JlYXRlZFVzZXJzID0gYXdhaXQgVXNlci5pbnNlcnRNYW55KGRhdGEudXNlcnMpO1xuICAgIHJlcy5zZW5kKHsgY3JlYXRlZFVzZXJzIH0pO1xuICB9KVxuKTtcblxudXNlclJvdXRlci5wb3N0KFxuICAnL3NpZ25pbicsXG4gIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXIuZmluZE9uZSh7IGVtYWlsOiByZXEuYm9keS5lbWFpbCB9KTtcbiAgICBpZiAodXNlcikge1xuICAgICAgaWYgKGJjcnlwdC5jb21wYXJlU3luYyhyZXEuYm9keS5wYXNzd29yZCwgdXNlci5wYXNzd29yZCkpIHtcbiAgICAgICAgcmVzLnNlbmQoe1xuICAgICAgICAgIF9pZDogdXNlci5faWQsXG4gICAgICAgICAgbmFtZTogdXNlci5uYW1lLFxuICAgICAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxuICAgICAgICAgIGlzQWRtaW46IHVzZXIuaXNBZG1pbixcbiAgICAgICAgICBpc1NlbGxlcjogdXNlci5pc1NlbGxlcixcbiAgICAgICAgICB0b2tlbjogZ2VuZXJhdGVUb2tlbih1c2VyKSxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gICAgcmVzLnN0YXR1cyg0MDEpLnNlbmQoeyBtZXNzYWdlOiAnSW52YWxpZCBlbWFpbCBvciBwYXNzd29yZCcgfSk7XG4gIH0pXG4pO1xuXG51c2VyUm91dGVyLnBvc3QoXG4gICcvcmVnaXN0ZXInLFxuICBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHVzZXIgPSBuZXcgVXNlcih7XG4gICAgICBuYW1lOiByZXEuYm9keS5uYW1lLFxuICAgICAgZW1haWw6IHJlcS5ib2R5LmVtYWlsLFxuICAgICAgcGFzc3dvcmQ6IGJjcnlwdC5oYXNoU3luYyhyZXEuYm9keS5wYXNzd29yZCwgOCksXG4gICAgfSk7XG4gICAgY29uc3QgY3JlYXRlZFVzZXIgPSBhd2FpdCB1c2VyLnNhdmUoKTtcbiAgICByZXMuc2VuZCh7XG4gICAgICBfaWQ6IGNyZWF0ZWRVc2VyLl9pZCxcbiAgICAgIG5hbWU6IGNyZWF0ZWRVc2VyLm5hbWUsXG4gICAgICBlbWFpbDogY3JlYXRlZFVzZXIuZW1haWwsXG4gICAgICBpc0FkbWluOiBjcmVhdGVkVXNlci5pc0FkbWluLFxuICAgICAgaXNTZWxsZXI6IHVzZXIuaXNTZWxsZXIsXG4gICAgICB0b2tlbjogZ2VuZXJhdGVUb2tlbihjcmVhdGVkVXNlciksXG4gICAgfSk7XG4gIH0pXG4pO1xuXG51c2VyUm91dGVyLmdldChcbiAgJy86aWQnLFxuICBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyLmZpbmRCeUlkKHJlcS5wYXJhbXMuaWQpO1xuICAgIGlmICh1c2VyKSB7XG4gICAgICByZXMuc2VuZCh1c2VyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoeyBtZXNzYWdlOiAnVXNlciBOb3QgRm91bmQnIH0pO1xuICAgIH1cbiAgfSlcbik7XG51c2VyUm91dGVyLnB1dChcbiAgJy9wcm9maWxlJyxcbiAgaXNBdXRoLFxuICBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyLmZpbmRCeUlkKHJlcS51c2VyLl9pZCk7XG4gICAgaWYgKHVzZXIpIHtcbiAgICAgIHVzZXIubmFtZSA9IHJlcS5ib2R5Lm5hbWUgfHwgdXNlci5uYW1lO1xuICAgICAgdXNlci5lbWFpbCA9IHJlcS5ib2R5LmVtYWlsIHx8IHVzZXIuZW1haWw7XG4gICAgICBpZiAodXNlci5pc1NlbGxlcikge1xuICAgICAgICB1c2VyLnNlbGxlci5uYW1lID0gcmVxLmJvZHkuc2VsbGVyTmFtZSB8fCB1c2VyLnNlbGxlci5uYW1lO1xuICAgICAgICB1c2VyLnNlbGxlci5sb2dvID0gcmVxLmJvZHkuc2VsbGVyTG9nbyB8fCB1c2VyLnNlbGxlci5sb2dvO1xuICAgICAgICB1c2VyLnNlbGxlci5kZXNjcmlwdGlvbiA9XG4gICAgICAgICAgcmVxLmJvZHkuc2VsbGVyRGVzY3JpcHRpb24gfHwgdXNlci5zZWxsZXIuZGVzY3JpcHRpb247XG4gICAgICB9XG4gICAgICBpZiAocmVxLmJvZHkucGFzc3dvcmQpIHtcbiAgICAgICAgdXNlci5wYXNzd29yZCA9IGJjcnlwdC5oYXNoU3luYyhyZXEuYm9keS5wYXNzd29yZCwgOCk7XG4gICAgICB9XG4gICAgICBjb25zdCB1cGRhdGVkVXNlciA9IGF3YWl0IHVzZXIuc2F2ZSgpO1xuICAgICAgcmVzLnNlbmQoe1xuICAgICAgICBfaWQ6IHVwZGF0ZWRVc2VyLl9pZCxcbiAgICAgICAgbmFtZTogdXBkYXRlZFVzZXIubmFtZSxcbiAgICAgICAgZW1haWw6IHVwZGF0ZWRVc2VyLmVtYWlsLFxuICAgICAgICBpc0FkbWluOiB1cGRhdGVkVXNlci5pc0FkbWluLFxuICAgICAgICBpc1NlbGxlcjogdXNlci5pc1NlbGxlcixcbiAgICAgICAgdG9rZW46IGdlbmVyYXRlVG9rZW4odXBkYXRlZFVzZXIpLFxuICAgICAgfSk7XG4gICAgfVxuICB9KVxuKTtcblxudXNlclJvdXRlci5nZXQoXG4gICcvJyxcbiAgaXNBdXRoLFxuICBpc0FkbWluLFxuICBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHVzZXJzID0gYXdhaXQgVXNlci5maW5kKHt9KTtcbiAgICByZXMuc2VuZCh1c2Vycyk7XG4gIH0pXG4pO1xuXG51c2VyUm91dGVyLmRlbGV0ZShcbiAgJy86aWQnLFxuICBpc0F1dGgsXG4gIGlzQWRtaW4sXG4gIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXIuZmluZEJ5SWQocmVxLnBhcmFtcy5pZCk7XG4gICAgaWYgKHVzZXIpIHtcbiAgICAgIGlmICh1c2VyLmVtYWlsID09PSAnYWRtaW5AZXhhbXBsZS5jb20nKSB7XG4gICAgICAgIHJlcy5zdGF0dXMoNDAwKS5zZW5kKHsgbWVzc2FnZTogJ0NhbiBOb3QgRGVsZXRlIEFkbWluIFVzZXInIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBkZWxldGVVc2VyID0gYXdhaXQgdXNlci5yZW1vdmUoKTtcbiAgICAgIHJlcy5zZW5kKHsgbWVzc2FnZTogJ1VzZXIgRGVsZXRlZCcsIHVzZXI6IGRlbGV0ZVVzZXIgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHsgbWVzc2FnZTogJ1VzZXIgTm90IEZvdW5kJyB9KTtcbiAgICB9XG4gIH0pXG4pO1xuXG51c2VyUm91dGVyLnB1dChcbiAgJy86aWQnLFxuICBpc0F1dGgsXG4gIGlzQWRtaW4sXG4gIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXIuZmluZEJ5SWQocmVxLnBhcmFtcy5pZCk7XG4gICAgaWYgKHVzZXIpIHtcbiAgICAgIHVzZXIubmFtZSA9IHJlcS5ib2R5Lm5hbWUgfHwgdXNlci5uYW1lO1xuICAgICAgdXNlci5lbWFpbCA9IHJlcS5ib2R5LmVtYWlsIHx8IHVzZXIuZW1haWw7XG4gICAgICB1c2VyLmlzU2VsbGVyID0gcmVxLmJvZHkuaXNTZWxsZXIgfHwgdXNlci5pc1NlbGxlcjtcbiAgICAgIHVzZXIuaXNBZG1pbiA9IHJlcS5ib2R5LmlzQWRtaW4gfHwgdXNlci5pc0FkbWluO1xuICAgICAgY29uc3QgdXBkYXRlZFVzZXIgPSBhd2FpdCB1c2VyLnNhdmUoKTtcbiAgICAgIHJlcy5zZW5kKHsgbWVzc2FnZTogJ1VzZXIgVXBkYXRlZCcsIHVzZXI6IHVwZGF0ZWRVc2VyIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCh7IG1lc3NhZ2U6ICdVc2VyIE5vdCBGb3VuZCcgfSk7XG4gICAgfVxuICB9KVxuKTtcblxuXG5leHBvcnQgZGVmYXVsdCB1c2VyUm91dGVyO1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "userRouter.js"
      ],
      "names": [
        "userRouter",
        "express",
        "Router",
        "get",
        "req",
        "res",
        "topSellers",
        "User",
        "find",
        "isSeller",
        "sort",
        "limit",
        "send",
        "createdUsers",
        "insertMany",
        "data",
        "users",
        "post",
        "user",
        "findOne",
        "email",
        "body",
        "bcrypt",
        "compareSync",
        "password",
        "_id",
        "name",
        "isAdmin",
        "token",
        "status",
        "message",
        "hashSync",
        "createdUser",
        "save",
        "findById",
        "params",
        "id",
        "put",
        "isAuth",
        "seller",
        "sellerName",
        "logo",
        "sellerLogo",
        "description",
        "sellerDescription",
        "updatedUser",
        "delete",
        "deleteUser",
        "remove"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/",
      "sourcesContent": [
        "import express from 'express';\nimport expressAsyncHandler from 'express-async-handler';\nimport bcrypt from 'bcryptjs';\nimport User from '../schemas/userModel.js';\nimport { generateToken, isAdmin, isAuth } from '../util.js';\n\nconst userRouter = express.Router();\n\nuserRouter.get(\n  '/top-sellers',\n  expressAsyncHandler(async (req, res) => {\n    const topSellers = await User.find({ isSeller: true })\n      .sort({ 'seller.rating': -1 })\n      .limit(3);\n    res.send(topSellers);\n  })\n);\n\nuserRouter.get(\n  '/seed',\n  expressAsyncHandler(async (req, res) => {\n    // await User.remove({});\n    const createdUsers = await User.insertMany(data.users);\n    res.send({ createdUsers });\n  })\n);\n\nuserRouter.post(\n  '/signin',\n  expressAsyncHandler(async (req, res) => {\n    const user = await User.findOne({ email: req.body.email });\n    if (user) {\n      if (bcrypt.compareSync(req.body.password, user.password)) {\n        res.send({\n          _id: user._id,\n          name: user.name,\n          email: user.email,\n          isAdmin: user.isAdmin,\n          isSeller: user.isSeller,\n          token: generateToken(user),\n        });\n        return;\n      }\n    }\n    res.status(401).send({ message: 'Invalid email or password' });\n  })\n);\n\nuserRouter.post(\n  '/register',\n  expressAsyncHandler(async (req, res) => {\n    const user = new User({\n      name: req.body.name,\n      email: req.body.email,\n      password: bcrypt.hashSync(req.body.password, 8),\n    });\n    const createdUser = await user.save();\n    res.send({\n      _id: createdUser._id,\n      name: createdUser.name,\n      email: createdUser.email,\n      isAdmin: createdUser.isAdmin,\n      isSeller: user.isSeller,\n      token: generateToken(createdUser),\n    });\n  })\n);\n\nuserRouter.get(\n  '/:id',\n  expressAsyncHandler(async (req, res) => {\n    const user = await User.findById(req.params.id);\n    if (user) {\n      res.send(user);\n    } else {\n      res.status(404).send({ message: 'User Not Found' });\n    }\n  })\n);\nuserRouter.put(\n  '/profile',\n  isAuth,\n  expressAsyncHandler(async (req, res) => {\n    const user = await User.findById(req.user._id);\n    if (user) {\n      user.name = req.body.name || user.name;\n      user.email = req.body.email || user.email;\n      if (user.isSeller) {\n        user.seller.name = req.body.sellerName || user.seller.name;\n        user.seller.logo = req.body.sellerLogo || user.seller.logo;\n        user.seller.description =\n          req.body.sellerDescription || user.seller.description;\n      }\n      if (req.body.password) {\n        user.password = bcrypt.hashSync(req.body.password, 8);\n      }\n      const updatedUser = await user.save();\n      res.send({\n        _id: updatedUser._id,\n        name: updatedUser.name,\n        email: updatedUser.email,\n        isAdmin: updatedUser.isAdmin,\n        isSeller: user.isSeller,\n        token: generateToken(updatedUser),\n      });\n    }\n  })\n);\n\nuserRouter.get(\n  '/',\n  isAuth,\n  isAdmin,\n  expressAsyncHandler(async (req, res) => {\n    const users = await User.find({});\n    res.send(users);\n  })\n);\n\nuserRouter.delete(\n  '/:id',\n  isAuth,\n  isAdmin,\n  expressAsyncHandler(async (req, res) => {\n    const user = await User.findById(req.params.id);\n    if (user) {\n      if (user.email === 'admin@example.com') {\n        res.status(400).send({ message: 'Can Not Delete Admin User' });\n        return;\n      }\n      const deleteUser = await user.remove();\n      res.send({ message: 'User Deleted', user: deleteUser });\n    } else {\n      res.status(404).send({ message: 'User Not Found' });\n    }\n  })\n);\n\nuserRouter.put(\n  '/:id',\n  isAuth,\n  isAdmin,\n  expressAsyncHandler(async (req, res) => {\n    const user = await User.findById(req.params.id);\n    if (user) {\n      user.name = req.body.name || user.name;\n      user.email = req.body.email || user.email;\n      user.isSeller = req.body.isSeller || user.isSeller;\n      user.isAdmin = req.body.isAdmin || user.isAdmin;\n      const updatedUser = await user.save();\n      res.send({ message: 'User Updated', user: updatedUser });\n    } else {\n      res.status(404).send({ message: 'User Not Found' });\n    }\n  })\n);\n\n\nexport default userRouter;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1607065305527
  },
  "{\"sourceRoot\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop\",\"filename\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/orderRouter.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop",
      "filename": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/orderRouter.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/orderRouter.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/orderRouter.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/",
        "sourceFileName": "orderRouter.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _expressAsyncHandler = _interopRequireDefault(require(\"express-async-handler\"));\n\nvar _orderModel = _interopRequireDefault(require(\"../schemas/orderModel.js\"));\n\nvar _util = require(\"../util.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst orderRouter = _express.default.Router();\n\norderRouter.get('/', _util.isAuth, _util.isSellerOrAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const seller = req.query.seller || '';\n  const sellerFilter = seller ? {\n    seller\n  } : {};\n  const orders = await _orderModel.default.find({ ...sellerFilter\n  }).populate('user', 'name');\n  res.send(orders);\n}));\norderRouter.get('/mine', _util.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const orders = await _orderModel.default.find({\n    user: req.user._id\n  });\n  res.send(orders);\n}));\norderRouter.post('/', _util.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  if (req.body.orderItems.length === 0) {\n    res.status(400).send({\n      message: 'Cart is empty'\n    });\n  } else {\n    const order = new _orderModel.default({\n      seller: req.body.orderItems[0].seller,\n      orderItems: req.body.orderItems,\n      shippingAddress: req.body.shippingAddress,\n      paymentMethod: req.body.paymentMethod,\n      itemsPrice: req.body.itemsPrice,\n      shippingPrice: req.body.shippingPrice,\n      taxPrice: req.body.taxPrice,\n      totalPrice: req.body.totalPrice,\n      user: req.user._id\n    });\n    const createdOrder = await order.save();\n    res.status(201).send({\n      message: 'New Order Created',\n      order: createdOrder\n    });\n  }\n}));\norderRouter.get('/:id', _util.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const order = await _orderModel.default.findById(req.params.id);\n\n  if (order) {\n    res.send(order);\n  } else {\n    res.status(404).send({\n      message: 'Order Not Found'\n    });\n  }\n}));\norderRouter.put('/:id/pay', _util.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const order = await _orderModel.default.findById(req.params.id);\n\n  if (order) {\n    order.isPaid = true;\n    order.paidAt = Date.now();\n    order.paymentResult = {\n      id: req.body.id,\n      status: req.body.status,\n      update_time: req.body.update_time,\n      email_address: req.body.email_address\n    };\n    const updatedOrder = await order.save();\n    res.send({\n      message: 'Order Paid',\n      order: updatedOrder\n    });\n  } else {\n    res.status(404).send({\n      message: 'Order Not Found'\n    });\n  }\n}));\norderRouter.delete('/:id', _util.isAuth, _util.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const order = await _orderModel.default.findById(req.params.id);\n\n  if (order) {\n    const deleteOrder = await order.remove();\n    res.send({\n      message: 'Order Deleted',\n      order: deleteOrder\n    });\n  } else {\n    res.status(404).send({\n      message: 'Order Not Found'\n    });\n  }\n}));\norderRouter.put('/:id/deliver', _util.isAuth, _util.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const order = await _orderModel.default.findById(req.params.id);\n\n  if (order) {\n    order.isDelivered = true;\n    order.deliveredAt = Date.now();\n    const updatedOrder = await order.save();\n    res.send({\n      message: 'Order Delivered',\n      order: updatedOrder\n    });\n  } else {\n    res.status(404).send({\n      message: 'Order Not Found'\n    });\n  }\n}));\nvar _default = orderRouter;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9yZGVyUm91dGVyLmpzIl0sIm5hbWVzIjpbIm9yZGVyUm91dGVyIiwiZXhwcmVzcyIsIlJvdXRlciIsImdldCIsImlzQXV0aCIsImlzU2VsbGVyT3JBZG1pbiIsInJlcSIsInJlcyIsInNlbGxlciIsInF1ZXJ5Iiwic2VsbGVyRmlsdGVyIiwib3JkZXJzIiwiT3JkZXIiLCJmaW5kIiwicG9wdWxhdGUiLCJzZW5kIiwidXNlciIsIl9pZCIsInBvc3QiLCJib2R5Iiwib3JkZXJJdGVtcyIsImxlbmd0aCIsInN0YXR1cyIsIm1lc3NhZ2UiLCJvcmRlciIsInNoaXBwaW5nQWRkcmVzcyIsInBheW1lbnRNZXRob2QiLCJpdGVtc1ByaWNlIiwic2hpcHBpbmdQcmljZSIsInRheFByaWNlIiwidG90YWxQcmljZSIsImNyZWF0ZWRPcmRlciIsInNhdmUiLCJmaW5kQnlJZCIsInBhcmFtcyIsImlkIiwicHV0IiwiaXNQYWlkIiwicGFpZEF0IiwiRGF0ZSIsIm5vdyIsInBheW1lbnRSZXN1bHQiLCJ1cGRhdGVfdGltZSIsImVtYWlsX2FkZHJlc3MiLCJ1cGRhdGVkT3JkZXIiLCJkZWxldGUiLCJpc0FkbWluIiwiZGVsZXRlT3JkZXIiLCJyZW1vdmUiLCJpc0RlbGl2ZXJlZCIsImRlbGl2ZXJlZEF0Il0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7QUFFQSxNQUFNQSxXQUFXLEdBQUdDLGlCQUFRQyxNQUFSLEVBQXBCOztBQUNBRixXQUFXLENBQUNHLEdBQVosQ0FDRSxHQURGLEVBRUVDLFlBRkYsRUFHRUMscUJBSEYsRUFJRSxrQ0FBb0IsT0FBT0MsR0FBUCxFQUFZQyxHQUFaLEtBQW9CO0FBQ3RDLFFBQU1DLE1BQU0sR0FBR0YsR0FBRyxDQUFDRyxLQUFKLENBQVVELE1BQVYsSUFBb0IsRUFBbkM7QUFDQSxRQUFNRSxZQUFZLEdBQUdGLE1BQU0sR0FBRztBQUFFQSxJQUFBQTtBQUFGLEdBQUgsR0FBZ0IsRUFBM0M7QUFFQSxRQUFN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RixDQVhELENBSkY7ZUFrQmV2QixXIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9NZS9EZXNrdG9wL1JlYWN0UHJvamVjdHMvZWNvbW0vbHV4ZXNob3AvYmFja2VuZC9yb3V0ZXMvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgZXhwcmVzc0FzeW5jSGFuZGxlciBmcm9tICdleHByZXNzLWFzeW5jLWhhbmRsZXInO1xuaW1wb3J0IE9yZGVyIGZyb20gJy4uL3NjaGVtYXMvb3JkZXJNb2RlbC5qcyc7XG5pbXBvcnQgeyBpc0FkbWluLCBpc0F1dGgsIGlzU2VsbGVyT3JBZG1pbiB9IGZyb20gJy4uL3V0aWwuanMnO1xuXG5jb25zdCBvcmRlclJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5vcmRlclJvdXRlci5nZXQoXG4gICcvJyxcbiAgaXNBdXRoLFxuICBpc1NlbGxlck9yQWRtaW4sXG4gIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc3Qgc2VsbGVyID0gcmVxLnF1ZXJ5LnNlbGxlciB8fCAnJztcbiAgICBjb25zdCBzZWxsZXJGaWx0ZXIgPSBzZWxsZXIgPyB7IHNlbGxlciB9IDoge307XG5cbiAgICBjb25zdCBvcmRlcnMgPSBhd2FpdCBPcmRlci5maW5kKHsgLi4uc2VsbGVyRmlsdGVyIH0pLnBvcHVsYXRlKFxuICAgICAgJ3VzZXInLFxuICAgICAgJ25hbWUnXG4gICAgKTtcbiAgICByZXMuc2VuZChvcmRlcnMpO1xuICB9KVxuKTtcbm9yZGVyUm91dGVyLmdldChcbiAgJy9taW5lJyxcbiAgaXNBdXRoLFxuICBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IG9yZGVycyA9IGF3YWl0IE9yZGVyLmZpbmQoeyB1c2VyOiByZXEudXNlci5faWQgfSk7XG4gICAgcmVzLnNlbmQob3JkZXJzKTtcbiAgfSlcbik7XG5cbm9yZGVyUm91dGVyLnBvc3QoXG4gICcvJyxcbiAgaXNBdXRoLFxuICBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGlmIChyZXEuYm9keS5vcmRlckl0ZW1zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmVzLnN0YXR1cyg0MDApLnNlbmQoeyBtZXNzYWdlOiAnQ2FydCBpcyBlbXB0eScgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IG9yZGVyID0gbmV3IE9yZGVyKHtcbiAgICAgICAgc2VsbGVyOiByZXEuYm9keS5vcmRlckl0ZW1zWzBdLnNlbGxlcixcbiAgICAgICAgb3JkZXJJdGVtczogcmVxLmJvZHkub3JkZXJJdGVtcyxcbiAgICAgICAgc2hpcHBpbmdBZGRyZXNzOiByZXEuYm9keS5zaGlwcGluZ0FkZHJlc3MsXG4gICAgICAgIHBheW1lbnRNZXRob2Q6IHJlcS5ib2R5LnBheW1lbnRNZXRob2QsXG4gICAgICAgIGl0ZW1zUHJpY2U6IHJlcS5ib2R5Lml0ZW1zUHJpY2UsXG4gICAgICAgIHNoaXBwaW5nUHJpY2U6IHJlcS5ib2R5LnNoaXBwaW5nUHJpY2UsXG4gICAgICAgIHRheFByaWNlOiByZXEuYm9keS50YXhQcmljZSxcbiAgICAgICAgdG90YWxQcmljZTogcmVxLmJvZHkudG90YWxQcmljZSxcbiAgICAgICAgdXNlcjogcmVxLnVzZXIuX2lkLFxuICAgICAgfSk7XG4gICAgICBjb25zdCBjcmVhdGVkT3JkZXIgPSBhd2FpdCBvcmRlci5zYXZlKCk7XG4gICAgICByZXNcbiAgICAgICAgLnN0YXR1cygyMDEpXG4gICAgICAgIC5zZW5kKHsgbWVzc2FnZTogJ05ldyBPcmRlciBDcmVhdGVkJywgb3JkZXI6IGNyZWF0ZWRPcmRlciB9KTtcbiAgICB9XG4gIH0pXG4pO1xuXG5vcmRlclJvdXRlci5nZXQoXG4gICcvOmlkJyxcbiAgaXNBdXRoLFxuICBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IG9yZGVyID0gYXdhaXQgT3JkZXIuZmluZEJ5SWQocmVxLnBhcmFtcy5pZCk7XG4gICAgaWYgKG9yZGVyKSB7XG4gICAgICByZXMuc2VuZChvcmRlcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHsgbWVzc2FnZTogJ09yZGVyIE5vdCBGb3VuZCcgfSk7XG4gICAgfVxuICB9KVxuKTtcblxub3JkZXJSb3V0ZXIucHV0KFxuICAnLzppZC9wYXknLFxuICBpc0F1dGgsXG4gIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc3Qgb3JkZXIgPSBhd2FpdCBPcmRlci5maW5kQnlJZChyZXEucGFyYW1zLmlkKTtcbiAgICBpZiAob3JkZXIpIHtcbiAgICAgIG9yZGVyLmlzUGFpZCA9IHRydWU7XG4gICAgICBvcmRlci5wYWlkQXQgPSBEYXRlLm5vdygpO1xuICAgICAgb3JkZXIucGF5bWVudFJlc3VsdCA9IHtcbiAgICAgICAgaWQ6IHJlcS5ib2R5LmlkLFxuICAgICAgICBzdGF0dXM6IHJlcS5ib2R5LnN0YXR1cyxcbiAgICAgICAgdXBkYXRlX3RpbWU6IHJlcS5ib2R5LnVwZGF0ZV90aW1lLFxuICAgICAgICBlbWFpbF9hZGRyZXNzOiByZXEuYm9keS5lbWFpbF9hZGRyZXNzLFxuICAgICAgfTtcbiAgICAgIGNvbnN0IHVwZGF0ZWRPcmRlciA9IGF3YWl0IG9yZGVyLnNhdmUoKTtcbiAgICAgIHJlcy5zZW5kKHsgbWVzc2FnZTogJ09yZGVyIFBhaWQnLCBvcmRlcjogdXBkYXRlZE9yZGVyIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCh7IG1lc3NhZ2U6ICdPcmRlciBOb3QgRm91bmQnIH0pO1xuICAgIH1cbiAgfSlcbik7XG5cbm9yZGVyUm91dGVyLmRlbGV0ZShcbiAgJy86aWQnLFxuICBpc0F1dGgsXG4gIGlzQWRtaW4sXG4gIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc3Qgb3JkZXIgPSBhd2FpdCBPcmRlci5maW5kQnlJZChyZXEucGFyYW1zLmlkKTtcbiAgICBpZiAob3JkZXIpIHtcbiAgICAgIGNvbnN0IGRlbGV0ZU9yZGVyID0gYXdhaXQgb3JkZXIucmVtb3ZlKCk7XG4gICAgICByZXMuc2VuZCh7IG1lc3NhZ2U6ICdPcmRlciBEZWxldGVkJywgb3JkZXI6IGRlbGV0ZU9yZGVyIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCh7IG1lc3NhZ2U6ICdPcmRlciBOb3QgRm91bmQnIH0pO1xuICAgIH1cbiAgfSlcbik7XG5cbm9yZGVyUm91dGVyLnB1dChcbiAgJy86aWQvZGVsaXZlcicsXG4gIGlzQXV0aCxcbiAgaXNBZG1pbixcbiAgZXhwcmVzc0FzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCBvcmRlciA9IGF3YWl0IE9yZGVyLmZpbmRCeUlkKHJlcS5wYXJhbXMuaWQpO1xuICAgIGlmIChvcmRlcikge1xuICAgICAgb3JkZXIuaXNEZWxpdmVyZWQgPSB0cnVlO1xuICAgICAgb3JkZXIuZGVsaXZlcmVkQXQgPSBEYXRlLm5vdygpO1xuXG4gICAgICBjb25zdCB1cGRhdGVkT3JkZXIgPSBhd2FpdCBvcmRlci5zYXZlKCk7XG4gICAgICByZXMuc2VuZCh7IG1lc3NhZ2U6ICdPcmRlciBEZWxpdmVyZWQnLCBvcmRlcjogdXBkYXRlZE9yZGVyIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCh7IG1lc3NhZ2U6ICdPcmRlciBOb3QgRm91bmQnIH0pO1xuICAgIH1cbiAgfSlcbik7XG5cbmV4cG9ydCBkZWZhdWx0IG9yZGVyUm91dGVyO1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "orderRouter.js"
      ],
      "names": [
        "orderRouter",
        "express",
        "Router",
        "get",
        "isAuth",
        "isSellerOrAdmin",
        "req",
        "res",
        "seller",
        "query",
        "sellerFilter",
        "orders",
        "Order",
        "find",
        "populate",
        "send",
        "user",
        "_id",
        "post",
        "body",
        "orderItems",
        "length",
        "status",
        "message",
        "order",
        "shippingAddress",
        "paymentMethod",
        "itemsPrice",
        "shippingPrice",
        "taxPrice",
        "totalPrice",
        "createdOrder",
        "save",
        "findById",
        "params",
        "id",
        "put",
        "isPaid",
        "paidAt",
        "Date",
        "now",
        "paymentResult",
        "update_time",
        "email_address",
        "updatedOrder",
        "delete",
        "isAdmin",
        "deleteOrder",
        "remove",
        "isDelivered",
        "deliveredAt"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/",
      "sourcesContent": [
        "import express from 'express';\nimport expressAsyncHandler from 'express-async-handler';\nimport Order from '../schemas/orderModel.js';\nimport { isAdmin, isAuth, isSellerOrAdmin } from '../util.js';\n\nconst orderRouter = express.Router();\norderRouter.get(\n  '/',\n  isAuth,\n  isSellerOrAdmin,\n  expressAsyncHandler(async (req, res) => {\n    const seller = req.query.seller || '';\n    const sellerFilter = seller ? { seller } : {};\n\n    const orders = await Order.find({ ...sellerFilter }).populate(\n      'user',\n      'name'\n    );\n    res.send(orders);\n  })\n);\norderRouter.get(\n  '/mine',\n  isAuth,\n  expressAsyncHandler(async (req, res) => {\n    const orders = await Order.find({ user: req.user._id });\n    res.send(orders);\n  })\n);\n\norderRouter.post(\n  '/',\n  isAuth,\n  expressAsyncHandler(async (req, res) => {\n    if (req.body.orderItems.length === 0) {\n      res.status(400).send({ message: 'Cart is empty' });\n    } else {\n      const order = new Order({\n        seller: req.body.orderItems[0].seller,\n        orderItems: req.body.orderItems,\n        shippingAddress: req.body.shippingAddress,\n        paymentMethod: req.body.paymentMethod,\n        itemsPrice: req.body.itemsPrice,\n        shippingPrice: req.body.shippingPrice,\n        taxPrice: req.body.taxPrice,\n        totalPrice: req.body.totalPrice,\n        user: req.user._id,\n      });\n      const createdOrder = await order.save();\n      res\n        .status(201)\n        .send({ message: 'New Order Created', order: createdOrder });\n    }\n  })\n);\n\norderRouter.get(\n  '/:id',\n  isAuth,\n  expressAsyncHandler(async (req, res) => {\n    const order = await Order.findById(req.params.id);\n    if (order) {\n      res.send(order);\n    } else {\n      res.status(404).send({ message: 'Order Not Found' });\n    }\n  })\n);\n\norderRouter.put(\n  '/:id/pay',\n  isAuth,\n  expressAsyncHandler(async (req, res) => {\n    const order = await Order.findById(req.params.id);\n    if (order) {\n      order.isPaid = true;\n      order.paidAt = Date.now();\n      order.paymentResult = {\n        id: req.body.id,\n        status: req.body.status,\n        update_time: req.body.update_time,\n        email_address: req.body.email_address,\n      };\n      const updatedOrder = await order.save();\n      res.send({ message: 'Order Paid', order: updatedOrder });\n    } else {\n      res.status(404).send({ message: 'Order Not Found' });\n    }\n  })\n);\n\norderRouter.delete(\n  '/:id',\n  isAuth,\n  isAdmin,\n  expressAsyncHandler(async (req, res) => {\n    const order = await Order.findById(req.params.id);\n    if (order) {\n      const deleteOrder = await order.remove();\n      res.send({ message: 'Order Deleted', order: deleteOrder });\n    } else {\n      res.status(404).send({ message: 'Order Not Found' });\n    }\n  })\n);\n\norderRouter.put(\n  '/:id/deliver',\n  isAuth,\n  isAdmin,\n  expressAsyncHandler(async (req, res) => {\n    const order = await Order.findById(req.params.id);\n    if (order) {\n      order.isDelivered = true;\n      order.deliveredAt = Date.now();\n\n      const updatedOrder = await order.save();\n      res.send({ message: 'Order Delivered', order: updatedOrder });\n    } else {\n      res.status(404).send({ message: 'Order Not Found' });\n    }\n  })\n);\n\nexport default orderRouter;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1607065228625
  },
  "{\"sourceRoot\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop\",\"filename\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/uploadRouter.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop",
      "filename": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/uploadRouter.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/uploadRouter.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/uploadRouter.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/",
        "sourceFileName": "uploadRouter.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _multer = _interopRequireDefault(require(\"multer\"));\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _util = require(\"../util.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst uploadRouter = _express.default.Router();\n\nconst storage = _multer.default.diskStorage({\n  destination(req, file, cb) {\n    cb(null, 'uploads/');\n  },\n\n  filename(req, file, cb) {\n    cb(null, `${Date.now()}.jpg`);\n  }\n\n});\n\nconst upload = (0, _multer.default)({\n  storage\n});\nuploadRouter.post('/', _util.isAuth, upload.single('image'), (req, res) => {\n  res.send(`/${req.file.path}`);\n});\nvar _default = uploadRouter;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVwbG9hZFJvdXRlci5qcyJdLCJuYW1lcyI6WyJ1cGxvYWRSb3V0ZXIiLCJleHByZXNzIiwiUm91dGVyIiwic3RvcmFnZSIsIm11bHRlciIsImRpc2tTdG9yYWdlIiwiZGVzdGluYXRpb24iLCJyZXEiLCJmaWxlIiwiY2IiLCJmaWxlbmFtZSIsIkRhdGUiLCJub3ciLCJ1cGxvYWQiLCJwb3N0IiwiaXNBdXRoIiwic2luZ2xlIiwicmVzIiwic2VuZCIsInBhdGgiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7OztBQUVBLE1BQU1BLFlBQVksR0FBR0MsaUJBQVFDLE1BQVIsRUFBckI7O0FBRUEsTUFBTUMsT0FBTyxHQUFHQyxnQkFBT0MsV0FBUCxDQUFtQjtBQUNqQ0MsRUFBQUEsV0FBVyxDQUFDQyxHQUFELEVBQU1DLElBQU4sRUFBWUMsRUFBWixFQUFnQjtBQUN6QkEsSUFBQUEsRUFBRSxDQUFDLElBQUQsRUFBTyxVQUFQLENBQUY7QUFDRCxHQUhnQzs7QUFJakNDLEVBQUFBLFFBQVEsQ0FBQ0gsR0FBRCxFQUFNQyxJQUFOLEVBQVlDLEVBQVosRUFBZ0I7QUFDdEJBLElBQUFBLEVBQUUsQ0FBQyxJQUFELEVBQVEsR0FBRUUsSUFBSSxDQUFDQyxHQUFMLEVBQVcsTUFBckIsQ0FBRjtBQUNEOztBQU5nQyxDQUFuQixDQUFoQjs7QUFTQSxNQUFNQyxNQUFNLEdBQUcscUJBQU87QUFBRVYsRUFBQUE7QUFBRixDQUFQLENBQWY7QUFFQUgsWUFBWSxDQUFDYyxJQUFiLENBQWtCLEdBQWxCLEVBQXVCQyxZQUF2QixFQUErQkYsTUFBTSxDQUFDRyxNQUFQLENBQWMsT0FBZCxDQUEvQixFQUF1RCxDQUFDVCxHQUFELEVBQU1VLEdBQU4sS0FBYztBQUNuRUEsRUFBQUEsR0FBRyxDQUFDQyxJQUFKLENBQVUsSUFBR1gsR0FBRyxDQUFDQyxJQUFKLENBQVNXLElBQUssRUFBM0I7QUFDRCxDQUZEO2VBSWVuQixZIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9NZS9EZXNrdG9wL1JlYWN0UHJvamVjdHMvZWNvbW0vbHV4ZXNob3AvYmFja2VuZC9yb3V0ZXMvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG11bHRlciBmcm9tICdtdWx0ZXInO1xuaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgeyBpc0F1dGggfSBmcm9tICcuLi91dGlsLmpzJztcblxuY29uc3QgdXBsb2FkUm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcblxuY29uc3Qgc3RvcmFnZSA9IG11bHRlci5kaXNrU3RvcmFnZSh7XG4gIGRlc3RpbmF0aW9uKHJlcSwgZmlsZSwgY2IpIHtcbiAgICBjYihudWxsLCAndXBsb2Fkcy8nKTtcbiAgfSxcbiAgZmlsZW5hbWUocmVxLCBmaWxlLCBjYikge1xuICAgIGNiKG51bGwsIGAke0RhdGUubm93KCl9LmpwZ2ApO1xuICB9LFxufSk7XG5cbmNvbnN0IHVwbG9hZCA9IG11bHRlcih7IHN0b3JhZ2UgfSk7XG5cbnVwbG9hZFJvdXRlci5wb3N0KCcvJywgaXNBdXRoLCB1cGxvYWQuc2luZ2xlKCdpbWFnZScpLCAocmVxLCByZXMpID0+IHtcbiAgcmVzLnNlbmQoYC8ke3JlcS5maWxlLnBhdGh9YCk7XG59KTtcblxuZXhwb3J0IGRlZmF1bHQgdXBsb2FkUm91dGVyO1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "uploadRouter.js"
      ],
      "names": [
        "uploadRouter",
        "express",
        "Router",
        "storage",
        "multer",
        "diskStorage",
        "destination",
        "req",
        "file",
        "cb",
        "filename",
        "Date",
        "now",
        "upload",
        "post",
        "isAuth",
        "single",
        "res",
        "send",
        "path"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;;;AAEA,MAAMA,YAAY,GAAGC,iBAAQC,MAAR,EAArB;;AAEA,MAAMC,OAAO,GAAGC,gBAAOC,WAAP,CAAmB;AACjCC,EAAAA,WAAW,CAACC,GAAD,EAAMC,IAAN,EAAYC,EAAZ,EAAgB;AACzBA,IAAAA,EAAE,CAAC,IAAD,EAAO,UAAP,CAAF;AACD,GAHgC;;AAIjCC,EAAAA,QAAQ,CAACH,GAAD,EAAMC,IAAN,EAAYC,EAAZ,EAAgB;AACtBA,IAAAA,EAAE,CAAC,IAAD,EAAQ,GAAEE,IAAI,CAACC,GAAL,EAAW,MAArB,CAAF;AACD;;AANgC,CAAnB,CAAhB;;AASA,MAAMC,MAAM,GAAG,qBAAO;AAAEV,EAAAA;AAAF,CAAP,CAAf;AAEAH,YAAY,CAACc,IAAb,CAAkB,GAAlB,EAAuBC,YAAvB,EAA+BF,MAAM,CAACG,MAAP,CAAc,OAAd,CAA/B,EAAuD,CAACT,GAAD,EAAMU,GAAN,KAAc;AACnEA,EAAAA,GAAG,CAACC,IAAJ,CAAU,IAAGX,GAAG,CAACC,IAAJ,CAASW,IAAK,EAA3B;AACD,CAFD;eAIenB,Y",
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/",
      "sourcesContent": [
        "import multer from 'multer';\nimport express from 'express';\nimport { isAuth } from '../util.js';\n\nconst uploadRouter = express.Router();\n\nconst storage = multer.diskStorage({\n  destination(req, file, cb) {\n    cb(null, 'uploads/');\n  },\n  filename(req, file, cb) {\n    cb(null, `${Date.now()}.jpg`);\n  },\n});\n\nconst upload = multer({ storage });\n\nuploadRouter.post('/', isAuth, upload.single('image'), (req, res) => {\n  res.send(`/${req.file.path}`);\n});\n\nexport default uploadRouter;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1607064588852
  },
  "{\"sourceRoot\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop\",\"filename\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/orderRouter.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop",
      "filename": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/orderRouter.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/orderRouter.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/orderRouter.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/",
        "sourceFileName": "orderRouter.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _expressAsyncHandler = _interopRequireDefault(require(\"express-async-handler\"));\n\nvar _orderModel = _interopRequireDefault(require(\"../schemas/orderModel.js\"));\n\nvar _util = require(\"../util.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst orderRouter = _express.default.Router();\n\norderRouter.get('/', _util.isAuth, _util.isSellerOrAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const seller = req.query.seller || '';\n  const sellerFilter = seller ? {\n    seller\n  } : {};\n  const orders = await _orderModel.default.find({ ...sellerFilter\n  }).populate('user', 'name');\n  res.send(orders);\n}));\norderRouter.get('/mine', _util.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const orders = await _orderModel.default.find({\n    user: req.user._id\n  });\n  res.send(orders);\n}));\norderRouter.post('/', _util.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  if (req.body.orderItems.length === 0) {\n    res.status(400).send({\n      message: 'Cart is empty'\n    });\n  } else {\n    const order = new _orderModel.default({\n      seller: req.body.orderItems[0].seller,\n      orderItems: req.body.orderItems,\n      shippingAddress: req.body.shippingAddress,\n      paymentMethod: req.body.paymentMethod,\n      itemsPrice: req.body.itemsPrice,\n      shippingPrice: req.body.shippingPrice,\n      taxPrice: req.body.taxPrice,\n      totalPrice: req.body.totalPrice,\n      user: req.user._id\n    });\n    const createdOrder = await order.save();\n    res.status(201).send({\n      message: 'New Order Created',\n      order: createdOrder\n    });\n  }\n}));\norderRouter.get('/:id', _util.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const order = await _orderModel.default.findById(req.params.id);\n\n  if (order) {\n    res.send(order);\n  } else {\n    res.status(404).send({\n      message: 'Order Not Found'\n    });\n  }\n}));\norderRouter.put('/:id/pay', _util.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const order = await _orderModel.default.findById(req.params.id);\n\n  if (order) {\n    order.isPaid = true;\n    order.paidAt = Date.now();\n    order.paymentResult = {\n      id: req.body.id,\n      status: req.body.status,\n      update_time: req.body.update_time,\n      email_address: req.body.email_address\n    };\n    const updatedOrder = await order.save();\n    res.send({\n      message: 'Order Paid',\n      order: updatedOrder\n    });\n  } else {\n    res.status(404).send({\n      message: 'Order Not Found'\n    });\n  }\n}));\norderRouter.delete('/:id', _util.isAuth, _util.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const order = await _orderModel.default.findById(req.params.id);\n\n  if (order) {\n    const deleteOrder = await order.remove();\n    res.send({\n      message: 'Order Deleted',\n      order: deleteOrder\n    });\n  } else {\n    res.status(404).send({\n      message: 'Order Not Found'\n    });\n  }\n}));\norderRouter.put('/:id/deliver', _util.isAuth, _util.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const order = await _orderModel.default.findById(req.params.id);\n\n  if (order) {\n    order.isDelivered = true;\n    order.deliveredAt = Date.now();\n    const updatedOrder = await order.save();\n    res.send({\n      message: 'Order Delivered',\n      order: updatedOrder\n    });\n  } else {\n    res.status(404).send({\n      message: 'Order Not Found'\n    });\n  }\n}));\nvar _default = orderRouter;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9yZGVyUm91dGVyLmpzIl0sIm5hbWVzIjpbIm9yZGVyUm91dGVyIiwiZXhwcmVzcyIsIlJvdXRlciIsImdldCIsImlzQXV0aCIsImlzU2VsbGVyT3JBZG1pbiIsInJlcSIsInJlcyIsInNlbGxlciIsInF1ZXJ5Iiwic2VsbGVyRmlsdGVyIiwib3JkZXJzIiwiT3JkZXIiLCJmaW5kIiwicG9wdWxhdGUiLCJzZW5kIiwidXNlciIsIl9pZCIsInBvc3QiLCJib2R5Iiwib3JkZXJJdGVtcyIsImxlbmd0aCIsInN0YXR1cyIsIm1lc3NhZ2UiLCJvcmRlciIsInNoaXBwaW5nQWRkcmVzcyIsInBheW1lbnRNZXRob2QiLCJpdGVtc1ByaWNlIiwic2hpcHBpbmdQcmljZSIsInRheFByaWNlIiwidG90YWxQcmljZSIsImNyZWF0ZWRPcmRlciIsInNhdmUiLCJmaW5kQnlJZCIsInBhcmFtcyIsImlkIiwicHV0IiwiaXNQYWlkIiwicGFpZEF0IiwiRGF0ZSIsIm5vdyIsInBheW1lbnRSZXN1bHQiLCJ1cGRhdGVfdGltZSIsImVtYWlsX2FkZHJlc3MiLCJ1cGRhdGVkT3JkZXIiLCJkZWxldGUiLCJpc0FkbWluIiwiZGVsZXRlT3JkZXIiLCJyZW1vdmUiLCJpc0RlbGl2ZXJlZCIsImRlbGl2ZXJlZEF0Il0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7QUFFQSxNQUFNQSxXQUFXLEdBQUdDLGlCQUFRQyxNQUFSLEVBQXBCOztBQUNBRixXQUFXLENBQUNHLEdBQVosQ0FDRSxHQURGLEVBRUVDLFlBRkYsRUFHRUMscUJBSEYsRUFJRSxrQ0FBb0IsT0FBT0MsR0FBUCxFQUFZQyxHQUFaLEtBQW9CO0FBQ3RDLFFBQU1DLE1BQU0sR0FBR0YsR0FBRyxDQUFDRyxLQUFKLENBQVVELE1BQVYsSUFBb0IsRUFBbkM7QUFDQSxRQUFNRSxZQUFZLEdBQUdGLE1BQU0sR0FBRztBQUFFQSxJQUFBQTtBQUFGLEdBQUgsR0FBZ0IsRUFBM0M7QUFFQSxRQUFN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RixDQVhELENBSkY7ZUFrQmV2QixXIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9NZS9EZXNrdG9wL1JlYWN0UHJvamVjdHMvZWNvbW0vbHV4ZXNob3AvYmFja2VuZC9yb3V0ZXMvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgZXhwcmVzc0FzeW5jSGFuZGxlciBmcm9tICdleHByZXNzLWFzeW5jLWhhbmRsZXInO1xuaW1wb3J0IE9yZGVyIGZyb20gJy4uL3NjaGVtYXMvb3JkZXJNb2RlbC5qcyc7XG5pbXBvcnQgeyBpc0FkbWluLCBpc0F1dGgsIGlzU2VsbGVyT3JBZG1pbiB9IGZyb20gJy4uL3V0aWwuanMnO1xuXG5jb25zdCBvcmRlclJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5vcmRlclJvdXRlci5nZXQoXG4gICcvJyxcbiAgaXNBdXRoLFxuICBpc1NlbGxlck9yQWRtaW4sXG4gIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc3Qgc2VsbGVyID0gcmVxLnF1ZXJ5LnNlbGxlciB8fCAnJztcbiAgICBjb25zdCBzZWxsZXJGaWx0ZXIgPSBzZWxsZXIgPyB7IHNlbGxlciB9IDoge307XG5cbiAgICBjb25zdCBvcmRlcnMgPSBhd2FpdCBPcmRlci5maW5kKHsgLi4uc2VsbGVyRmlsdGVyIH0pLnBvcHVsYXRlKFxuICAgICAgJ3VzZXInLFxuICAgICAgJ25hbWUnXG4gICAgKTtcbiAgICByZXMuc2VuZChvcmRlcnMpO1xuICB9KVxuKTtcbm9yZGVyUm91dGVyLmdldChcbiAgJy9taW5lJyxcbiAgaXNBdXRoLFxuICBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IG9yZGVycyA9IGF3YWl0IE9yZGVyLmZpbmQoeyB1c2VyOiByZXEudXNlci5faWQgfSk7XG4gICAgcmVzLnNlbmQob3JkZXJzKTtcbiAgfSlcbik7XG5cbm9yZGVyUm91dGVyLnBvc3QoXG4gICcvJyxcbiAgaXNBdXRoLFxuICBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGlmIChyZXEuYm9keS5vcmRlckl0ZW1zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmVzLnN0YXR1cyg0MDApLnNlbmQoeyBtZXNzYWdlOiAnQ2FydCBpcyBlbXB0eScgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IG9yZGVyID0gbmV3IE9yZGVyKHtcbiAgICAgICAgc2VsbGVyOiByZXEuYm9keS5vcmRlckl0ZW1zWzBdLnNlbGxlcixcbiAgICAgICAgb3JkZXJJdGVtczogcmVxLmJvZHkub3JkZXJJdGVtcyxcbiAgICAgICAgc2hpcHBpbmdBZGRyZXNzOiByZXEuYm9keS5zaGlwcGluZ0FkZHJlc3MsXG4gICAgICAgIHBheW1lbnRNZXRob2Q6IHJlcS5ib2R5LnBheW1lbnRNZXRob2QsXG4gICAgICAgIGl0ZW1zUHJpY2U6IHJlcS5ib2R5Lml0ZW1zUHJpY2UsXG4gICAgICAgIHNoaXBwaW5nUHJpY2U6IHJlcS5ib2R5LnNoaXBwaW5nUHJpY2UsXG4gICAgICAgIHRheFByaWNlOiByZXEuYm9keS50YXhQcmljZSxcbiAgICAgICAgdG90YWxQcmljZTogcmVxLmJvZHkudG90YWxQcmljZSxcbiAgICAgICAgdXNlcjogcmVxLnVzZXIuX2lkLFxuICAgICAgfSk7XG4gICAgICBjb25zdCBjcmVhdGVkT3JkZXIgPSBhd2FpdCBvcmRlci5zYXZlKCk7XG4gICAgICByZXNcbiAgICAgICAgLnN0YXR1cygyMDEpXG4gICAgICAgIC5zZW5kKHsgbWVzc2FnZTogJ05ldyBPcmRlciBDcmVhdGVkJywgb3JkZXI6IGNyZWF0ZWRPcmRlciB9KTtcbiAgICB9XG4gIH0pXG4pO1xuXG5vcmRlclJvdXRlci5nZXQoXG4gICcvOmlkJyxcbiAgaXNBdXRoLFxuICBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IG9yZGVyID0gYXdhaXQgT3JkZXIuZmluZEJ5SWQocmVxLnBhcmFtcy5pZCk7XG4gICAgaWYgKG9yZGVyKSB7XG4gICAgICByZXMuc2VuZChvcmRlcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHsgbWVzc2FnZTogJ09yZGVyIE5vdCBGb3VuZCcgfSk7XG4gICAgfVxuICB9KVxuKTtcblxub3JkZXJSb3V0ZXIucHV0KFxuICAnLzppZC9wYXknLFxuICBpc0F1dGgsXG4gIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc3Qgb3JkZXIgPSBhd2FpdCBPcmRlci5maW5kQnlJZChyZXEucGFyYW1zLmlkKTtcbiAgICBpZiAob3JkZXIpIHtcbiAgICAgIG9yZGVyLmlzUGFpZCA9IHRydWU7XG4gICAgICBvcmRlci5wYWlkQXQgPSBEYXRlLm5vdygpO1xuICAgICAgb3JkZXIucGF5bWVudFJlc3VsdCA9IHtcbiAgICAgICAgaWQ6IHJlcS5ib2R5LmlkLFxuICAgICAgICBzdGF0dXM6IHJlcS5ib2R5LnN0YXR1cyxcbiAgICAgICAgdXBkYXRlX3RpbWU6IHJlcS5ib2R5LnVwZGF0ZV90aW1lLFxuICAgICAgICBlbWFpbF9hZGRyZXNzOiByZXEuYm9keS5lbWFpbF9hZGRyZXNzLFxuICAgICAgfTtcbiAgICAgIGNvbnN0IHVwZGF0ZWRPcmRlciA9IGF3YWl0IG9yZGVyLnNhdmUoKTtcbiAgICAgIHJlcy5zZW5kKHsgbWVzc2FnZTogJ09yZGVyIFBhaWQnLCBvcmRlcjogdXBkYXRlZE9yZGVyIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCh7IG1lc3NhZ2U6ICdPcmRlciBOb3QgRm91bmQnIH0pO1xuICAgIH1cbiAgfSlcbik7XG5cbm9yZGVyUm91dGVyLmRlbGV0ZShcbiAgJy86aWQnLFxuICBpc0F1dGgsXG4gIGlzQWRtaW4sXG4gIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc3Qgb3JkZXIgPSBhd2FpdCBPcmRlci5maW5kQnlJZChyZXEucGFyYW1zLmlkKTtcbiAgICBpZiAob3JkZXIpIHtcbiAgICAgIGNvbnN0IGRlbGV0ZU9yZGVyID0gYXdhaXQgb3JkZXIucmVtb3ZlKCk7XG4gICAgICByZXMuc2VuZCh7IG1lc3NhZ2U6ICdPcmRlciBEZWxldGVkJywgb3JkZXI6IGRlbGV0ZU9yZGVyIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCh7IG1lc3NhZ2U6ICdPcmRlciBOb3QgRm91bmQnIH0pO1xuICAgIH1cbiAgfSlcbik7XG5cbm9yZGVyUm91dGVyLnB1dChcbiAgJy86aWQvZGVsaXZlcicsXG4gIGlzQXV0aCxcbiAgaXNBZG1pbixcbiAgZXhwcmVzc0FzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCBvcmRlciA9IGF3YWl0IE9yZGVyLmZpbmRCeUlkKHJlcS5wYXJhbXMuaWQpO1xuICAgIGlmIChvcmRlcikge1xuICAgICAgb3JkZXIuaXNEZWxpdmVyZWQgPSB0cnVlO1xuICAgICAgb3JkZXIuZGVsaXZlcmVkQXQgPSBEYXRlLm5vdygpO1xuXG4gICAgICBjb25zdCB1cGRhdGVkT3JkZXIgPSBhd2FpdCBvcmRlci5zYXZlKCk7XG4gICAgICByZXMuc2VuZCh7IG1lc3NhZ2U6ICdPcmRlciBEZWxpdmVyZWQnLCBvcmRlcjogdXBkYXRlZE9yZGVyIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCh7IG1lc3NhZ2U6ICdPcmRlciBOb3QgRm91bmQnIH0pO1xuICAgIH1cbiAgfSlcbik7XG5cbmV4cG9ydCBkZWZhdWx0IG9yZGVyUm91dGVyO1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "orderRouter.js"
      ],
      "names": [
        "orderRouter",
        "express",
        "Router",
        "get",
        "isAuth",
        "isSellerOrAdmin",
        "req",
        "res",
        "seller",
        "query",
        "sellerFilter",
        "orders",
        "Order",
        "find",
        "populate",
        "send",
        "user",
        "_id",
        "post",
        "body",
        "orderItems",
        "length",
        "status",
        "message",
        "order",
        "shippingAddress",
        "paymentMethod",
        "itemsPrice",
        "shippingPrice",
        "taxPrice",
        "totalPrice",
        "createdOrder",
        "save",
        "findById",
        "params",
        "id",
        "put",
        "isPaid",
        "paidAt",
        "Date",
        "now",
        "paymentResult",
        "update_time",
        "email_address",
        "updatedOrder",
        "delete",
        "isAdmin",
        "deleteOrder",
        "remove",
        "isDelivered",
        "deliveredAt"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/",
      "sourcesContent": [
        "import express from 'express';\nimport expressAsyncHandler from 'express-async-handler';\nimport Order from '../schemas/orderModel.js';\nimport { isAdmin, isAuth, isSellerOrAdmin } from '../util.js';\n\nconst orderRouter = express.Router();\norderRouter.get(\n  '/',\n  isAuth,\n  isSellerOrAdmin,\n  expressAsyncHandler(async (req, res) => {\n    const seller = req.query.seller || '';\n    const sellerFilter = seller ? { seller } : {};\n\n    const orders = await Order.find({ ...sellerFilter }).populate(\n      'user',\n      'name'\n    );\n    res.send(orders);\n  })\n);\norderRouter.get(\n  '/mine',\n  isAuth,\n  expressAsyncHandler(async (req, res) => {\n    const orders = await Order.find({ user: req.user._id });\n    res.send(orders);\n  })\n);\n\norderRouter.post(\n  '/',\n  isAuth,\n  expressAsyncHandler(async (req, res) => {\n    if (req.body.orderItems.length === 0) {\n      res.status(400).send({ message: 'Cart is empty' });\n    } else {\n      const order = new Order({\n        seller: req.body.orderItems[0].seller,\n        orderItems: req.body.orderItems,\n        shippingAddress: req.body.shippingAddress,\n        paymentMethod: req.body.paymentMethod,\n        itemsPrice: req.body.itemsPrice,\n        shippingPrice: req.body.shippingPrice,\n        taxPrice: req.body.taxPrice,\n        totalPrice: req.body.totalPrice,\n        user: req.user._id,\n      });\n      const createdOrder = await order.save();\n      res\n        .status(201)\n        .send({ message: 'New Order Created', order: createdOrder });\n    }\n  })\n);\n\norderRouter.get(\n  '/:id',\n  isAuth,\n  expressAsyncHandler(async (req, res) => {\n    const order = await Order.findById(req.params.id);\n    if (order) {\n      res.send(order);\n    } else {\n      res.status(404).send({ message: 'Order Not Found' });\n    }\n  })\n);\n\norderRouter.put(\n  '/:id/pay',\n  isAuth,\n  expressAsyncHandler(async (req, res) => {\n    const order = await Order.findById(req.params.id);\n    if (order) {\n      order.isPaid = true;\n      order.paidAt = Date.now();\n      order.paymentResult = {\n        id: req.body.id,\n        status: req.body.status,\n        update_time: req.body.update_time,\n        email_address: req.body.email_address,\n      };\n      const updatedOrder = await order.save();\n      res.send({ message: 'Order Paid', order: updatedOrder });\n    } else {\n      res.status(404).send({ message: 'Order Not Found' });\n    }\n  })\n);\n\norderRouter.delete(\n  '/:id',\n  isAuth,\n  isAdmin,\n  expressAsyncHandler(async (req, res) => {\n    const order = await Order.findById(req.params.id);\n    if (order) {\n      const deleteOrder = await order.remove();\n      res.send({ message: 'Order Deleted', order: deleteOrder });\n    } else {\n      res.status(404).send({ message: 'Order Not Found' });\n    }\n  })\n);\n\norderRouter.put(\n  '/:id/deliver',\n  isAuth,\n  isAdmin,\n  expressAsyncHandler(async (req, res) => {\n    const order = await Order.findById(req.params.id);\n    if (order) {\n      order.isDelivered = true;\n      order.deliveredAt = Date.now();\n\n      const updatedOrder = await order.save();\n      res.send({ message: 'Order Delivered', order: updatedOrder });\n    } else {\n      res.status(404).send({ message: 'Order Not Found' });\n    }\n  })\n);\n\nexport default orderRouter;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1607065228625
  },
  "{\"sourceRoot\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop\",\"filename\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/productRouter.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop",
      "filename": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/productRouter.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/productRouter.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/productRouter.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/",
        "sourceFileName": "productRouter.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _expressAsyncHandler = _interopRequireDefault(require(\"express-async-handler\"));\n\nvar _productModel = _interopRequireDefault(require(\"../schemas/productModel.js\"));\n\nvar _util = require(\"../util.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst productRouter = _express.default.Router();\n\nproductRouter.get('/', (0, _expressAsyncHandler.default)(async (req, res) => {\n  const name = req.query.name || '';\n  const category = req.query.category || '';\n  const seller = req.query.seller || '';\n  const order = req.query.order || '';\n  const min = req.query.min && Number(req.query.min) !== 0 ? Number(req.query.min) : 0;\n  const max = req.query.max && Number(req.query.max) !== 0 ? Number(req.query.max) : 0;\n  const rating = req.query.rating && Number(req.query.rating) !== 0 ? Number(req.query.rating) : 0;\n  const nameFilter = name ? {\n    name: {\n      $regex: name,\n      $options: 'i'\n    }\n  } : {};\n  const sellerFilter = seller ? {\n    seller\n  } : {};\n  const categoryFilter = category ? {\n    category\n  } : {};\n  const priceFilter = min && max ? {\n    price: {\n      $gte: min,\n      $lte: max\n    }\n  } : {};\n  const ratingFilter = rating ? {\n    rating: {\n      $gte: rating\n    }\n  } : {};\n  const sortOrder = order === 'lowest' ? {\n    price: 1\n  } : order === 'highest' ? {\n    price: -1\n  } : order === 'toprated' ? {\n    rating: -1\n  } : {\n    _id: -1\n  };\n  const products = await _productModel.default.find({ ...sellerFilter,\n    ...nameFilter,\n    ...categoryFilter,\n    ...priceFilter,\n    ...ratingFilter\n  }).populate('seller', 'seller.name seller.logo').sort(sortOrder);\n  res.send(products);\n}));\nproductRouter.get('/categories', (0, _expressAsyncHandler.default)(async (req, res) => {\n  const categories = await _productModel.default.find().distinct('category');\n  res.send(categories);\n}));\nproductRouter.get('/seed', (0, _expressAsyncHandler.default)(async (req, res) => {\n  // await Product.remove({});\n  const createdProducts = await _productModel.default.insertMany(data.products);\n  res.send({\n    createdProducts\n  });\n}));\nproductRouter.get('/:id', (0, _expressAsyncHandler.default)(async (req, res) => {\n  const product = await _productModel.default.findById(req.params.id).populate('seller', 'seller.name seller.logo seller.rating seller.numReviews');\n\n  if (product) {\n    res.send(product);\n  } else {\n    res.status(404).send({\n      message: 'Product Not Found'\n    });\n  }\n}));\nproductRouter.post('/', _util.isAuth, _util.isSellerOrAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const product = new _productModel.default({\n    name: 'sample name ' + Date.now(),\n    seller: req.user._id,\n    image: '/images/p1.jpg',\n    price: 0,\n    category: 'sample category',\n    brand: 'sample brand',\n    countInStock: 0,\n    rating: 0,\n    numReviews: 0,\n    description: 'sample description'\n  });\n  const createdProduct = await product.save();\n  res.send({\n    message: 'Product Created',\n    product: createdProduct\n  });\n}));\nproductRouter.put('/:id', _util.isAuth, _util.isSellerOrAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const productId = req.params.id;\n  const product = await _productModel.default.findById(productId);\n\n  if (product) {\n    product.name = req.body.name;\n    product.price = req.body.price;\n    product.image = req.body.image;\n    product.category = req.body.category;\n    product.brand = req.body.brand;\n    product.countInStock = req.body.countInStock;\n    product.description = req.body.description;\n    const updatedProduct = await product.save();\n    res.send({\n      message: 'Product Updated',\n      product: updatedProduct\n    });\n  } else {\n    res.status(404).send({\n      message: 'Product Not Found'\n    });\n  }\n}));\nproductRouter.delete('/:id', _util.isAuth, _util.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const product = await _productModel.default.findById(req.params.id);\n\n  if (product) {\n    const deleteProduct = await product.remove();\n    res.send({\n      message: 'Product Deleted',\n      product: deleteProduct\n    });\n  } else {\n    res.status(404).send({\n      message: 'Product Not Found'\n    });\n  }\n}));\nvar _default = productRouter;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2R1Y3RSb3V0ZXIuanMiXSwibmFtZXMiOlsicHJvZHVjdFJvdXRlciIsImV4cHJlc3MiLCJSb3V0ZXIiLCJnZXQiLCJyZXEiLCJyZXMiLCJuYW1lIiwicXVlcnkiLCJjYXRlZ29yeSIsInNlbGxlciIsIm9yZGVyIiwibWluIiwiTnVtYmVyIiwibWF4IiwicmF0aW5nIiwibmFtZUZpbHRlciIsIiRyZWdleCIsIiRvcHRpb25zIiwic2VsbGVyRmlsdGVyIiwiY2F0ZWdvcnlGaWx0ZXIiLCJwcmljZUZpbHRlciIsInByaWNlIiwiJGd0ZSIsIiRsdGUiLCJyYXRpbmdGaWx0ZXIiLCJzb3J0T3JkZXIiLCJfaWQiLCJwcm9kdWN0cyIsIlByb2R1Y3QiLCJmaW5kIiwicG9wdWxhdGUiLCJzb3J0Iiwic2VuZCIsImNhdGVnb3JpZXMiLCJkaXN0aW5jdCIsImNyZWF0ZWRQcm9kdWN0cyIsImluc2VydE1hbnkiLCJkYXRhIiwicHJvZHVjdCIsImZpbmRCeUlkIiwicGFyYW1zIiwiaWQiLCJzdGF0dXMiLCJtZXNzYWdlIiwicG9zdCIsImlzQXV0aCIsImlzU2VsbGVyT3JBZG1pbiIsIkRhdGUiLCJub3ciLCJ1c2VyIiwiaW1hZ2UiLCJicmFuZCIsImNvdW50SW5TdG9jayIsIm51bVJldmlld3MiLCJkZXNjcmlwdGlvbiIsImNyZWF0ZWRQcm9kdWN0Iiwic2F2ZSIsInB1dCIsInByb2R1Y3RJZCIsImJvZHkiLCJ1cGRhdGVkUHJvZHVjdCIsImRlbGV0ZSIsImlzQWRtaW4iLCJkZWxldGVQcm9kdWN0IiwicmVtb3ZlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7QUFFQSxNQUFNQSxhQUFhLEdBQUdDLGlCQUFRQyxNQUFSLEVBQXRCOztBQUVBRixhQUFhLENBQUNHLEdBQWQsQ0FDRSxHQURGLEVBRUUsa0NBQW9CLE9BQU9DLEdBQVAsRUFBWUMsR0FBWixLQUFvQjtBQUN0QyxRQUFNQyxJQUFJLEdBQUdGLEdBQUcsQ0FBQ0csS0FB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O0FBQThCTCxNQUFBQSxPQUFPLEVBQUV5QjtBQUF2QyxLQUFUO0FBQ0QsR0FIRCxNQUdPO0FBQ0wxRCxJQUFBQSxHQUFHLENBQUNxQyxNQUFKLENBQVcsR0FBWCxFQUFnQlYsSUFBaEIsQ0FBcUI7QUFBRVcsTUFBQUEsT0FBTyxFQUFFO0FBQVgsS0FBckI7QUFDRDtBQUNGLENBUkQsQ0FKRjtlQWVlM0MsYSIsInNvdXJjZVJvb3QiOiIvVXNlcnMvTWUvRGVza3RvcC9SZWFjdFByb2plY3RzL2Vjb21tL2x1eGVzaG9wL2JhY2tlbmQvcm91dGVzLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IGV4cHJlc3NBc3luY0hhbmRsZXIgZnJvbSAnZXhwcmVzcy1hc3luYy1oYW5kbGVyJztcbmltcG9ydCBQcm9kdWN0IGZyb20gJy4uL3NjaGVtYXMvcHJvZHVjdE1vZGVsLmpzJztcbmltcG9ydCB7IGlzQWRtaW4sIGlzQXV0aCwgaXNTZWxsZXJPckFkbWluIH0gZnJvbSAnLi4vdXRpbC5qcyc7XG5cbmNvbnN0IHByb2R1Y3RSb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xuXG5wcm9kdWN0Um91dGVyLmdldChcbiAgJy8nLFxuICBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IG5hbWUgPSByZXEucXVlcnkubmFtZSB8fCAnJztcbiAgICBjb25zdCBjYXRlZ29yeSA9IHJlcS5xdWVyeS5jYXRlZ29yeSB8fCAnJztcbiAgICBjb25zdCBzZWxsZXIgPSByZXEucXVlcnkuc2VsbGVyIHx8ICcnO1xuICAgIGNvbnN0IG9yZGVyID0gcmVxLnF1ZXJ5Lm9yZGVyIHx8ICcnO1xuICAgIGNvbnN0IG1pbiA9XG4gICAgICByZXEucXVlcnkubWluICYmIE51bWJlcihyZXEucXVlcnkubWluKSAhPT0gMCA/IE51bWJlcihyZXEucXVlcnkubWluKSA6IDA7XG4gICAgY29uc3QgbWF4ID1cbiAgICAgIHJlcS5xdWVyeS5tYXggJiYgTnVtYmVyKHJlcS5xdWVyeS5tYXgpICE9PSAwID8gTnVtYmVyKHJlcS5xdWVyeS5tYXgpIDogMDtcbiAgICBjb25zdCByYXRpbmcgPVxuICAgICAgcmVxLnF1ZXJ5LnJhdGluZyAmJiBOdW1iZXIocmVxLnF1ZXJ5LnJhdGluZykgIT09IDBcbiAgICAgICAgPyBOdW1iZXIocmVxLnF1ZXJ5LnJhdGluZylcbiAgICAgICAgOiAwO1xuXG4gICAgY29uc3QgbmFtZUZpbHRlciA9IG5hbWUgPyB7IG5hbWU6IHsgJHJlZ2V4OiBuYW1lLCAkb3B0aW9uczogJ2knIH0gfSA6IHt9O1xuICAgIGNvbnN0IHNlbGxlckZpbHRlciA9IHNlbGxlciA/IHsgc2VsbGVyIH0gOiB7fTtcbiAgICBjb25zdCBjYXRlZ29yeUZpbHRlciA9IGNhdGVnb3J5ID8geyBjYXRlZ29yeSB9IDoge307XG4gICAgY29uc3QgcHJpY2VGaWx0ZXIgPSBtaW4gJiYgbWF4ID8geyBwcmljZTogeyAkZ3RlOiBtaW4sICRsdGU6IG1heCB9IH0gOiB7fTtcbiAgICBjb25zdCByYXRpbmdGaWx0ZXIgPSByYXRpbmcgPyB7IHJhdGluZzogeyAkZ3RlOiByYXRpbmcgfSB9IDoge307XG4gICAgY29uc3Qgc29ydE9yZGVyID1cbiAgICAgIG9yZGVyID09PSAnbG93ZXN0J1xuICAgICAgICA/IHsgcHJpY2U6IDEgfVxuICAgICAgICA6IG9yZGVyID09PSAnaGlnaGVzdCdcbiAgICAgICAgPyB7IHByaWNlOiAtMSB9XG4gICAgICAgIDogb3JkZXIgPT09ICd0b3ByYXRlZCdcbiAgICAgICAgPyB7IHJhdGluZzogLTEgfVxuICAgICAgICA6IHsgX2lkOiAtMSB9O1xuXG4gICAgY29uc3QgcHJvZHVjdHMgPSBhd2FpdCBQcm9kdWN0LmZpbmQoe1xuICAgICAgLi4uc2VsbGVyRmlsdGVyLFxuICAgICAgLi4ubmFtZUZpbHRlcixcbiAgICAgIC4uLmNhdGVnb3J5RmlsdGVyLFxuICAgICAgLi4ucHJpY2VGaWx0ZXIsXG4gICAgICAuLi5yYXRpbmdGaWx0ZXIsXG4gICAgfSlcbiAgICAgIC5wb3B1bGF0ZSgnc2VsbGVyJywgJ3NlbGxlci5uYW1lIHNlbGxlci5sb2dvJylcbiAgICAgIC5zb3J0KHNvcnRPcmRlcik7XG4gICAgcmVzLnNlbmQocHJvZHVjdHMpO1xuICB9KVxuKTtcblxucHJvZHVjdFJvdXRlci5nZXQoXG4gICcvY2F0ZWdvcmllcycsXG4gIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc3QgY2F0ZWdvcmllcyA9IGF3YWl0IFByb2R1Y3QuZmluZCgpLmRpc3RpbmN0KCdjYXRlZ29yeScpO1xuICAgIHJlcy5zZW5kKGNhdGVnb3JpZXMpO1xuICB9KVxuKTtcblxucHJvZHVjdFJvdXRlci5nZXQoXG4gICcvc2VlZCcsXG4gIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgLy8gYXdhaXQgUHJvZHVjdC5yZW1vdmUoe30pO1xuICAgIGNvbnN0IGNyZWF0ZWRQcm9kdWN0cyA9IGF3YWl0IFByb2R1Y3QuaW5zZXJ0TWFueShkYXRhLnByb2R1Y3RzKTtcbiAgICByZXMuc2VuZCh7IGNyZWF0ZWRQcm9kdWN0cyB9KTtcbiAgfSlcbik7XG5cbnByb2R1Y3RSb3V0ZXIuZ2V0KFxuICAnLzppZCcsXG4gIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc3QgcHJvZHVjdCA9IGF3YWl0IFByb2R1Y3QuZmluZEJ5SWQocmVxLnBhcmFtcy5pZCkucG9wdWxhdGUoXG4gICAgICAnc2VsbGVyJyxcbiAgICAgICdzZWxsZXIubmFtZSBzZWxsZXIubG9nbyBzZWxsZXIucmF0aW5nIHNlbGxlci5udW1SZXZpZXdzJ1xuICAgICk7XG4gICAgaWYgKHByb2R1Y3QpIHtcbiAgICAgIHJlcy5zZW5kKHByb2R1Y3QpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCh7IG1lc3NhZ2U6ICdQcm9kdWN0IE5vdCBGb3VuZCcgfSk7XG4gICAgfVxuICB9KVxuKTtcblxucHJvZHVjdFJvdXRlci5wb3N0KFxuICAnLycsXG4gIGlzQXV0aCxcbiAgaXNTZWxsZXJPckFkbWluLFxuICBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHByb2R1Y3QgPSBuZXcgUHJvZHVjdCh7XG4gICAgICBuYW1lOiAnc2FtcGxlIG5hbWUgJyArIERhdGUubm93KCksXG4gICAgICBzZWxsZXI6IHJlcS51c2VyLl9pZCxcbiAgICAgIGltYWdlOiAnL2ltYWdlcy9wMS5qcGcnLFxuICAgICAgcHJpY2U6IDAsXG4gICAgICBjYXRlZ29yeTogJ3NhbXBsZSBjYXRlZ29yeScsXG4gICAgICBicmFuZDogJ3NhbXBsZSBicmFuZCcsXG4gICAgICBjb3VudEluU3RvY2s6IDAsXG4gICAgICByYXRpbmc6IDAsXG4gICAgICBudW1SZXZpZXdzOiAwLFxuICAgICAgZGVzY3JpcHRpb246ICdzYW1wbGUgZGVzY3JpcHRpb24nLFxuICAgIH0pO1xuICAgIGNvbnN0IGNyZWF0ZWRQcm9kdWN0ID0gYXdhaXQgcHJvZHVjdC5zYXZlKCk7XG4gICAgcmVzLnNlbmQoeyBtZXNzYWdlOiAnUHJvZHVjdCBDcmVhdGVkJywgcHJvZHVjdDogY3JlYXRlZFByb2R1Y3QgfSk7XG4gIH0pXG4pO1xucHJvZHVjdFJvdXRlci5wdXQoXG4gICcvOmlkJyxcbiAgaXNBdXRoLFxuICBpc1NlbGxlck9yQWRtaW4sXG4gIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc3QgcHJvZHVjdElkID0gcmVxLnBhcmFtcy5pZDtcbiAgICBjb25zdCBwcm9kdWN0ID0gYXdhaXQgUHJvZHVjdC5maW5kQnlJZChwcm9kdWN0SWQpO1xuICAgIGlmIChwcm9kdWN0KSB7XG4gICAgICBwcm9kdWN0Lm5hbWUgPSByZXEuYm9keS5uYW1lO1xuICAgICAgcHJvZHVjdC5wcmljZSA9IHJlcS5ib2R5LnByaWNlO1xuICAgICAgcHJvZHVjdC5pbWFnZSA9IHJlcS5ib2R5LmltYWdlO1xuICAgICAgcHJvZHVjdC5jYXRlZ29yeSA9IHJlcS5ib2R5LmNhdGVnb3J5O1xuICAgICAgcHJvZHVjdC5icmFuZCA9IHJlcS5ib2R5LmJyYW5kO1xuICAgICAgcHJvZHVjdC5jb3VudEluU3RvY2sgPSByZXEuYm9keS5jb3VudEluU3RvY2s7XG4gICAgICBwcm9kdWN0LmRlc2NyaXB0aW9uID0gcmVxLmJvZHkuZGVzY3JpcHRpb247XG4gICAgICBjb25zdCB1cGRhdGVkUHJvZHVjdCA9IGF3YWl0IHByb2R1Y3Quc2F2ZSgpO1xuICAgICAgcmVzLnNlbmQoeyBtZXNzYWdlOiAnUHJvZHVjdCBVcGRhdGVkJywgcHJvZHVjdDogdXBkYXRlZFByb2R1Y3QgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHsgbWVzc2FnZTogJ1Byb2R1Y3QgTm90IEZvdW5kJyB9KTtcbiAgICB9XG4gIH0pXG4pO1xuXG5wcm9kdWN0Um91dGVyLmRlbGV0ZShcbiAgJy86aWQnLFxuICBpc0F1dGgsXG4gIGlzQWRtaW4sXG4gIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc3QgcHJvZHVjdCA9IGF3YWl0IFByb2R1Y3QuZmluZEJ5SWQocmVxLnBhcmFtcy5pZCk7XG4gICAgaWYgKHByb2R1Y3QpIHtcbiAgICAgIGNvbnN0IGRlbGV0ZVByb2R1Y3QgPSBhd2FpdCBwcm9kdWN0LnJlbW92ZSgpO1xuICAgICAgcmVzLnNlbmQoeyBtZXNzYWdlOiAnUHJvZHVjdCBEZWxldGVkJywgcHJvZHVjdDogZGVsZXRlUHJvZHVjdCB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoeyBtZXNzYWdlOiAnUHJvZHVjdCBOb3QgRm91bmQnIH0pO1xuICAgIH1cbiAgfSlcbik7XG5cbmV4cG9ydCBkZWZhdWx0IHByb2R1Y3RSb3V0ZXI7XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "productRouter.js"
      ],
      "names": [
        "productRouter",
        "express",
        "Router",
        "get",
        "req",
        "res",
        "name",
        "query",
        "category",
        "seller",
        "order",
        "min",
        "Number",
        "max",
        "rating",
        "nameFilter",
        "$regex",
        "$options",
        "sellerFilter",
        "categoryFilter",
        "priceFilter",
        "price",
        "$gte",
        "$lte",
        "ratingFilter",
        "sortOrder",
        "_id",
        "products",
        "Product",
        "find",
        "populate",
        "sort",
        "send",
        "categories",
        "distinct",
        "createdProducts",
        "insertMany",
        "data",
        "product",
        "findById",
        "params",
        "id",
        "status",
        "message",
        "post",
        "isAuth",
        "isSellerOrAdmin",
        "Date",
        "now",
        "user",
        "image",
        "brand",
        "countInStock",
        "numReviews",
        "description",
        "createdProduct",
        "save",
        "put",
        "productId",
        "body",
        "updatedProduct",
        "delete",
        "isAdmin",
        "deleteProduct",
        "remove"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/",
      "sourcesContent": [
        "import express from 'express';\nimport expressAsyncHandler from 'express-async-handler';\nimport Product from '../schemas/productModel.js';\nimport { isAdmin, isAuth, isSellerOrAdmin } from '../util.js';\n\nconst productRouter = express.Router();\n\nproductRouter.get(\n  '/',\n  expressAsyncHandler(async (req, res) => {\n    const name = req.query.name || '';\n    const category = req.query.category || '';\n    const seller = req.query.seller || '';\n    const order = req.query.order || '';\n    const min =\n      req.query.min && Number(req.query.min) !== 0 ? Number(req.query.min) : 0;\n    const max =\n      req.query.max && Number(req.query.max) !== 0 ? Number(req.query.max) : 0;\n    const rating =\n      req.query.rating && Number(req.query.rating) !== 0\n        ? Number(req.query.rating)\n        : 0;\n\n    const nameFilter = name ? { name: { $regex: name, $options: 'i' } } : {};\n    const sellerFilter = seller ? { seller } : {};\n    const categoryFilter = category ? { category } : {};\n    const priceFilter = min && max ? { price: { $gte: min, $lte: max } } : {};\n    const ratingFilter = rating ? { rating: { $gte: rating } } : {};\n    const sortOrder =\n      order === 'lowest'\n        ? { price: 1 }\n        : order === 'highest'\n        ? { price: -1 }\n        : order === 'toprated'\n        ? { rating: -1 }\n        : { _id: -1 };\n\n    const products = await Product.find({\n      ...sellerFilter,\n      ...nameFilter,\n      ...categoryFilter,\n      ...priceFilter,\n      ...ratingFilter,\n    })\n      .populate('seller', 'seller.name seller.logo')\n      .sort(sortOrder);\n    res.send(products);\n  })\n);\n\nproductRouter.get(\n  '/categories',\n  expressAsyncHandler(async (req, res) => {\n    const categories = await Product.find().distinct('category');\n    res.send(categories);\n  })\n);\n\nproductRouter.get(\n  '/seed',\n  expressAsyncHandler(async (req, res) => {\n    // await Product.remove({});\n    const createdProducts = await Product.insertMany(data.products);\n    res.send({ createdProducts });\n  })\n);\n\nproductRouter.get(\n  '/:id',\n  expressAsyncHandler(async (req, res) => {\n    const product = await Product.findById(req.params.id).populate(\n      'seller',\n      'seller.name seller.logo seller.rating seller.numReviews'\n    );\n    if (product) {\n      res.send(product);\n    } else {\n      res.status(404).send({ message: 'Product Not Found' });\n    }\n  })\n);\n\nproductRouter.post(\n  '/',\n  isAuth,\n  isSellerOrAdmin,\n  expressAsyncHandler(async (req, res) => {\n    const product = new Product({\n      name: 'sample name ' + Date.now(),\n      seller: req.user._id,\n      image: '/images/p1.jpg',\n      price: 0,\n      category: 'sample category',\n      brand: 'sample brand',\n      countInStock: 0,\n      rating: 0,\n      numReviews: 0,\n      description: 'sample description',\n    });\n    const createdProduct = await product.save();\n    res.send({ message: 'Product Created', product: createdProduct });\n  })\n);\nproductRouter.put(\n  '/:id',\n  isAuth,\n  isSellerOrAdmin,\n  expressAsyncHandler(async (req, res) => {\n    const productId = req.params.id;\n    const product = await Product.findById(productId);\n    if (product) {\n      product.name = req.body.name;\n      product.price = req.body.price;\n      product.image = req.body.image;\n      product.category = req.body.category;\n      product.brand = req.body.brand;\n      product.countInStock = req.body.countInStock;\n      product.description = req.body.description;\n      const updatedProduct = await product.save();\n      res.send({ message: 'Product Updated', product: updatedProduct });\n    } else {\n      res.status(404).send({ message: 'Product Not Found' });\n    }\n  })\n);\n\nproductRouter.delete(\n  '/:id',\n  isAuth,\n  isAdmin,\n  expressAsyncHandler(async (req, res) => {\n    const product = await Product.findById(req.params.id);\n    if (product) {\n      const deleteProduct = await product.remove();\n      res.send({ message: 'Product Deleted', product: deleteProduct });\n    } else {\n      res.status(404).send({ message: 'Product Not Found' });\n    }\n  })\n);\n\nexport default productRouter;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1607065263866
  },
  "{\"sourceRoot\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop\",\"filename\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/userRouter.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop",
      "filename": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/userRouter.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/userRouter.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/userRouter.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/",
        "sourceFileName": "userRouter.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _expressAsyncHandler = _interopRequireDefault(require(\"express-async-handler\"));\n\nvar _bcryptjs = _interopRequireDefault(require(\"bcryptjs\"));\n\nvar _userModel = _interopRequireDefault(require(\"../schemas/userModel.js\"));\n\nvar _util = require(\"../util.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst userRouter = _express.default.Router();\n\nuserRouter.get('/top-sellers', (0, _expressAsyncHandler.default)(async (req, res) => {\n  const topSellers = await _userModel.default.find({\n    isSeller: true\n  }).sort({\n    'seller.rating': -1\n  }).limit(3);\n  res.send(topSellers);\n}));\nuserRouter.get('/seed', (0, _expressAsyncHandler.default)(async (req, res) => {\n  // await User.remove({});\n  const createdUsers = await _userModel.default.insertMany(data.users);\n  res.send({\n    createdUsers\n  });\n}));\nuserRouter.post('/signin', (0, _expressAsyncHandler.default)(async (req, res) => {\n  const user = await _userModel.default.findOne({\n    email: req.body.email\n  });\n\n  if (user) {\n    if (_bcryptjs.default.compareSync(req.body.password, user.password)) {\n      res.send({\n        _id: user._id,\n        name: user.name,\n        email: user.email,\n        isAdmin: user.isAdmin,\n        isSeller: user.isSeller,\n        token: (0, _util.generateToken)(user)\n      });\n      return;\n    }\n  }\n\n  res.status(401).send({\n    message: 'Invalid email or password'\n  });\n}));\nuserRouter.post('/register', (0, _expressAsyncHandler.default)(async (req, res) => {\n  const user = new _userModel.default({\n    name: req.body.name,\n    email: req.body.email,\n    password: _bcryptjs.default.hashSync(req.body.password, 8)\n  });\n  const createdUser = await user.save();\n  res.send({\n    _id: createdUser._id,\n    name: createdUser.name,\n    email: createdUser.email,\n    isAdmin: createdUser.isAdmin,\n    isSeller: user.isSeller,\n    token: (0, _util.generateToken)(createdUser)\n  });\n}));\nuserRouter.get('/:id', (0, _expressAsyncHandler.default)(async (req, res) => {\n  const user = await _userModel.default.findById(req.params.id);\n\n  if (user) {\n    res.send(user);\n  } else {\n    res.status(404).send({\n      message: 'User Not Found'\n    });\n  }\n}));\nuserRouter.put('/profile', _util.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const user = await _userModel.default.findById(req.user._id);\n\n  if (user) {\n    user.name = req.body.name || user.name;\n    user.email = req.body.email || user.email;\n\n    if (user.isSeller) {\n      user.seller.name = req.body.sellerName || user.seller.name;\n      user.seller.logo = req.body.sellerLogo || user.seller.logo;\n      user.seller.description = req.body.sellerDescription || user.seller.description;\n    }\n\n    if (req.body.password) {\n      user.password = _bcryptjs.default.hashSync(req.body.password, 8);\n    }\n\n    const updatedUser = await user.save();\n    res.send({\n      _id: updatedUser._id,\n      name: updatedUser.name,\n      email: updatedUser.email,\n      isAdmin: updatedUser.isAdmin,\n      isSeller: user.isSeller,\n      token: (0, _util.generateToken)(updatedUser)\n    });\n  }\n}));\nuserRouter.get('/', _util.isAuth, _util.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const users = await _userModel.default.find({});\n  res.send(users);\n}));\nuserRouter.delete('/:id', _util.isAuth, _util.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const user = await _userModel.default.findById(req.params.id);\n\n  if (user) {\n    if (user.email === 'admin@example.com') {\n      res.status(400).send({\n        message: 'Can Not Delete Admin User'\n      });\n      return;\n    }\n\n    const deleteUser = await user.remove();\n    res.send({\n      message: 'User Deleted',\n      user: deleteUser\n    });\n  } else {\n    res.status(404).send({\n      message: 'User Not Found'\n    });\n  }\n}));\nuserRouter.put('/:id', _util.isAuth, _util.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const user = await _userModel.default.findById(req.params.id);\n\n  if (user) {\n    user.name = req.body.name || user.name;\n    user.email = req.body.email || user.email;\n    user.isSeller = req.body.isSeller || user.isSeller;\n    user.isAdmin = req.body.isAdmin || user.isAdmin;\n    const updatedUser = await user.save();\n    res.send({\n      message: 'User Updated',\n      user: updatedUser\n    });\n  } else {\n    res.status(404).send({\n      message: 'User Not Found'\n    });\n  }\n}));\nvar _default = userRouter;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJSb3V0ZXIuanMiXSwibmFtZXMiOlsidXNlclJvdXRlciIsImV4cHJlc3MiLCJSb3V0ZXIiLCJnZXQiLCJyZXEiLCJyZXMiLCJ0b3BTZWxsZXJzIiwiVXNlciIsImZpbmQiLCJpc1NlbGxlciIsInNvcnQiLCJsaW1pdCIsInNlbmQiLCJjcmVhdGVkVXNlcnMiLCJpbnNlcnRNYW55IiwiZGF0YSIsInVzZXJzIiwicG9zdCIsInVzZXIiLCJmaW5kT25lIiwiZW1haWwiLCJib2R5IiwiYmNyeXB0IiwiY29tcGFyZVN5bmMiLCJwYXNzd29yZCIsIl9pZCIsIm5hbWUiLCJpc0FkbWluIiwidG9rZW4iLCJzdGF0dXMiLCJtZXNzYWdlIiwiaGFzaFN5bmMiLCJjcmVhdGVkVXNlciIsInNhdmUiLCJmaW5kQnlJZCIsInBhcmFtcyIsImlkIiwicHV0IiwiaXNBdXRoIiwic2VsbGVyIiwic2VsbGVyTmFtZSIsImxvZ28iLCJzZWxsZXJMb2dvIiwiZGVzY3JpcHRpb24iLCJzZWxsZXJEZXNjcmlwdGlvbiIsInVwZGF0ZWRVc2VyIiwiZGVsZXRlIiwiZGVsZXRlVXNlciIsInJlbW92ZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOzs7O0FBRUEsTUFBTUEsVUFBVSxHQUFHQyxpQkFBUUMsTUFBUixFQUFuQjs7QUFFQUYsVUFBVSxDQUFDRyxHQUFYLENBQ0UsY0FERixFQUVFLGtDQUFvQixPQUFPQyxHQUFQLEVBQVlDLEdBQVosS0FBb0I7QUFDdEMsUUFBTUMsVUFBVSxHQUFHLE1BQU1DLG1CQUFLQyxJQUFMLENBQVU7QUFBRUMsSUFBQUEsUUFBUSxFQUFFO0FBQVosR0FBVixFQUN0QkMsSUFEc0IsQ0FDakI7QUFBRSxxQkFBaUIsQ0FBQztBQUFwQixHQURpQixFQUV0QkMsS0FGc0IsQ0FFaEIsQ0FGZ0IsQ0FBekI7QUFHQU4sRUFBQUEsR0FBRyxDQUFDTyxJQUFKLENBQVNOLFVBQVQ7QUFDRCxDQUxELENBRkY7QUFVQU4s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QUFDUyxPQUFMLEdBQWV2QixHQUFHLENBQUNpQixJQUFKLENBQVNNLE9BQVQsSUFBb0JULElBQUksQ0FBQ1MsT0FBeEM7QUFDQSxVQUFNa0IsV0FBVyxHQUFHLE1BQU0zQixJQUFJLENBQUNlLElBQUwsRUFBMUI7QUFDQTVCLElBQUFBLEdBQUcsQ0FBQ08sSUFBSixDQUFTO0FBQUVrQixNQUFBQSxPQUFPLEVBQUUsY0FBWDtBQUEyQlosTUFBQUEsSUFBSSxFQUFFMkI7QUFBakMsS0FBVDtBQUNELEdBUEQsTUFPTztBQUNMeEMsSUFBQUEsR0FBRyxDQUFDd0IsTUFBSixDQUFXLEdBQVgsRUFBZ0JqQixJQUFoQixDQUFxQjtBQUFFa0IsTUFBQUEsT0FBTyxFQUFFO0FBQVgsS0FBckI7QUFDRDtBQUNGLENBWkQsQ0FKRjtlQW9CZTlCLFUiLCJzb3VyY2VSb290IjoiL1VzZXJzL01lL0Rlc2t0b3AvUmVhY3RQcm9qZWN0cy9lY29tbS9sdXhlc2hvcC9iYWNrZW5kL3JvdXRlcy8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcbmltcG9ydCBleHByZXNzQXN5bmNIYW5kbGVyIGZyb20gJ2V4cHJlc3MtYXN5bmMtaGFuZGxlcic7XG5pbXBvcnQgYmNyeXB0IGZyb20gJ2JjcnlwdGpzJztcbmltcG9ydCBVc2VyIGZyb20gJy4uL3NjaGVtYXMvdXNlck1vZGVsLmpzJztcbmltcG9ydCB7IGdlbmVyYXRlVG9rZW4sIGlzQWRtaW4sIGlzQXV0aCB9IGZyb20gJy4uL3V0aWwuanMnO1xuXG5jb25zdCB1c2VyUm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcblxudXNlclJvdXRlci5nZXQoXG4gICcvdG9wLXNlbGxlcnMnLFxuICBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHRvcFNlbGxlcnMgPSBhd2FpdCBVc2VyLmZpbmQoeyBpc1NlbGxlcjogdHJ1ZSB9KVxuICAgICAgLnNvcnQoeyAnc2VsbGVyLnJhdGluZyc6IC0xIH0pXG4gICAgICAubGltaXQoMyk7XG4gICAgcmVzLnNlbmQodG9wU2VsbGVycyk7XG4gIH0pXG4pO1xuXG51c2VyUm91dGVyLmdldChcbiAgJy9zZWVkJyxcbiAgZXhwcmVzc0FzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICAvLyBhd2FpdCBVc2VyLnJlbW92ZSh7fSk7XG4gICAgY29uc3QgY3JlYXRlZFVzZXJzID0gYXdhaXQgVXNlci5pbnNlcnRNYW55KGRhdGEudXNlcnMpO1xuICAgIHJlcy5zZW5kKHsgY3JlYXRlZFVzZXJzIH0pO1xuICB9KVxuKTtcblxudXNlclJvdXRlci5wb3N0KFxuICAnL3NpZ25pbicsXG4gIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXIuZmluZE9uZSh7IGVtYWlsOiByZXEuYm9keS5lbWFpbCB9KTtcbiAgICBpZiAodXNlcikge1xuICAgICAgaWYgKGJjcnlwdC5jb21wYXJlU3luYyhyZXEuYm9keS5wYXNzd29yZCwgdXNlci5wYXNzd29yZCkpIHtcbiAgICAgICAgcmVzLnNlbmQoe1xuICAgICAgICAgIF9pZDogdXNlci5faWQsXG4gICAgICAgICAgbmFtZTogdXNlci5uYW1lLFxuICAgICAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxuICAgICAgICAgIGlzQWRtaW46IHVzZXIuaXNBZG1pbixcbiAgICAgICAgICBpc1NlbGxlcjogdXNlci5pc1NlbGxlcixcbiAgICAgICAgICB0b2tlbjogZ2VuZXJhdGVUb2tlbih1c2VyKSxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gICAgcmVzLnN0YXR1cyg0MDEpLnNlbmQoeyBtZXNzYWdlOiAnSW52YWxpZCBlbWFpbCBvciBwYXNzd29yZCcgfSk7XG4gIH0pXG4pO1xuXG51c2VyUm91dGVyLnBvc3QoXG4gICcvcmVnaXN0ZXInLFxuICBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHVzZXIgPSBuZXcgVXNlcih7XG4gICAgICBuYW1lOiByZXEuYm9keS5uYW1lLFxuICAgICAgZW1haWw6IHJlcS5ib2R5LmVtYWlsLFxuICAgICAgcGFzc3dvcmQ6IGJjcnlwdC5oYXNoU3luYyhyZXEuYm9keS5wYXNzd29yZCwgOCksXG4gICAgfSk7XG4gICAgY29uc3QgY3JlYXRlZFVzZXIgPSBhd2FpdCB1c2VyLnNhdmUoKTtcbiAgICByZXMuc2VuZCh7XG4gICAgICBfaWQ6IGNyZWF0ZWRVc2VyLl9pZCxcbiAgICAgIG5hbWU6IGNyZWF0ZWRVc2VyLm5hbWUsXG4gICAgICBlbWFpbDogY3JlYXRlZFVzZXIuZW1haWwsXG4gICAgICBpc0FkbWluOiBjcmVhdGVkVXNlci5pc0FkbWluLFxuICAgICAgaXNTZWxsZXI6IHVzZXIuaXNTZWxsZXIsXG4gICAgICB0b2tlbjogZ2VuZXJhdGVUb2tlbihjcmVhdGVkVXNlciksXG4gICAgfSk7XG4gIH0pXG4pO1xuXG51c2VyUm91dGVyLmdldChcbiAgJy86aWQnLFxuICBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyLmZpbmRCeUlkKHJlcS5wYXJhbXMuaWQpO1xuICAgIGlmICh1c2VyKSB7XG4gICAgICByZXMuc2VuZCh1c2VyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoeyBtZXNzYWdlOiAnVXNlciBOb3QgRm91bmQnIH0pO1xuICAgIH1cbiAgfSlcbik7XG51c2VyUm91dGVyLnB1dChcbiAgJy9wcm9maWxlJyxcbiAgaXNBdXRoLFxuICBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyLmZpbmRCeUlkKHJlcS51c2VyLl9pZCk7XG4gICAgaWYgKHVzZXIpIHtcbiAgICAgIHVzZXIubmFtZSA9IHJlcS5ib2R5Lm5hbWUgfHwgdXNlci5uYW1lO1xuICAgICAgdXNlci5lbWFpbCA9IHJlcS5ib2R5LmVtYWlsIHx8IHVzZXIuZW1haWw7XG4gICAgICBpZiAodXNlci5pc1NlbGxlcikge1xuICAgICAgICB1c2VyLnNlbGxlci5uYW1lID0gcmVxLmJvZHkuc2VsbGVyTmFtZSB8fCB1c2VyLnNlbGxlci5uYW1lO1xuICAgICAgICB1c2VyLnNlbGxlci5sb2dvID0gcmVxLmJvZHkuc2VsbGVyTG9nbyB8fCB1c2VyLnNlbGxlci5sb2dvO1xuICAgICAgICB1c2VyLnNlbGxlci5kZXNjcmlwdGlvbiA9XG4gICAgICAgICAgcmVxLmJvZHkuc2VsbGVyRGVzY3JpcHRpb24gfHwgdXNlci5zZWxsZXIuZGVzY3JpcHRpb247XG4gICAgICB9XG4gICAgICBpZiAocmVxLmJvZHkucGFzc3dvcmQpIHtcbiAgICAgICAgdXNlci5wYXNzd29yZCA9IGJjcnlwdC5oYXNoU3luYyhyZXEuYm9keS5wYXNzd29yZCwgOCk7XG4gICAgICB9XG4gICAgICBjb25zdCB1cGRhdGVkVXNlciA9IGF3YWl0IHVzZXIuc2F2ZSgpO1xuICAgICAgcmVzLnNlbmQoe1xuICAgICAgICBfaWQ6IHVwZGF0ZWRVc2VyLl9pZCxcbiAgICAgICAgbmFtZTogdXBkYXRlZFVzZXIubmFtZSxcbiAgICAgICAgZW1haWw6IHVwZGF0ZWRVc2VyLmVtYWlsLFxuICAgICAgICBpc0FkbWluOiB1cGRhdGVkVXNlci5pc0FkbWluLFxuICAgICAgICBpc1NlbGxlcjogdXNlci5pc1NlbGxlcixcbiAgICAgICAgdG9rZW46IGdlbmVyYXRlVG9rZW4odXBkYXRlZFVzZXIpLFxuICAgICAgfSk7XG4gICAgfVxuICB9KVxuKTtcblxudXNlclJvdXRlci5nZXQoXG4gICcvJyxcbiAgaXNBdXRoLFxuICBpc0FkbWluLFxuICBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHVzZXJzID0gYXdhaXQgVXNlci5maW5kKHt9KTtcbiAgICByZXMuc2VuZCh1c2Vycyk7XG4gIH0pXG4pO1xuXG51c2VyUm91dGVyLmRlbGV0ZShcbiAgJy86aWQnLFxuICBpc0F1dGgsXG4gIGlzQWRtaW4sXG4gIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXIuZmluZEJ5SWQocmVxLnBhcmFtcy5pZCk7XG4gICAgaWYgKHVzZXIpIHtcbiAgICAgIGlmICh1c2VyLmVtYWlsID09PSAnYWRtaW5AZXhhbXBsZS5jb20nKSB7XG4gICAgICAgIHJlcy5zdGF0dXMoNDAwKS5zZW5kKHsgbWVzc2FnZTogJ0NhbiBOb3QgRGVsZXRlIEFkbWluIFVzZXInIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBkZWxldGVVc2VyID0gYXdhaXQgdXNlci5yZW1vdmUoKTtcbiAgICAgIHJlcy5zZW5kKHsgbWVzc2FnZTogJ1VzZXIgRGVsZXRlZCcsIHVzZXI6IGRlbGV0ZVVzZXIgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHsgbWVzc2FnZTogJ1VzZXIgTm90IEZvdW5kJyB9KTtcbiAgICB9XG4gIH0pXG4pO1xuXG51c2VyUm91dGVyLnB1dChcbiAgJy86aWQnLFxuICBpc0F1dGgsXG4gIGlzQWRtaW4sXG4gIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXIuZmluZEJ5SWQocmVxLnBhcmFtcy5pZCk7XG4gICAgaWYgKHVzZXIpIHtcbiAgICAgIHVzZXIubmFtZSA9IHJlcS5ib2R5Lm5hbWUgfHwgdXNlci5uYW1lO1xuICAgICAgdXNlci5lbWFpbCA9IHJlcS5ib2R5LmVtYWlsIHx8IHVzZXIuZW1haWw7XG4gICAgICB1c2VyLmlzU2VsbGVyID0gcmVxLmJvZHkuaXNTZWxsZXIgfHwgdXNlci5pc1NlbGxlcjtcbiAgICAgIHVzZXIuaXNBZG1pbiA9IHJlcS5ib2R5LmlzQWRtaW4gfHwgdXNlci5pc0FkbWluO1xuICAgICAgY29uc3QgdXBkYXRlZFVzZXIgPSBhd2FpdCB1c2VyLnNhdmUoKTtcbiAgICAgIHJlcy5zZW5kKHsgbWVzc2FnZTogJ1VzZXIgVXBkYXRlZCcsIHVzZXI6IHVwZGF0ZWRVc2VyIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCh7IG1lc3NhZ2U6ICdVc2VyIE5vdCBGb3VuZCcgfSk7XG4gICAgfVxuICB9KVxuKTtcblxuXG5leHBvcnQgZGVmYXVsdCB1c2VyUm91dGVyO1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "userRouter.js"
      ],
      "names": [
        "userRouter",
        "express",
        "Router",
        "get",
        "req",
        "res",
        "topSellers",
        "User",
        "find",
        "isSeller",
        "sort",
        "limit",
        "send",
        "createdUsers",
        "insertMany",
        "data",
        "users",
        "post",
        "user",
        "findOne",
        "email",
        "body",
        "bcrypt",
        "compareSync",
        "password",
        "_id",
        "name",
        "isAdmin",
        "token",
        "status",
        "message",
        "hashSync",
        "createdUser",
        "save",
        "findById",
        "params",
        "id",
        "put",
        "isAuth",
        "seller",
        "sellerName",
        "logo",
        "sellerLogo",
        "description",
        "sellerDescription",
        "updatedUser",
        "delete",
        "deleteUser",
        "remove"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/",
      "sourcesContent": [
        "import express from 'express';\nimport expressAsyncHandler from 'express-async-handler';\nimport bcrypt from 'bcryptjs';\nimport User from '../schemas/userModel.js';\nimport { generateToken, isAdmin, isAuth } from '../util.js';\n\nconst userRouter = express.Router();\n\nuserRouter.get(\n  '/top-sellers',\n  expressAsyncHandler(async (req, res) => {\n    const topSellers = await User.find({ isSeller: true })\n      .sort({ 'seller.rating': -1 })\n      .limit(3);\n    res.send(topSellers);\n  })\n);\n\nuserRouter.get(\n  '/seed',\n  expressAsyncHandler(async (req, res) => {\n    // await User.remove({});\n    const createdUsers = await User.insertMany(data.users);\n    res.send({ createdUsers });\n  })\n);\n\nuserRouter.post(\n  '/signin',\n  expressAsyncHandler(async (req, res) => {\n    const user = await User.findOne({ email: req.body.email });\n    if (user) {\n      if (bcrypt.compareSync(req.body.password, user.password)) {\n        res.send({\n          _id: user._id,\n          name: user.name,\n          email: user.email,\n          isAdmin: user.isAdmin,\n          isSeller: user.isSeller,\n          token: generateToken(user),\n        });\n        return;\n      }\n    }\n    res.status(401).send({ message: 'Invalid email or password' });\n  })\n);\n\nuserRouter.post(\n  '/register',\n  expressAsyncHandler(async (req, res) => {\n    const user = new User({\n      name: req.body.name,\n      email: req.body.email,\n      password: bcrypt.hashSync(req.body.password, 8),\n    });\n    const createdUser = await user.save();\n    res.send({\n      _id: createdUser._id,\n      name: createdUser.name,\n      email: createdUser.email,\n      isAdmin: createdUser.isAdmin,\n      isSeller: user.isSeller,\n      token: generateToken(createdUser),\n    });\n  })\n);\n\nuserRouter.get(\n  '/:id',\n  expressAsyncHandler(async (req, res) => {\n    const user = await User.findById(req.params.id);\n    if (user) {\n      res.send(user);\n    } else {\n      res.status(404).send({ message: 'User Not Found' });\n    }\n  })\n);\nuserRouter.put(\n  '/profile',\n  isAuth,\n  expressAsyncHandler(async (req, res) => {\n    const user = await User.findById(req.user._id);\n    if (user) {\n      user.name = req.body.name || user.name;\n      user.email = req.body.email || user.email;\n      if (user.isSeller) {\n        user.seller.name = req.body.sellerName || user.seller.name;\n        user.seller.logo = req.body.sellerLogo || user.seller.logo;\n        user.seller.description =\n          req.body.sellerDescription || user.seller.description;\n      }\n      if (req.body.password) {\n        user.password = bcrypt.hashSync(req.body.password, 8);\n      }\n      const updatedUser = await user.save();\n      res.send({\n        _id: updatedUser._id,\n        name: updatedUser.name,\n        email: updatedUser.email,\n        isAdmin: updatedUser.isAdmin,\n        isSeller: user.isSeller,\n        token: generateToken(updatedUser),\n      });\n    }\n  })\n);\n\nuserRouter.get(\n  '/',\n  isAuth,\n  isAdmin,\n  expressAsyncHandler(async (req, res) => {\n    const users = await User.find({});\n    res.send(users);\n  })\n);\n\nuserRouter.delete(\n  '/:id',\n  isAuth,\n  isAdmin,\n  expressAsyncHandler(async (req, res) => {\n    const user = await User.findById(req.params.id);\n    if (user) {\n      if (user.email === 'admin@example.com') {\n        res.status(400).send({ message: 'Can Not Delete Admin User' });\n        return;\n      }\n      const deleteUser = await user.remove();\n      res.send({ message: 'User Deleted', user: deleteUser });\n    } else {\n      res.status(404).send({ message: 'User Not Found' });\n    }\n  })\n);\n\nuserRouter.put(\n  '/:id',\n  isAuth,\n  isAdmin,\n  expressAsyncHandler(async (req, res) => {\n    const user = await User.findById(req.params.id);\n    if (user) {\n      user.name = req.body.name || user.name;\n      user.email = req.body.email || user.email;\n      user.isSeller = req.body.isSeller || user.isSeller;\n      user.isAdmin = req.body.isAdmin || user.isAdmin;\n      const updatedUser = await user.save();\n      res.send({ message: 'User Updated', user: updatedUser });\n    } else {\n      res.status(404).send({ message: 'User Not Found' });\n    }\n  })\n);\n\n\nexport default userRouter;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1607065305527
  },
  "{\"sourceRoot\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop\",\"filename\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/uploadRouter.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/Me/Desktop/ReactProjects/ecomm/luxeshop\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop",
      "filename": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/uploadRouter.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/uploadRouter.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/uploadRouter.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/",
        "sourceFileName": "uploadRouter.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _multer = _interopRequireDefault(require(\"multer\"));\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _util = require(\"../util.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst uploadRouter = _express.default.Router();\n\nconst storage = _multer.default.diskStorage({\n  destination(req, file, cb) {\n    cb(null, 'uploads/');\n  },\n\n  filename(req, file, cb) {\n    cb(null, `${Date.now()}.jpg`);\n  }\n\n});\n\nconst upload = (0, _multer.default)({\n  storage\n});\nuploadRouter.post('/', _util.isAuth, upload.single('image'), (req, res) => {\n  res.send(`/${req.file.path}`);\n});\nvar _default = uploadRouter;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVwbG9hZFJvdXRlci5qcyJdLCJuYW1lcyI6WyJ1cGxvYWRSb3V0ZXIiLCJleHByZXNzIiwiUm91dGVyIiwic3RvcmFnZSIsIm11bHRlciIsImRpc2tTdG9yYWdlIiwiZGVzdGluYXRpb24iLCJyZXEiLCJmaWxlIiwiY2IiLCJmaWxlbmFtZSIsIkRhdGUiLCJub3ciLCJ1cGxvYWQiLCJwb3N0IiwiaXNBdXRoIiwic2luZ2xlIiwicmVzIiwic2VuZCIsInBhdGgiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7OztBQUVBLE1BQU1BLFlBQVksR0FBR0MsaUJBQVFDLE1BQVIsRUFBckI7O0FBRUEsTUFBTUMsT0FBTyxHQUFHQyxnQkFBT0MsV0FBUCxDQUFtQjtBQUNqQ0MsRUFBQUEsV0FBVyxDQUFDQyxHQUFELEVBQU1DLElBQU4sRUFBWUMsRUFBWixFQUFnQjtBQUN6QkEsSUFBQUEsRUFBRSxDQUFDLElBQUQsRUFBTyxVQUFQLENBQUY7QUFDRCxHQUhnQzs7QUFJakNDLEVBQUFBLFFBQVEsQ0FBQ0gsR0FBRCxFQUFNQyxJQUFOLEVBQVlDLEVBQVosRUFBZ0I7QUFDdEJBLElBQUFBLEVBQUUsQ0FBQyxJQUFELEVBQVEsR0FBRUUsSUFBSSxDQUFDQyxHQUFMLEVBQVcsTUFBckIsQ0FBRjtBQUNEOztBQU5nQyxDQUFuQixDQUFoQjs7QUFTQSxNQUFNQyxNQUFNLEdBQUcscUJBQU87QUFBRVYsRUFBQUE7QUFBRixDQUFQLENBQWY7QUFFQUgsWUFBWSxDQUFDYyxJQUFiLENBQWtCLEdBQWxCLEVBQXVCQyxZQUF2QixFQUErQkYsTUFBTSxDQUFDRyxNQUFQLENBQWMsT0FBZCxDQUEvQixFQUF1RCxDQUFDVCxHQUFELEVBQU1VLEdBQU4sS0FBYztBQUNuRUEsRUFBQUEsR0FBRyxDQUFDQyxJQUFKLENBQVUsSUFBR1gsR0FBRyxDQUFDQyxJQUFKLENBQVNXLElBQUssRUFBM0I7QUFDRCxDQUZEO2VBSWVuQixZIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9NZS9EZXNrdG9wL1JlYWN0UHJvamVjdHMvZWNvbW0vbHV4ZXNob3AvYmFja2VuZC9yb3V0ZXMvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG11bHRlciBmcm9tICdtdWx0ZXInO1xuaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgeyBpc0F1dGggfSBmcm9tICcuLi91dGlsLmpzJztcblxuY29uc3QgdXBsb2FkUm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcblxuY29uc3Qgc3RvcmFnZSA9IG11bHRlci5kaXNrU3RvcmFnZSh7XG4gIGRlc3RpbmF0aW9uKHJlcSwgZmlsZSwgY2IpIHtcbiAgICBjYihudWxsLCAndXBsb2Fkcy8nKTtcbiAgfSxcbiAgZmlsZW5hbWUocmVxLCBmaWxlLCBjYikge1xuICAgIGNiKG51bGwsIGAke0RhdGUubm93KCl9LmpwZ2ApO1xuICB9LFxufSk7XG5cbmNvbnN0IHVwbG9hZCA9IG11bHRlcih7IHN0b3JhZ2UgfSk7XG5cbnVwbG9hZFJvdXRlci5wb3N0KCcvJywgaXNBdXRoLCB1cGxvYWQuc2luZ2xlKCdpbWFnZScpLCAocmVxLCByZXMpID0+IHtcbiAgcmVzLnNlbmQoYC8ke3JlcS5maWxlLnBhdGh9YCk7XG59KTtcblxuZXhwb3J0IGRlZmF1bHQgdXBsb2FkUm91dGVyO1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "uploadRouter.js"
      ],
      "names": [
        "uploadRouter",
        "express",
        "Router",
        "storage",
        "multer",
        "diskStorage",
        "destination",
        "req",
        "file",
        "cb",
        "filename",
        "Date",
        "now",
        "upload",
        "post",
        "isAuth",
        "single",
        "res",
        "send",
        "path"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;;;AAEA,MAAMA,YAAY,GAAGC,iBAAQC,MAAR,EAArB;;AAEA,MAAMC,OAAO,GAAGC,gBAAOC,WAAP,CAAmB;AACjCC,EAAAA,WAAW,CAACC,GAAD,EAAMC,IAAN,EAAYC,EAAZ,EAAgB;AACzBA,IAAAA,EAAE,CAAC,IAAD,EAAO,UAAP,CAAF;AACD,GAHgC;;AAIjCC,EAAAA,QAAQ,CAACH,GAAD,EAAMC,IAAN,EAAYC,EAAZ,EAAgB;AACtBA,IAAAA,EAAE,CAAC,IAAD,EAAQ,GAAEE,IAAI,CAACC,GAAL,EAAW,MAArB,CAAF;AACD;;AANgC,CAAnB,CAAhB;;AASA,MAAMC,MAAM,GAAG,qBAAO;AAAEV,EAAAA;AAAF,CAAP,CAAf;AAEAH,YAAY,CAACc,IAAb,CAAkB,GAAlB,EAAuBC,YAAvB,EAA+BF,MAAM,CAACG,MAAP,CAAc,OAAd,CAA/B,EAAuD,CAACT,GAAD,EAAMU,GAAN,KAAc;AACnEA,EAAAA,GAAG,CAACC,IAAJ,CAAU,IAAGX,GAAG,CAACC,IAAJ,CAASW,IAAK,EAA3B;AACD,CAFD;eAIenB,Y",
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/ecomm/luxeshop/backend/routes/",
      "sourcesContent": [
        "import multer from 'multer';\nimport express from 'express';\nimport { isAuth } from '../util.js';\n\nconst uploadRouter = express.Router();\n\nconst storage = multer.diskStorage({\n  destination(req, file, cb) {\n    cb(null, 'uploads/');\n  },\n  filename(req, file, cb) {\n    cb(null, `${Date.now()}.jpg`);\n  },\n});\n\nconst upload = multer({ storage });\n\nuploadRouter.post('/', isAuth, upload.single('image'), (req, res) => {\n  res.send(`/${req.file.path}`);\n});\n\nexport default uploadRouter;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1607064588852
  },
  "{\"sourceRoot\":\"/Users/Me/Desktop/ReactProjects/older/backend/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/Me/Desktop/ReactProjects/older\",\"filename\":\"/Users/Me/Desktop/ReactProjects/older/backend/server.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/Me/Desktop/ReactProjects/older\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/older/backend/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/Me/Desktop/ReactProjects/older",
      "filename": "/Users/Me/Desktop/ReactProjects/older/backend/server.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/Me/Desktop/ReactProjects/older",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/Me/Desktop/ReactProjects/older/backend/server.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/Me/Desktop/ReactProjects/older/backend/server.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/Me/Desktop/ReactProjects/older/backend/",
        "sourceFileName": "server.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nvar _dotenv = _interopRequireDefault(require(\"dotenv\"));\n\nvar _path = _interopRequireDefault(require(\"path\"));\n\nvar _productRouter = _interopRequireDefault(require(\"./routes/productRouter.js\"));\n\nvar _userRouter = _interopRequireDefault(require(\"./routes/userRouter.js\"));\n\nvar _orderRouter = _interopRequireDefault(require(\"./routes/orderRouter.js\"));\n\nvar _uploadRouter = _interopRequireDefault(require(\"./routes/uploadRouter.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_dotenv.default.config();\n\nconst app = (0, _express.default)();\napp.use(_express.default.json());\napp.use(_express.default.urlencoded({\n  extended: true\n}));\n\n_mongoose.default.connect(process.env.MONGODB_URL || 'mongodb://localhost/luxeshop', {\n  useNewUrlParser: true,\n  useUnifiedTopology: true,\n  useCreateIndex: true\n});\n\napp.use('/api/uploads', _uploadRouter.default);\napp.use('/api/users', _userRouter.default);\napp.use('/api/products', _productRouter.default);\napp.use('/api/orders', _orderRouter.default);\napp.get('/api/config/paypal', (req, res) => {\n  res.send(process.env.PAYPAL_CLIENT_ID || 'sb');\n});\n\nconst _dirname = _path.default.resolve();\n\napp.use('/uploads', _express.default.static(_path.default.join(_dirname, '/uploads')));\napp.use(_express.default.static(_path.default.join(_dirname, '/frontend/build')));\napp.get('*', (req, res) => res.sendFile(_path.default.join(_dirname, '/frontend/build/index.html')));\napp.use((err, req, res, next) => {\n  res.status(500).send({\n    message: err.message\n  });\n});\nconst port = process.env.PORT || 5000;\napp.listen(port, () => {\n  console.log(`Server started at http://localhost:${port}`);\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlcnZlci5qcyJdLCJuYW1lcyI6WyJkb3RlbnYiLCJjb25maWciLCJhcHAiLCJ1c2UiLCJleHByZXNzIiwianNvbiIsInVybGVuY29kZWQiLCJleHRlbmRlZCIsIm1vbmdvb3NlIiwiY29ubmVjdCIsInByb2Nlc3MiLCJlbnYiLCJNT05HT0RCX1VSTCIsInVzZU5ld1VybFBhcnNlciIsInVzZVVuaWZpZWRUb3BvbG9neSIsInVzZUNyZWF0ZUluZGV4IiwidXBsb2FkUm91dGVyIiwidXNlclJvdXRlciIsInByb2R1Y3RSb3V0ZXIiLCJvcmRlclJvdXRlciIsImdldCIsInJlcSIsInJlcyIsInNlbmQiLCJQQVlQQUxfQ0xJRU5UX0lEIiwiX19kaXJuYW1lIiwicGF0aCIsInJlc29sdmUiLCJzdGF0aWMiLCJqb2luIiwic2VuZEZpbGUiLCJlcnIiLCJuZXh0Iiwic3RhdHVzIiwibWVzc2FnZSIsInBvcnQiLCJQT1JUIiwibGlzdGVuIiwiY29uc29sZSIsImxvZyJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7OztBQUVBQSxnQkFBT0MsTUFBUDs7QUFFQSxNQUFNQyxHQUFHLEdBQUcsdUJBQVo7QUFDQUEsR0FBRyxDQUFDQyxHQUFKLENBQVFDLGlCQUFRQyxJQUFSLEVBQVI7QUFDQUgsR0FBRyxDQUFDQyxHQUFKLENBQVFDLGlCQUFRRSxVQUFSLENBQW1CO0FBQUVDLEVBQUFBLFFBQVEsRUFBRTtBQUFaLENBQW5CLENBQVI7O0FBRUFDLGtCQUFTQyxPQUFULENBQWlCQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsV0FBWixJQUEyQiw4QkFBNUMsRUFBNEU7QUFDMUVDLEVBQUFBLGVBQWUsRUFBRSxJQUR5RDtBQUUxRUMsRUFBQUEsa0JBQWtCLEVBQUUsSUFGc0Q7QUFHMUVDLEVBQUFBLGNBQWMsRUFBRTtBQUgwRCxDQUE1RTs7QUFLQWIsR0FBRyxDQUFDQyxHQUFKLENBQVEsY0FBUixFQUF3QmEscUJBQXhCO0FBQ0FkLEdBQUcsQ0FBQ0MsR0FBSixDQUFRLFlBQVIsRUFBc0JjLG1CQUF0QjtBQUNBZixHQUFHLENBQUNDLEdBQUosQ0FBUSxlQUFSLEVBQXlCZSxzQkFBekI7QUFDQWhCLEdBQUcsQ0FBQ0MsR0FBSixDQUFRLGFBQVIsRUFBdUJnQixvQkFBdkI7QUFDQWpCLEdBQUcsQ0FBQ2tCLEdBQUosQ0FBUSxvQkFBUixFQUE4QixDQUFDQyxHQUFELEVBQU1DLEdBQU4sS0FBYztBQUMxQ0EsRUFBQUEsR0FBRyxDQUFDQyxJQUFKLENBQVNiLE9BQU8sQ0FBQ0MsR0FBUixDQUFZYSxnQkFBWixJQUFnQyxJQUF6QztBQUNELENBRkQ7O0FBR0EsTUFBTUMsUUFBUyxHQUFHQyxjQUFLQyxPQUFMLEVBQWxCOztBQUNBekIsR0FBRyxDQUFDQyxHQUFKLENBQVEsVUFBUixFQUFvQkMsaUJBQVF3QixNQUFSLENBQWVGLGNBQUtHLElBQUwsQ0FBVUosUUFBVixFQUFxQixVQUFyQixDQUFmLENBQXBCO0FBQ0F2QixHQUFHLENBQUNDLEdBQUosQ0FBUUMsaUJBQVF3QixNQUFSLENBQWVGLGNBQUtHLElBQUwsQ0FBVUosUUFBVixFQUFxQixpQkFBckIsQ0FBZixDQUFSO0FBQ0F2QixHQUFHLENBQUNrQixHQUFKLENBQVEsR0FBUixFQUFhLENBQUNDLEdBQUQsRUFBTUMsR0FBTixLQUNYQSxHQUFHLENBQUNRLFFBQUosQ0FBYUosY0FBS0csSUFBTCxDQUFVSixRQUFWLEVBQXFCLDRCQUFyQixDQUFiLENBREY7QUFLQXZCLEdBQUcsQ0FBQ0MsR0FBSixDQUFRLENBQUM0QixHQUFELEVBQU1WLEdBQU4sRUFBV0MsR0FBWCxFQUFnQlUsSUFBaEIsS0FBeUI7QUFDL0JWLEVBQUFBLEdBQUcsQ0FBQ1csTUFBSixDQUFXLEdBQVgsRUFBZ0JWLElBQWhCLENBQXFCO0FBQUVXLElBQUFBLE9BQU8sRUFBRUgsR0FBRyxDQUFDRztBQUFmLEdBQXJCO0FBQ0QsQ0FGRDtBQUlBLE1BQU1DLElBQUksR0FBR3pCLE9BQU8sQ0FBQ0MsR0FBUixDQUFZeUIsSUFBWixJQUFvQixJQUFqQztBQUNBbEMsR0FBRyxDQUFDbUMsTUFBSixDQUFXRixJQUFYLEVBQWlCLE1BQU07QUFDckJHLEVBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFhLHNDQUFxQ0osSUFBSyxFQUF2RDtBQUNELENBRkQiLCJzb3VyY2VSb290IjoiL1VzZXJzL01lL0Rlc2t0b3AvUmVhY3RQcm9qZWN0cy9vbGRlci9iYWNrZW5kLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcbmltcG9ydCBkb3RlbnYgZnJvbSAnZG90ZW52JztcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xuaW1wb3J0IHByb2R1Y3RSb3V0ZXIgZnJvbSAnLi9yb3V0ZXMvcHJvZHVjdFJvdXRlci5qcyc7XG5pbXBvcnQgdXNlclJvdXRlciBmcm9tICcuL3JvdXRlcy91c2VyUm91dGVyLmpzJztcbmltcG9ydCBvcmRlclJvdXRlciBmcm9tICcuL3JvdXRlcy9vcmRlclJvdXRlci5qcyc7XG5pbXBvcnQgdXBsb2FkUm91dGVyIGZyb20gJy4vcm91dGVzL3VwbG9hZFJvdXRlci5qcyc7XG5cbmRvdGVudi5jb25maWcoKTtcblxuY29uc3QgYXBwID0gZXhwcmVzcygpO1xuYXBwLnVzZShleHByZXNzLmpzb24oKSk7XG5hcHAudXNlKGV4cHJlc3MudXJsZW5jb2RlZCh7IGV4dGVuZGVkOiB0cnVlIH0pKTtcblxubW9uZ29vc2UuY29ubmVjdChwcm9jZXNzLmVudi5NT05HT0RCX1VSTCB8fCAnbW9uZ29kYjovL2xvY2FsaG9zdC9sdXhlc2hvcCcsIHtcbiAgdXNlTmV3VXJsUGFyc2VyOiB0cnVlLFxuICB1c2VVbmlmaWVkVG9wb2xvZ3k6IHRydWUsXG4gIHVzZUNyZWF0ZUluZGV4OiB0cnVlLFxufSk7XG5hcHAudXNlKCcvYXBpL3VwbG9hZHMnLCB1cGxvYWRSb3V0ZXIpO1xuYXBwLnVzZSgnL2FwaS91c2VycycsIHVzZXJSb3V0ZXIpO1xuYXBwLnVzZSgnL2FwaS9wcm9kdWN0cycsIHByb2R1Y3RSb3V0ZXIpO1xuYXBwLnVzZSgnL2FwaS9vcmRlcnMnLCBvcmRlclJvdXRlcik7XG5hcHAuZ2V0KCcvYXBpL2NvbmZpZy9wYXlwYWwnLCAocmVxLCByZXMpID0+IHtcbiAgcmVzLnNlbmQocHJvY2Vzcy5lbnYuUEFZUEFMX0NMSUVOVF9JRCB8fCAnc2InKTtcbn0pO1xuY29uc3QgX19kaXJuYW1lID0gcGF0aC5yZXNvbHZlKCk7XG5hcHAudXNlKCcvdXBsb2FkcycsIGV4cHJlc3Muc3RhdGljKHBhdGguam9pbihfX2Rpcm5hbWUsICcvdXBsb2FkcycpKSk7XG5hcHAudXNlKGV4cHJlc3Muc3RhdGljKHBhdGguam9pbihfX2Rpcm5hbWUsICcvZnJvbnRlbmQvYnVpbGQnKSkpO1xuYXBwLmdldCgnKicsIChyZXEsIHJlcykgPT5cbiAgcmVzLnNlbmRGaWxlKHBhdGguam9pbihfX2Rpcm5hbWUsICcvZnJvbnRlbmQvYnVpbGQvaW5kZXguaHRtbCcpKVxuKTtcblxuXG5hcHAudXNlKChlcnIsIHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHsgbWVzc2FnZTogZXJyLm1lc3NhZ2UgfSk7XG59KTtcblxuY29uc3QgcG9ydCA9IHByb2Nlc3MuZW52LlBPUlQgfHwgNTAwMDtcbmFwcC5saXN0ZW4ocG9ydCwgKCkgPT4ge1xuICBjb25zb2xlLmxvZyhgU2VydmVyIHN0YXJ0ZWQgYXQgaHR0cDovL2xvY2FsaG9zdDoke3BvcnR9YCk7XG59KTtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "server.js"
      ],
      "names": [
        "dotenv",
        "config",
        "app",
        "use",
        "express",
        "json",
        "urlencoded",
        "extended",
        "mongoose",
        "connect",
        "process",
        "env",
        "MONGODB_URL",
        "useNewUrlParser",
        "useUnifiedTopology",
        "useCreateIndex",
        "uploadRouter",
        "userRouter",
        "productRouter",
        "orderRouter",
        "get",
        "req",
        "res",
        "send",
        "PAYPAL_CLIENT_ID",
        "__dirname",
        "path",
        "resolve",
        "static",
        "join",
        "sendFile",
        "err",
        "next",
        "status",
        "message",
        "port",
        "PORT",
        "listen",
        "console",
        "log"
      ],
      "mappings": ";;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;AAEAA,gBAAOC,MAAP;;AAEA,MAAMC,GAAG,GAAG,uBAAZ;AACAA,GAAG,CAACC,GAAJ,CAAQC,iBAAQC,IAAR,EAAR;AACAH,GAAG,CAACC,GAAJ,CAAQC,iBAAQE,UAAR,CAAmB;AAAEC,EAAAA,QAAQ,EAAE;AAAZ,CAAnB,CAAR;;AAEAC,kBAASC,OAAT,CAAiBC,OAAO,CAACC,GAAR,CAAYC,WAAZ,IAA2B,8BAA5C,EAA4E;AAC1EC,EAAAA,eAAe,EAAE,IADyD;AAE1EC,EAAAA,kBAAkB,EAAE,IAFsD;AAG1EC,EAAAA,cAAc,EAAE;AAH0D,CAA5E;;AAKAb,GAAG,CAACC,GAAJ,CAAQ,cAAR,EAAwBa,qBAAxB;AACAd,GAAG,CAACC,GAAJ,CAAQ,YAAR,EAAsBc,mBAAtB;AACAf,GAAG,CAACC,GAAJ,CAAQ,eAAR,EAAyBe,sBAAzB;AACAhB,GAAG,CAACC,GAAJ,CAAQ,aAAR,EAAuBgB,oBAAvB;AACAjB,GAAG,CAACkB,GAAJ,CAAQ,oBAAR,EAA8B,CAACC,GAAD,EAAMC,GAAN,KAAc;AAC1CA,EAAAA,GAAG,CAACC,IAAJ,CAASb,OAAO,CAACC,GAAR,CAAYa,gBAAZ,IAAgC,IAAzC;AACD,CAFD;;AAGA,MAAMC,QAAS,GAAGC,cAAKC,OAAL,EAAlB;;AACAzB,GAAG,CAACC,GAAJ,CAAQ,UAAR,EAAoBC,iBAAQwB,MAAR,CAAeF,cAAKG,IAAL,CAAUJ,QAAV,EAAqB,UAArB,CAAf,CAApB;AACAvB,GAAG,CAACC,GAAJ,CAAQC,iBAAQwB,MAAR,CAAeF,cAAKG,IAAL,CAAUJ,QAAV,EAAqB,iBAArB,CAAf,CAAR;AACAvB,GAAG,CAACkB,GAAJ,CAAQ,GAAR,EAAa,CAACC,GAAD,EAAMC,GAAN,KACXA,GAAG,CAACQ,QAAJ,CAAaJ,cAAKG,IAAL,CAAUJ,QAAV,EAAqB,4BAArB,CAAb,CADF;AAKAvB,GAAG,CAACC,GAAJ,CAAQ,CAAC4B,GAAD,EAAMV,GAAN,EAAWC,GAAX,EAAgBU,IAAhB,KAAyB;AAC/BV,EAAAA,GAAG,CAACW,MAAJ,CAAW,GAAX,EAAgBV,IAAhB,CAAqB;AAAEW,IAAAA,OAAO,EAAEH,GAAG,CAACG;AAAf,GAArB;AACD,CAFD;AAIA,MAAMC,IAAI,GAAGzB,OAAO,CAACC,GAAR,CAAYyB,IAAZ,IAAoB,IAAjC;AACAlC,GAAG,CAACmC,MAAJ,CAAWF,IAAX,EAAiB,MAAM;AACrBG,EAAAA,OAAO,CAACC,GAAR,CAAa,sCAAqCJ,IAAK,EAAvD;AACD,CAFD",
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/older/backend/",
      "sourcesContent": [
        "import express from 'express';\nimport mongoose from 'mongoose';\nimport dotenv from 'dotenv';\nimport path from 'path';\nimport productRouter from './routes/productRouter.js';\nimport userRouter from './routes/userRouter.js';\nimport orderRouter from './routes/orderRouter.js';\nimport uploadRouter from './routes/uploadRouter.js';\n\ndotenv.config();\n\nconst app = express();\napp.use(express.json());\napp.use(express.urlencoded({ extended: true }));\n\nmongoose.connect(process.env.MONGODB_URL || 'mongodb://localhost/luxeshop', {\n  useNewUrlParser: true,\n  useUnifiedTopology: true,\n  useCreateIndex: true,\n});\napp.use('/api/uploads', uploadRouter);\napp.use('/api/users', userRouter);\napp.use('/api/products', productRouter);\napp.use('/api/orders', orderRouter);\napp.get('/api/config/paypal', (req, res) => {\n  res.send(process.env.PAYPAL_CLIENT_ID || 'sb');\n});\nconst __dirname = path.resolve();\napp.use('/uploads', express.static(path.join(__dirname, '/uploads')));\napp.use(express.static(path.join(__dirname, '/frontend/build')));\napp.get('*', (req, res) =>\n  res.sendFile(path.join(__dirname, '/frontend/build/index.html'))\n);\n\n\napp.use((err, req, res, next) => {\n  res.status(500).send({ message: err.message });\n});\n\nconst port = process.env.PORT || 5000;\napp.listen(port, () => {\n  console.log(`Server started at http://localhost:${port}`);\n});\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1607066219440
  },
  "{\"sourceRoot\":\"/Users/Me/Desktop/ReactProjects/older/backend/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/Me/Desktop/ReactProjects/older\",\"filename\":\"/Users/Me/Desktop/ReactProjects/older/backend/config.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/Me/Desktop/ReactProjects/older\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/older/backend/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/Me/Desktop/ReactProjects/older",
      "filename": "/Users/Me/Desktop/ReactProjects/older/backend/config.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/Me/Desktop/ReactProjects/older",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/Me/Desktop/ReactProjects/older/backend/config.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/Me/Desktop/ReactProjects/older/backend/config.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/Me/Desktop/ReactProjects/older/backend/",
        "sourceFileName": "config.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _dotenv = _interopRequireDefault(require(\"dotenv\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_dotenv.default.config();\n\nvar _default = {\n  PORT: process.env.PORT || 5000,\n  MONGODB_URL: process.env.MONGODB_URL || 'mongodb://localhost/luxeshop',\n  JWT_SECRET: process.env.JWT_SECRET || 'somethingsecret',\n  PAYPAL_CLIENT_ID: process.env.PAYPAL_CLIENT_ID || 'sb',\n  accessKeyId: process.env.accessKeyId || 'accessKeyId',\n  secretAccessKey: process.env.secretAccessKey || 'secretAccessKey'\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbmZpZy5qcyJdLCJuYW1lcyI6WyJkb3RlbnYiLCJjb25maWciLCJQT1JUIiwicHJvY2VzcyIsImVudiIsIk1PTkdPREJfVVJMIiwiSldUX1NFQ1JFVCIsIlBBWVBBTF9DTElFTlRfSUQiLCJhY2Nlc3NLZXlJZCIsInNlY3JldEFjY2Vzc0tleSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7O0FBRUFBLGdCQUFPQyxNQUFQOztlQUVlO0FBQ2JDLEVBQUFBLElBQUksRUFBRUMsT0FBTyxDQUFDQyxHQUFSLENBQVlGLElBQVosSUFBb0IsSUFEYjtBQUViRyxFQUFBQSxXQUFXLEVBQUVGLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxXQUFaLElBQTJCLDhCQUYzQjtBQUdiQyxFQUFBQSxVQUFVLEVBQUVILE9BQU8sQ0FBQ0MsR0FBUixDQUFZRSxVQUFaLElBQTBCLGlCQUh6QjtBQUliQyxFQUFBQSxnQkFBZ0IsRUFBRUosT0FBTyxDQUFDQyxHQUFSLENBQVlHLGdCQUFaLElBQWdDLElBSnJDO0FBS2JDLEVBQUFBLFdBQVcsRUFBRUwsT0FBTyxDQUFDQyxHQUFSLENBQVlJLFdBQVosSUFBMkIsYUFMM0I7QUFNYkMsRUFBQUEsZUFBZSxFQUFFTixPQUFPLENBQUNDLEdBQVIsQ0FBWUssZUFBWixJQUErQjtBQU5uQyxDIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9NZS9EZXNrdG9wL1JlYWN0UHJvamVjdHMvb2xkZXIvYmFja2VuZC8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZG90ZW52IGZyb20gJ2RvdGVudic7XG5cbmRvdGVudi5jb25maWcoKTtcblxuZXhwb3J0IGRlZmF1bHQge1xuICBQT1JUOiBwcm9jZXNzLmVudi5QT1JUIHx8IDUwMDAsXG4gIE1PTkdPREJfVVJMOiBwcm9jZXNzLmVudi5NT05HT0RCX1VSTCB8fCAnbW9uZ29kYjovL2xvY2FsaG9zdC9sdXhlc2hvcCcsXG4gIEpXVF9TRUNSRVQ6IHByb2Nlc3MuZW52LkpXVF9TRUNSRVQgfHwgJ3NvbWV0aGluZ3NlY3JldCcsXG4gIFBBWVBBTF9DTElFTlRfSUQ6IHByb2Nlc3MuZW52LlBBWVBBTF9DTElFTlRfSUQgfHwgJ3NiJyxcbiAgYWNjZXNzS2V5SWQ6IHByb2Nlc3MuZW52LmFjY2Vzc0tleUlkIHx8ICdhY2Nlc3NLZXlJZCcsXG4gIHNlY3JldEFjY2Vzc0tleTogcHJvY2Vzcy5lbnYuc2VjcmV0QWNjZXNzS2V5IHx8ICdzZWNyZXRBY2Nlc3NLZXknLFxufTtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "config.js"
      ],
      "names": [
        "dotenv",
        "config",
        "PORT",
        "process",
        "env",
        "MONGODB_URL",
        "JWT_SECRET",
        "PAYPAL_CLIENT_ID",
        "accessKeyId",
        "secretAccessKey"
      ],
      "mappings": ";;;;;;;AAAA;;;;AAEAA,gBAAOC,MAAP;;eAEe;AACbC,EAAAA,IAAI,EAAEC,OAAO,CAACC,GAAR,CAAYF,IAAZ,IAAoB,IADb;AAEbG,EAAAA,WAAW,EAAEF,OAAO,CAACC,GAAR,CAAYC,WAAZ,IAA2B,8BAF3B;AAGbC,EAAAA,UAAU,EAAEH,OAAO,CAACC,GAAR,CAAYE,UAAZ,IAA0B,iBAHzB;AAIbC,EAAAA,gBAAgB,EAAEJ,OAAO,CAACC,GAAR,CAAYG,gBAAZ,IAAgC,IAJrC;AAKbC,EAAAA,WAAW,EAAEL,OAAO,CAACC,GAAR,CAAYI,WAAZ,IAA2B,aAL3B;AAMbC,EAAAA,eAAe,EAAEN,OAAO,CAACC,GAAR,CAAYK,eAAZ,IAA+B;AANnC,C",
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/older/backend/",
      "sourcesContent": [
        "import dotenv from 'dotenv';\n\ndotenv.config();\n\nexport default {\n  PORT: process.env.PORT || 5000,\n  MONGODB_URL: process.env.MONGODB_URL || 'mongodb://localhost/luxeshop',\n  JWT_SECRET: process.env.JWT_SECRET || 'somethingsecret',\n  PAYPAL_CLIENT_ID: process.env.PAYPAL_CLIENT_ID || 'sb',\n  accessKeyId: process.env.accessKeyId || 'accessKeyId',\n  secretAccessKey: process.env.secretAccessKey || 'secretAccessKey',\n};\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1600927414131
  },
  "{\"sourceRoot\":\"/Users/Me/Desktop/ReactProjects/older/backend/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/Me/Desktop/ReactProjects/older\",\"filename\":\"/Users/Me/Desktop/ReactProjects/older/backend/routes/userRoute.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/Me/Desktop/ReactProjects/older\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/older/backend/routes/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/Me/Desktop/ReactProjects/older",
      "filename": "/Users/Me/Desktop/ReactProjects/older/backend/routes/userRoute.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/Me/Desktop/ReactProjects/older",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/Me/Desktop/ReactProjects/older/backend/routes/userRoute.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/Me/Desktop/ReactProjects/older/backend/routes/userRoute.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/Me/Desktop/ReactProjects/older/backend/routes/",
        "sourceFileName": "userRoute.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _userModel = _interopRequireDefault(require(\"../schemas/userModel\"));\n\nvar _util = require(\"../util\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst router = _express.default.Router();\n\nrouter.put('/:id', _util.isAuth, async (req, res) => {\n  const userId = req.params.id;\n  const user = await _userModel.default.findById(userId);\n\n  if (user) {\n    user.name = req.body.name || user.name;\n    user.email = req.body.email || user.email;\n    user.password = req.body.password || user.password;\n    const updatedUser = await user.save();\n    res.send({\n      _id: updatedUser.id,\n      name: updatedUser.name,\n      email: updatedUser.email,\n      isAdmin: updatedUser.isAdmin,\n      token: (0, _util.getToken)(updatedUser)\n    });\n  } else {\n    res.status(404).send({\n      message: 'User Not Found'\n    });\n  }\n});\nrouter.post('/signin', async (req, res) => {\n  const signinUser = await _userModel.default.findOne({\n    email: req.body.email,\n    password: req.body.password\n  });\n\n  if (signinUser) {\n    res.send({\n      _id: signinUser.id,\n      name: signinUser.name,\n      email: signinUser.email,\n      isAdmin: signinUser.isAdmin,\n      token: (0, _util.getToken)(signinUser)\n    });\n  } else {\n    res.status(401).send({\n      message: 'Invalid Email or Password.'\n    });\n  }\n});\nrouter.post('/register', async (req, res) => {\n  const user = new _userModel.default({\n    name: req.body.name,\n    email: req.body.email,\n    password: req.body.password\n  });\n  const newUser = await user.save();\n\n  if (newUser) {\n    res.send({\n      _id: newUser.id,\n      name: newUser.name,\n      email: newUser.email,\n      isAdmin: newUser.isAdmin,\n      token: (0, _util.getToken)(newUser)\n    });\n  } else {\n    res.status(401).send({\n      message: 'Invalid User Data.'\n    });\n  }\n});\nrouter.get('/createadmin', async (req, res) => {\n  try {\n    const user = new _userModel.default({\n      name: 'Kim',\n      email: 'admin@admin.com',\n      password: '1111',\n      isAdmin: true\n    });\n    const newUser = await user.save();\n    res.send(newUser);\n  } catch (error) {\n    res.send({\n      message: error.message\n    });\n  }\n});\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJSb3V0ZS5qcyJdLCJuYW1lcyI6WyJyb3V0ZXIiLCJleHByZXNzIiwiUm91dGVyIiwicHV0IiwiaXNBdXRoIiwicmVxIiwicmVzIiwidXNlcklkIiwicGFyYW1zIiwiaWQiLCJ1c2VyIiwiVXNlciIsImZpbmRCeUlkIiwibmFtZSIsImJvZHkiLCJlbWFpbCIsInBhc3N3b3JkIiwidXBkYXRlZFVzZXIiLCJzYXZlIiwic2VuZCIsIl9pZCIsImlzQWRtaW4iLCJ0b2tlbiIsInN0YXR1cyIsIm1lc3NhZ2UiLCJwb3N0Iiwic2lnbmluVXNlciIsImZpbmRPbmUiLCJuZXdVc2VyIiwiZ2V0IiwiZXJyb3IiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7OztBQUVBLE1BQU1BLE1BQU0sR0FBR0MsaUJBQVFDLE1BQVIsRUFBZjs7QUFFQUYsTUFBTSxDQUFDRyxHQUFQLENBQVcsTUFBWCxFQUFtQkMsWUFBbkIsRUFBMkIsT0FBT0MsR0FBUCxFQUFZQyxHQUFaLEtBQW9CO0FBQzdDLFFBQU1DLE1BQU0sR0FBR0YsR0FBRyxDQUFDRyxNQUFKLENBQVdDLEVBQTFCO0FBQ0EsUUFBTUMsSUFBSSxHQUFHLE1BQU1DLG1CQUFLQyxRQUFMLENBQWNMLE1BQWQsQ0FBbkI7O0FBQ0EsTUFBSUcsSUFBSixFQUFVO0FBQ1JBLElBQUFBLElBQUksQ0FBQ0csSUFBTCxHQUFZUixHQUFHLENBQUNTLElBQUosQ0FBU0QsSUFBVCxJQUFpQkgsSUFBSSxDQUFDRyxJQUFsQztBQUNBSCxJQUFBQSxJQUFJLENBQUNLLEtBQUwsR0FBYVYsR0FBRyxDQUFDUyxJQUFKLENBQVNDLEtBQVQsSUFBa0JMLElBQUksQ0FBQ0ssS0FBcEM7QUFDQUwsSUFBQUEsSUFBSSxDQUFDTSxRQUFMLEdBQWdCWCxHQUFHLENBQUNTLElBQUosQ0FBU0UsUUFBVCxJQUFxQk4sSUFBSSxDQUFDTSxRQUExQztBQUNBLFVBQU1DLFdBQVcsR0FBRyxNQUFNUCxJQUFJLENBQUNRLElBQUwsRUFB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QUFBQSxJQUFJLEVBQUUsS0FEYztBQUVwQkUsTUFBQUEsS0FBSyxFQUFFLGlCQUZhO0FBR3BCQyxNQUFBQSxRQUFRLEVBQUUsTUFIVTtBQUlwQkssTUFBQUEsT0FBTyxFQUFFO0FBSlcsS0FBVCxDQUFiO0FBTUEsVUFBTU8sT0FBTyxHQUFHLE1BQU1sQixJQUFJLENBQUNRLElBQUwsRUFBdEI7QUFDQVosSUFBQUEsR0FBRyxDQUFDYSxJQUFKLENBQVNTLE9BQVQ7QUFDRCxHQVRELENBU0UsT0FBT0UsS0FBUCxFQUFjO0FBQ2R4QixJQUFBQSxHQUFHLENBQUNhLElBQUosQ0FBUztBQUFFSyxNQUFBQSxPQUFPLEVBQUVNLEtBQUssQ0FBQ047QUFBakIsS0FBVDtBQUNEO0FBQ0YsQ0FiRDtlQWVleEIsTSIsInNvdXJjZVJvb3QiOiIvVXNlcnMvTWUvRGVza3RvcC9SZWFjdFByb2plY3RzL29sZGVyL2JhY2tlbmQvcm91dGVzLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IFVzZXIgZnJvbSAnLi4vc2NoZW1hcy91c2VyTW9kZWwnO1xuaW1wb3J0IHsgZ2V0VG9rZW4sIGlzQXV0aCB9IGZyb20gJy4uL3V0aWwnO1xuXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xuXG5yb3V0ZXIucHV0KCcvOmlkJywgaXNBdXRoLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgY29uc3QgdXNlcklkID0gcmVxLnBhcmFtcy5pZDtcbiAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXIuZmluZEJ5SWQodXNlcklkKTtcbiAgaWYgKHVzZXIpIHtcbiAgICB1c2VyLm5hbWUgPSByZXEuYm9keS5uYW1lIHx8IHVzZXIubmFtZTtcbiAgICB1c2VyLmVtYWlsID0gcmVxLmJvZHkuZW1haWwgfHwgdXNlci5lbWFpbDtcbiAgICB1c2VyLnBhc3N3b3JkID0gcmVxLmJvZHkucGFzc3dvcmQgfHwgdXNlci5wYXNzd29yZDtcbiAgICBjb25zdCB1cGRhdGVkVXNlciA9IGF3YWl0IHVzZXIuc2F2ZSgpO1xuICAgIHJlcy5zZW5kKHtcbiAgICAgIF9pZDogdXBkYXRlZFVzZXIuaWQsXG4gICAgICBuYW1lOiB1cGRhdGVkVXNlci5uYW1lLFxuICAgICAgZW1haWw6IHVwZGF0ZWRVc2VyLmVtYWlsLFxuICAgICAgaXNBZG1pbjogdXBkYXRlZFVzZXIuaXNBZG1pbixcbiAgICAgIHRva2VuOiBnZXRUb2tlbih1cGRhdGVkVXNlciksXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoeyBtZXNzYWdlOiAnVXNlciBOb3QgRm91bmQnIH0pO1xuICB9XG59KTtcblxucm91dGVyLnBvc3QoJy9zaWduaW4nLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgY29uc3Qgc2lnbmluVXNlciA9IGF3YWl0IFVzZXIuZmluZE9uZSh7XG4gICAgZW1haWw6IHJlcS5ib2R5LmVtYWlsLFxuICAgIHBhc3N3b3JkOiByZXEuYm9keS5wYXNzd29yZCxcbiAgfSk7XG4gIGlmIChzaWduaW5Vc2VyKSB7XG4gICAgcmVzLnNlbmQoe1xuICAgICAgX2lkOiBzaWduaW5Vc2VyLmlkLFxuICAgICAgbmFtZTogc2lnbmluVXNlci5uYW1lLFxuICAgICAgZW1haWw6IHNpZ25pblVzZXIuZW1haWwsXG4gICAgICBpc0FkbWluOiBzaWduaW5Vc2VyLmlzQWRtaW4sXG4gICAgICB0b2tlbjogZ2V0VG9rZW4oc2lnbmluVXNlciksXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgcmVzLnN0YXR1cyg0MDEpLnNlbmQoeyBtZXNzYWdlOiAnSW52YWxpZCBFbWFpbCBvciBQYXNzd29yZC4nIH0pO1xuICB9XG59KTtcblxucm91dGVyLnBvc3QoJy9yZWdpc3RlcicsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICBjb25zdCB1c2VyID0gbmV3IFVzZXIoe1xuICAgIG5hbWU6IHJlcS5ib2R5Lm5hbWUsXG4gICAgZW1haWw6IHJlcS5ib2R5LmVtYWlsLFxuICAgIHBhc3N3b3JkOiByZXEuYm9keS5wYXNzd29yZCxcbiAgfSk7XG4gIGNvbnN0IG5ld1VzZXIgPSBhd2FpdCB1c2VyLnNhdmUoKTtcbiAgaWYgKG5ld1VzZXIpIHtcbiAgICByZXMuc2VuZCh7XG4gICAgICBfaWQ6IG5ld1VzZXIuaWQsXG4gICAgICBuYW1lOiBuZXdVc2VyLm5hbWUsXG4gICAgICBlbWFpbDogbmV3VXNlci5lbWFpbCxcbiAgICAgIGlzQWRtaW46IG5ld1VzZXIuaXNBZG1pbixcbiAgICAgIHRva2VuOiBnZXRUb2tlbihuZXdVc2VyKSxcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICByZXMuc3RhdHVzKDQwMSkuc2VuZCh7IG1lc3NhZ2U6ICdJbnZhbGlkIFVzZXIgRGF0YS4nIH0pO1xuICB9XG59KTtcblxucm91dGVyLmdldCgnL2NyZWF0ZWFkbWluJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgdXNlciA9IG5ldyBVc2VyKHtcbiAgICAgIG5hbWU6ICdLaW0nLFxuICAgICAgZW1haWw6ICdhZG1pbkBhZG1pbi5jb20nLFxuICAgICAgcGFzc3dvcmQ6ICcxMTExJyxcbiAgICAgIGlzQWRtaW46IHRydWUsXG4gICAgfSk7XG4gICAgY29uc3QgbmV3VXNlciA9IGF3YWl0IHVzZXIuc2F2ZSgpO1xuICAgIHJlcy5zZW5kKG5ld1VzZXIpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJlcy5zZW5kKHsgbWVzc2FnZTogZXJyb3IubWVzc2FnZSB9KTtcbiAgfVxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "userRoute.js"
      ],
      "names": [
        "router",
        "express",
        "Router",
        "put",
        "isAuth",
        "req",
        "res",
        "userId",
        "params",
        "id",
        "user",
        "User",
        "findById",
        "name",
        "body",
        "email",
        "password",
        "updatedUser",
        "save",
        "send",
        "_id",
        "isAdmin",
        "token",
        "status",
        "message",
        "post",
        "signinUser",
        "findOne",
        "newUser",
        "get",
        "error"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/older/backend/routes/",
      "sourcesContent": [
        "import express from 'express';\nimport User from '../schemas/userModel';\nimport { getToken, isAuth } from '../util';\n\nconst router = express.Router();\n\nrouter.put('/:id', isAuth, async (req, res) => {\n  const userId = req.params.id;\n  const user = await User.findById(userId);\n  if (user) {\n    user.name = req.body.name || user.name;\n    user.email = req.body.email || user.email;\n    user.password = req.body.password || user.password;\n    const updatedUser = await user.save();\n    res.send({\n      _id: updatedUser.id,\n      name: updatedUser.name,\n      email: updatedUser.email,\n      isAdmin: updatedUser.isAdmin,\n      token: getToken(updatedUser),\n    });\n  } else {\n    res.status(404).send({ message: 'User Not Found' });\n  }\n});\n\nrouter.post('/signin', async (req, res) => {\n  const signinUser = await User.findOne({\n    email: req.body.email,\n    password: req.body.password,\n  });\n  if (signinUser) {\n    res.send({\n      _id: signinUser.id,\n      name: signinUser.name,\n      email: signinUser.email,\n      isAdmin: signinUser.isAdmin,\n      token: getToken(signinUser),\n    });\n  } else {\n    res.status(401).send({ message: 'Invalid Email or Password.' });\n  }\n});\n\nrouter.post('/register', async (req, res) => {\n  const user = new User({\n    name: req.body.name,\n    email: req.body.email,\n    password: req.body.password,\n  });\n  const newUser = await user.save();\n  if (newUser) {\n    res.send({\n      _id: newUser.id,\n      name: newUser.name,\n      email: newUser.email,\n      isAdmin: newUser.isAdmin,\n      token: getToken(newUser),\n    });\n  } else {\n    res.status(401).send({ message: 'Invalid User Data.' });\n  }\n});\n\nrouter.get('/createadmin', async (req, res) => {\n  try {\n    const user = new User({\n      name: 'Kim',\n      email: 'admin@admin.com',\n      password: '1111',\n      isAdmin: true,\n    });\n    const newUser = await user.save();\n    res.send(newUser);\n  } catch (error) {\n    res.send({ message: error.message });\n  }\n});\n\nexport default router;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1606438707215
  },
  "{\"sourceRoot\":\"/Users/Me/Desktop/ReactProjects/older/backend/schemas/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/Me/Desktop/ReactProjects/older\",\"filename\":\"/Users/Me/Desktop/ReactProjects/older/backend/schemas/userModel.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/Me/Desktop/ReactProjects/older\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/older/backend/schemas/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/Me/Desktop/ReactProjects/older",
      "filename": "/Users/Me/Desktop/ReactProjects/older/backend/schemas/userModel.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/Me/Desktop/ReactProjects/older",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/Me/Desktop/ReactProjects/older/backend/schemas/userModel.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/Me/Desktop/ReactProjects/older/backend/schemas/userModel.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/Me/Desktop/ReactProjects/older/backend/schemas/",
        "sourceFileName": "userModel.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst userSchema = new _mongoose.default.Schema({\n  name: {\n    type: String,\n    required: true\n  },\n  email: {\n    type: String,\n    required: true,\n    unique: true\n  },\n  password: {\n    type: String,\n    required: true\n  },\n  isAdmin: {\n    type: Boolean,\n    default: false,\n    required: true\n  },\n  isSeller: {\n    type: Boolean,\n    default: false,\n    required: true\n  },\n  seller: {\n    name: String,\n    logo: String,\n    description: String,\n    rating: {\n      type: Number,\n      default: 0,\n      required: true\n    },\n    numReviews: {\n      type: Number,\n      default: 0,\n      required: true\n    }\n  }\n}, {\n  timestamps: true\n});\n\nconst User = _mongoose.default.model('User', userSchema);\n\nvar _default = User;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJNb2RlbC5qcyJdLCJuYW1lcyI6WyJ1c2VyU2NoZW1hIiwibW9uZ29vc2UiLCJTY2hlbWEiLCJuYW1lIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwiZW1haWwiLCJ1bmlxdWUiLCJwYXNzd29yZCIsImlzQWRtaW4iLCJCb29sZWFuIiwiZGVmYXVsdCIsImlzU2VsbGVyIiwic2VsbGVyIiwibG9nbyIsImRlc2NyaXB0aW9uIiwicmF0aW5nIiwiTnVtYmVyIiwibnVtUmV2aWV3cyIsInRpbWVzdGFtcHMiLCJVc2VyIiwibW9kZWwiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7OztBQUVBLE1BQU1BLFVBQVUsR0FBRyxJQUFJQyxrQkFBU0MsTUFBYixDQUNqQjtBQUNFQyxFQUFBQSxJQUFJLEVBQUU7QUFBRUMsSUFBQUEsSUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxJQUFBQSxRQUFRLEVBQUU7QUFBMUIsR0FEUjtBQUVFQyxFQUFBQSxLQUFLLEVBQUU7QUFBRUgsSUFBQUEsSUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxJQUFBQSxRQUFRLEVBQUUsSUFBMUI7QUFBZ0NFLElBQUFBLE1BQU0sRUFBRTtBQUF4QyxHQUZUO0FBR0VDLEVBQUFBLFFBQVEsRUFBRTtBQUFFTCxJQUFBQSxJQUFJLEVBQUVDLE1BQVI7QUFBZ0JDLElBQUFBLFFBQVEsRUFBRTtBQUExQixHQUhaO0FBSUVJLEVBQUFBLE9BQU8sRUFBRTtBQUFFTixJQUFBQSxJQUFJLEVBQUVPLE9BQVI7QUFBaUJDLElBQUFBLE9BQU8sRUFBRSxLQUExQjtBQUFpQ04sSUFBQUEsUUFBUSxFQUFFO0FBQTNDLEdBSlg7QUFLRU8sRUFBQUEsUUFBUSxFQUFFO0FBQUVULElBQUFBLElBQUksRUFBRU8sT0FBUjtBQUFpQkMsSUFBQUEsT0FBTyxFQUFFLEtBQTFCO0FBQWlDTixJQUFBQSxRQUFRLEVBQUU7QUFBM0MsR0FMWjtBQU1FUSxFQUFBQSxNQUFNLEVBQUU7QUFDTlgsSUFBQUEsSUFBSSxFQUFFRSxNQURBO0FBRU5VLElBQUFBLElBQUksRUFBRVYsTUFGQTtBQUdOVyxJQUFBQSxXQUFXLEVBQUVYLE1BSFA7QUFJTlksSUFBQUEsTUFBTSxFQUFFO0FBQUViLE1BQUFBLElBQUksRUFBRWMsTUFBUjtBQUFnQk4sTUFBQUEsT0FBTyxFQUFFLENBQXpCO0FBQTRCTixNQUFBQSxRQUFRLEVBQUU7QUFBdEMsS0FKRjtBQUtOYSxJQUFBQSxVQUFVLEVBQUU7QUFBRWYsTUFBQUEsSUFBSSxFQUFFYyxNQUFSO0FBQWdCTixNQUFBQSxPQUFPLEVBQUUsQ0FBekI7QUFBNEJOLE1BQUFBLFFBQVEsRUFBRTtBQUF0QztBQUxOO0FBTlYsQ0FEaUIsRUFlakI7QUFDRWMsRUFBQUEsVUFBVSxFQUFFO0FBRGQsQ0FmaUIsQ0FBbkI7O0FBbUJBLE1BQU1DLElBQUksR0FBR3BCLGtCQUFTcUIsS0FBVCxDQUFlLE1BQWYsRUFBdUJ0QixVQUF2QixDQUFiOztlQUNlcUIsSSIsInNvdXJjZVJvb3QiOiIvVXNlcnMvTWUvRGVza3RvcC9SZWFjdFByb2plY3RzL29sZGVyL2JhY2tlbmQvc2NoZW1hcy8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xuXG5jb25zdCB1c2VyU2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYShcbiAge1xuICAgIG5hbWU6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgIGVtYWlsOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUsIHVuaXF1ZTogdHJ1ZSB9LFxuICAgIHBhc3N3b3JkOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICBpc0FkbWluOiB7IHR5cGU6IEJvb2xlYW4sIGRlZmF1bHQ6IGZhbHNlLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgIGlzU2VsbGVyOiB7IHR5cGU6IEJvb2xlYW4sIGRlZmF1bHQ6IGZhbHNlLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgIHNlbGxlcjoge1xuICAgICAgbmFtZTogU3RyaW5nLFxuICAgICAgbG9nbzogU3RyaW5nLFxuICAgICAgZGVzY3JpcHRpb246IFN0cmluZyxcbiAgICAgIHJhdGluZzogeyB0eXBlOiBOdW1iZXIsIGRlZmF1bHQ6IDAsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgICBudW1SZXZpZXdzOiB7IHR5cGU6IE51bWJlciwgZGVmYXVsdDogMCwgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICB9LFxuICB9LFxuICB7XG4gICAgdGltZXN0YW1wczogdHJ1ZSxcbiAgfVxuKTtcbmNvbnN0IFVzZXIgPSBtb25nb29zZS5tb2RlbCgnVXNlcicsIHVzZXJTY2hlbWEpO1xuZXhwb3J0IGRlZmF1bHQgVXNlcjtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "userModel.js"
      ],
      "names": [
        "userSchema",
        "mongoose",
        "Schema",
        "name",
        "type",
        "String",
        "required",
        "email",
        "unique",
        "password",
        "isAdmin",
        "Boolean",
        "default",
        "isSeller",
        "seller",
        "logo",
        "description",
        "rating",
        "Number",
        "numReviews",
        "timestamps",
        "User",
        "model"
      ],
      "mappings": ";;;;;;;AAAA;;;;AAEA,MAAMA,UAAU,GAAG,IAAIC,kBAASC,MAAb,CACjB;AACEC,EAAAA,IAAI,EAAE;AAAEC,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GADR;AAEEC,EAAAA,KAAK,EAAE;AAAEH,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE,IAA1B;AAAgCE,IAAAA,MAAM,EAAE;AAAxC,GAFT;AAGEC,EAAAA,QAAQ,EAAE;AAAEL,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAHZ;AAIEI,EAAAA,OAAO,EAAE;AAAEN,IAAAA,IAAI,EAAEO,OAAR;AAAiBC,IAAAA,OAAO,EAAE,KAA1B;AAAiCN,IAAAA,QAAQ,EAAE;AAA3C,GAJX;AAKEO,EAAAA,QAAQ,EAAE;AAAET,IAAAA,IAAI,EAAEO,OAAR;AAAiBC,IAAAA,OAAO,EAAE,KAA1B;AAAiCN,IAAAA,QAAQ,EAAE;AAA3C,GALZ;AAMEQ,EAAAA,MAAM,EAAE;AACNX,IAAAA,IAAI,EAAEE,MADA;AAENU,IAAAA,IAAI,EAAEV,MAFA;AAGNW,IAAAA,WAAW,EAAEX,MAHP;AAINY,IAAAA,MAAM,EAAE;AAAEb,MAAAA,IAAI,EAAEc,MAAR;AAAgBN,MAAAA,OAAO,EAAE,CAAzB;AAA4BN,MAAAA,QAAQ,EAAE;AAAtC,KAJF;AAKNa,IAAAA,UAAU,EAAE;AAAEf,MAAAA,IAAI,EAAEc,MAAR;AAAgBN,MAAAA,OAAO,EAAE,CAAzB;AAA4BN,MAAAA,QAAQ,EAAE;AAAtC;AALN;AANV,CADiB,EAejB;AACEc,EAAAA,UAAU,EAAE;AADd,CAfiB,CAAnB;;AAmBA,MAAMC,IAAI,GAAGpB,kBAASqB,KAAT,CAAe,MAAf,EAAuBtB,UAAvB,CAAb;;eACeqB,I",
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/older/backend/schemas/",
      "sourcesContent": [
        "import mongoose from 'mongoose';\n\nconst userSchema = new mongoose.Schema(\n  {\n    name: { type: String, required: true },\n    email: { type: String, required: true, unique: true },\n    password: { type: String, required: true },\n    isAdmin: { type: Boolean, default: false, required: true },\n    isSeller: { type: Boolean, default: false, required: true },\n    seller: {\n      name: String,\n      logo: String,\n      description: String,\n      rating: { type: Number, default: 0, required: true },\n      numReviews: { type: Number, default: 0, required: true },\n    },\n  },\n  {\n    timestamps: true,\n  }\n);\nconst User = mongoose.model('User', userSchema);\nexport default User;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1606412590000
  },
  "{\"sourceRoot\":\"/Users/Me/Desktop/ReactProjects/older/backend/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/Me/Desktop/ReactProjects/older\",\"filename\":\"/Users/Me/Desktop/ReactProjects/older/backend/util.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/Me/Desktop/ReactProjects/older\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/older/backend/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/Me/Desktop/ReactProjects/older",
      "filename": "/Users/Me/Desktop/ReactProjects/older/backend/util.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/Me/Desktop/ReactProjects/older",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/Me/Desktop/ReactProjects/older/backend/util.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/Me/Desktop/ReactProjects/older/backend/util.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/Me/Desktop/ReactProjects/older/backend/",
        "sourceFileName": "util.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isAdmin = exports.isAuth = exports.getToken = void 0;\n\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\n\nvar _config = _interopRequireDefault(require(\"./config\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst getToken = user => {\n  return _jsonwebtoken.default.sign({\n    _id: user._id,\n    name: user.name,\n    email: user.email,\n    isAdmin: user.isAdmin\n  }, _config.default.JWT_SECRET, {\n    expiresIn: '48h'\n  });\n};\n\nexports.getToken = getToken;\n\nconst isAuth = (req, res, next) => {\n  const token = req.headers.authorization;\n\n  if (token) {\n    const onlyToken = token.slice(7, token.length);\n\n    _jsonwebtoken.default.verify(onlyToken, _config.default.JWT_SECRET, (err, decode) => {\n      if (err) {\n        return res.status(401).send({\n          message: 'Invalid Token'\n        });\n      }\n\n      req.user = decode;\n      next();\n      return;\n    });\n  } else {\n    return res.status(401).send({\n      message: 'Token is not supplied.'\n    });\n  }\n};\n\nexports.isAuth = isAuth;\n\nconst isAdmin = (req, res, next) => {\n  console.log(req.user);\n\n  if (req.user && req.user.isAdmin) {\n    return next();\n  }\n\n  return res.status(401).send({\n    message: 'Admin Token is not valid.'\n  });\n};\n\nexports.isAdmin = isAdmin;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInV0aWwuanMiXSwibmFtZXMiOlsiZ2V0VG9rZW4iLCJ1c2VyIiwiand0Iiwic2lnbiIsIl9pZCIsIm5hbWUiLCJlbWFpbCIsImlzQWRtaW4iLCJjb25maWciLCJKV1RfU0VDUkVUIiwiZXhwaXJlc0luIiwiaXNBdXRoIiwicmVxIiwicmVzIiwibmV4dCIsInRva2VuIiwiaGVhZGVycyIsImF1dGhvcml6YXRpb24iLCJvbmx5VG9rZW4iLCJzbGljZSIsImxlbmd0aCIsInZlcmlmeSIsImVyciIsImRlY29kZSIsInN0YXR1cyIsInNlbmQiLCJtZXNzYWdlIiwiY29uc29sZSIsImxvZyJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOzs7O0FBQ0EsTUFBTUEsUUFBUSxHQUFJQyxJQUFELElBQVU7QUFDekIsU0FBT0Msc0JBQUlDLElBQUosQ0FDTDtBQUNFQyxJQUFBQSxHQUFHLEVBQUVILElBQUksQ0FBQ0csR0FEWjtBQUVFQyxJQUFBQSxJQUFJLEVBQUVKLElBQUksQ0FBQ0ksSUFGYjtBQUdFQyxJQUFBQSxLQUFLLEVBQUVMLElBQUksQ0FBQ0ssS0FIZDtBQUlFQyxJQUFBQSxPQUFPLEVBQUVOLElBQUksQ0FBQ007QUFKaEIsR0FESyxFQU9MQyxnQkFBT0MsVUFQRixFQVFMO0FBQ0VDLElBQUFBLFNBQVMsRUFBRTtBQURiLEdBUkssQ0FBUDtBQVlELENBYkQ7Ozs7QUFlQSxNQUFNQyxNQUFNLEdBQUcsQ0FBQ0MsR0FBRCxFQUFNQyxHQUFOLEVBQVdDLElBQVgsS0FBb0I7QUFDakMsUUFBTUMsS0FBSyxHQUFHSCxHQUFHLENBQUNJLE9BQUosQ0FBWUMsYUFBMUI7O0FBRUEsTUFBSUYsS0FBSixFQUFXO0FBQ1QsVUFBTUcsU0FBUyxHQUFHSCxLQUFLLENBQUNJLEtBQU4sQ0FBWSxDQUFaLEVBQWVKLEtBQUssQ0FBQ0ssTUFBckIsQ0FBbEI7O0FBQ0FsQiwwQkFBSW1CLE1BQUosQ0FBV0gsU0FBWCxFQUFzQlYsZ0JBQU9DLFVBQTdCLEVBQXlDLENBQUNhLEdBQUQsRUFBTUMsTUFBTixLQUFpQjtBQUN4RCxVQUFJRCxHQUFKLEVBQVM7QUFDUCxlQUFPVCxHQUFHLENBQUNXLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFFQyxVQUFBQSxPQUFPLEVBQUU7QUFBWCxTQUFyQixDQUFQO0FBQ0Q7O0FBQ0RkLE1BQUFBLEdBQUcsQ0FBQ1gsSUFBSixHQUFXc0IsTUFBWDtBQUNBVCxNQUFBQSxJQUFJO0FBQ0o7QUFDRCxLQVBEO0FBUUQsR0FWRCxNQVVPO0FBQ0wsV0FBT0QsR0FBRyxDQUFDVyxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBRUMsTUFBQUEsT0FBTyxFQUFFO0FBQVgsS0FBckIsQ0FBUDtBQUNEO0FBQ0YsQ0FoQkQ7Ozs7QUFrQkEsTUFBTW5CLE9BQU8sR0FBRyxDQUFDSyxHQUFELEVBQU1DLEdBQU4sRUFBV0MsSUFBWCxLQUFvQjtBQUNsQ2EsRUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVloQixHQUFHLENBQUNYLElBQWhCOztBQUNBLE1BQUlXLEdBQUcsQ0FBQ1gsSUFBSixJQUFZVyxHQUFHLENBQUNYLElBQUosQ0FBU00sT0FBekIsRUFBa0M7QUFDaEMsV0FBT08sSUFBSSxFQUFYO0FBQ0Q7O0FBQ0QsU0FBT0QsR0FBRyxDQUFDVyxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBRUMsSUFBQUEsT0FBTyxFQUFFO0FBQVgsR0FBckIsQ0FBUDtBQUNELENBTkQiLCJzb3VyY2VSb290IjoiL1VzZXJzL01lL0Rlc2t0b3AvUmVhY3RQcm9qZWN0cy9vbGRlci9iYWNrZW5kLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBqd3QgZnJvbSAnanNvbndlYnRva2VuJztcbmltcG9ydCBjb25maWcgZnJvbSAnLi9jb25maWcnO1xuY29uc3QgZ2V0VG9rZW4gPSAodXNlcikgPT4ge1xuICByZXR1cm4gand0LnNpZ24oXG4gICAge1xuICAgICAgX2lkOiB1c2VyLl9pZCxcbiAgICAgIG5hbWU6IHVzZXIubmFtZSxcbiAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxuICAgICAgaXNBZG1pbjogdXNlci5pc0FkbWluLFxuICAgIH0sXG4gICAgY29uZmlnLkpXVF9TRUNSRVQsXG4gICAge1xuICAgICAgZXhwaXJlc0luOiAnNDhoJyxcbiAgICB9XG4gICk7XG59O1xuXG5jb25zdCBpc0F1dGggPSAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgY29uc3QgdG9rZW4gPSByZXEuaGVhZGVycy5hdXRob3JpemF0aW9uO1xuXG4gIGlmICh0b2tlbikge1xuICAgIGNvbnN0IG9ubHlUb2tlbiA9IHRva2VuLnNsaWNlKDcsIHRva2VuLmxlbmd0aCk7XG4gICAgand0LnZlcmlmeShvbmx5VG9rZW4sIGNvbmZpZy5KV1RfU0VDUkVULCAoZXJyLCBkZWNvZGUpID0+IHtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5zZW5kKHsgbWVzc2FnZTogJ0ludmFsaWQgVG9rZW4nIH0pO1xuICAgICAgfVxuICAgICAgcmVxLnVzZXIgPSBkZWNvZGU7XG4gICAgICBuZXh0KCk7XG4gICAgICByZXR1cm47XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5zZW5kKHsgbWVzc2FnZTogJ1Rva2VuIGlzIG5vdCBzdXBwbGllZC4nIH0pO1xuICB9XG59O1xuXG5jb25zdCBpc0FkbWluID0gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gIGNvbnNvbGUubG9nKHJlcS51c2VyKTtcbiAgaWYgKHJlcS51c2VyICYmIHJlcS51c2VyLmlzQWRtaW4pIHtcbiAgICByZXR1cm4gbmV4dCgpO1xuICB9XG4gIHJldHVybiByZXMuc3RhdHVzKDQwMSkuc2VuZCh7IG1lc3NhZ2U6ICdBZG1pbiBUb2tlbiBpcyBub3QgdmFsaWQuJyB9KTtcbn07XG5cbmV4cG9ydCB7IGdldFRva2VuLCBpc0F1dGgsIGlzQWRtaW4gfTtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "util.js"
      ],
      "names": [
        "getToken",
        "user",
        "jwt",
        "sign",
        "_id",
        "name",
        "email",
        "isAdmin",
        "config",
        "JWT_SECRET",
        "expiresIn",
        "isAuth",
        "req",
        "res",
        "next",
        "token",
        "headers",
        "authorization",
        "onlyToken",
        "slice",
        "length",
        "verify",
        "err",
        "decode",
        "status",
        "send",
        "message",
        "console",
        "log"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;;;AACA,MAAMA,QAAQ,GAAIC,IAAD,IAAU;AACzB,SAAOC,sBAAIC,IAAJ,CACL;AACEC,IAAAA,GAAG,EAAEH,IAAI,CAACG,GADZ;AAEEC,IAAAA,IAAI,EAAEJ,IAAI,CAACI,IAFb;AAGEC,IAAAA,KAAK,EAAEL,IAAI,CAACK,KAHd;AAIEC,IAAAA,OAAO,EAAEN,IAAI,CAACM;AAJhB,GADK,EAOLC,gBAAOC,UAPF,EAQL;AACEC,IAAAA,SAAS,EAAE;AADb,GARK,CAAP;AAYD,CAbD;;;;AAeA,MAAMC,MAAM,GAAG,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;AACjC,QAAMC,KAAK,GAAGH,GAAG,CAACI,OAAJ,CAAYC,aAA1B;;AAEA,MAAIF,KAAJ,EAAW;AACT,UAAMG,SAAS,GAAGH,KAAK,CAACI,KAAN,CAAY,CAAZ,EAAeJ,KAAK,CAACK,MAArB,CAAlB;;AACAlB,0BAAImB,MAAJ,CAAWH,SAAX,EAAsBV,gBAAOC,UAA7B,EAAyC,CAACa,GAAD,EAAMC,MAAN,KAAiB;AACxD,UAAID,GAAJ,EAAS;AACP,eAAOT,GAAG,CAACW,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,UAAAA,OAAO,EAAE;AAAX,SAArB,CAAP;AACD;;AACDd,MAAAA,GAAG,CAACX,IAAJ,GAAWsB,MAAX;AACAT,MAAAA,IAAI;AACJ;AACD,KAPD;AAQD,GAVD,MAUO;AACL,WAAOD,GAAG,CAACW,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,MAAAA,OAAO,EAAE;AAAX,KAArB,CAAP;AACD;AACF,CAhBD;;;;AAkBA,MAAMnB,OAAO,GAAG,CAACK,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;AAClCa,EAAAA,OAAO,CAACC,GAAR,CAAYhB,GAAG,CAACX,IAAhB;;AACA,MAAIW,GAAG,CAACX,IAAJ,IAAYW,GAAG,CAACX,IAAJ,CAASM,OAAzB,EAAkC;AAChC,WAAOO,IAAI,EAAX;AACD;;AACD,SAAOD,GAAG,CAACW,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,IAAAA,OAAO,EAAE;AAAX,GAArB,CAAP;AACD,CAND",
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/older/backend/",
      "sourcesContent": [
        "import jwt from 'jsonwebtoken';\nimport config from './config';\nconst getToken = (user) => {\n  return jwt.sign(\n    {\n      _id: user._id,\n      name: user.name,\n      email: user.email,\n      isAdmin: user.isAdmin,\n    },\n    config.JWT_SECRET,\n    {\n      expiresIn: '48h',\n    }\n  );\n};\n\nconst isAuth = (req, res, next) => {\n  const token = req.headers.authorization;\n\n  if (token) {\n    const onlyToken = token.slice(7, token.length);\n    jwt.verify(onlyToken, config.JWT_SECRET, (err, decode) => {\n      if (err) {\n        return res.status(401).send({ message: 'Invalid Token' });\n      }\n      req.user = decode;\n      next();\n      return;\n    });\n  } else {\n    return res.status(401).send({ message: 'Token is not supplied.' });\n  }\n};\n\nconst isAdmin = (req, res, next) => {\n  console.log(req.user);\n  if (req.user && req.user.isAdmin) {\n    return next();\n  }\n  return res.status(401).send({ message: 'Admin Token is not valid.' });\n};\n\nexport { getToken, isAuth, isAdmin };\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1595823100000
  },
  "{\"sourceRoot\":\"/Users/Me/Desktop/ReactProjects/older/backend/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/Me/Desktop/ReactProjects/older\",\"filename\":\"/Users/Me/Desktop/ReactProjects/older/backend/routes/productRoute.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/Me/Desktop/ReactProjects/older\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/older/backend/routes/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/Me/Desktop/ReactProjects/older",
      "filename": "/Users/Me/Desktop/ReactProjects/older/backend/routes/productRoute.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/Me/Desktop/ReactProjects/older",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/Me/Desktop/ReactProjects/older/backend/routes/productRoute.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/Me/Desktop/ReactProjects/older/backend/routes/productRoute.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/Me/Desktop/ReactProjects/older/backend/routes/",
        "sourceFileName": "productRoute.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _productModel = _interopRequireDefault(require(\"../schemas/productModel\"));\n\nvar _util = require(\"../util\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst router = _express.default.Router();\n\nrouter.get('/', async (req, res) => {\n  const category = req.query.category ? {\n    category: req.query.category\n  } : {};\n  const searchKeyword = req.query.searchKeyword ? {\n    name: {\n      $regex: req.query.searchKeyword,\n      $options: 'i'\n    }\n  } : {};\n  const sortOrder = req.query.sortOrder ? req.query.sortOrder === 'lowest' ? {\n    price: 1\n  } : {\n    price: -1\n  } : {\n    _id: -1\n  };\n  const products = await _productModel.default.find({ ...category,\n    ...searchKeyword\n  }).sort(sortOrder);\n  res.send(products);\n});\nrouter.get('/:id', async (req, res) => {\n  const product = await _productModel.default.findOne({\n    _id: req.params.id\n  });\n\n  if (product) {\n    res.send(product);\n  } else {\n    res.status(404).send({\n      message: 'Product Not Found.'\n    });\n  }\n});\nrouter.post('/:id/reviews', _util.isAuth, async (req, res) => {\n  const product = await _productModel.default.findById(req.params.id);\n\n  if (product) {\n    const review = {\n      name: req.body.name,\n      rating: Number(req.body.rating),\n      comment: req.body.comment\n    };\n    product.reviews.push(review);\n    product.numReviews = product.reviews.length;\n    product.rating = product.reviews.reduce((a, c) => c.rating + a, 0) / product.reviews.length;\n    const updatedProduct = await product.save();\n    res.status(201).send({\n      data: updatedProduct.reviews[updatedProduct.reviews.length - 1],\n      message: 'Review saved successfully.'\n    });\n  } else {\n    res.status(404).send({\n      message: 'Product Not Found'\n    });\n  }\n});\nrouter.put('/:id', _util.isAuth, _util.isAdmin, async (req, res) => {\n  const productId = req.params.id;\n  const product = await _productModel.default.findById(productId);\n\n  if (product) {\n    product.name = req.body.name;\n    product.price = req.body.price;\n    product.image = req.body.image;\n    product.brand = req.body.brand;\n    product.category = req.body.category;\n    product.countInStock = req.body.countInStock;\n    product.description = req.body.description;\n    const updatedProduct = await product.save();\n\n    if (updatedProduct) {\n      return res.status(200).send({\n        message: 'Product Updated',\n        data: updatedProduct\n      });\n    }\n  }\n\n  return res.status(500).send({\n    message: ' Error in Updating Product.'\n  });\n});\nrouter.delete('/:id', _util.isAuth, _util.isAdmin, async (req, res) => {\n  const deletedProduct = await _productModel.default.findById(req.params.id);\n\n  if (deletedProduct) {\n    await deletedProduct.remove();\n    res.send({\n      message: 'Product Deleted'\n    });\n  } else {\n    res.send('Error in Deletion.');\n  }\n});\nrouter.post('/', _util.isAuth, _util.isAdmin, async (req, res) => {\n  const product = new _productModel.default({\n    name: req.body.name,\n    price: req.body.price,\n    image: req.body.image,\n    brand: req.body.brand,\n    category: req.body.category,\n    countInStock: req.body.countInStock,\n    description: req.body.description,\n    rating: req.body.rating,\n    numReviews: req.body.numReviews\n  });\n  const newProduct = await product.save();\n\n  if (newProduct) {\n    return res.status(201).send({\n      message: 'New Product Created',\n      data: newProduct\n    });\n  }\n\n  return res.status(500).send({\n    message: ' Error in Creating Product.'\n  });\n});\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2R1Y3RSb3V0ZS5qcyJdLCJuYW1lcyI6WyJyb3V0ZXIiLCJleHByZXNzIiwiUm91dGVyIiwiZ2V0IiwicmVxIiwicmVzIiwiY2F0ZWdvcnkiLCJxdWVyeSIsInNlYXJjaEtleXdvcmQiLCJuYW1lIiwiJHJlZ2V4IiwiJG9wdGlvbnMiLCJzb3J0T3JkZXIiLCJwcmljZSIsIl9pZCIsInByb2R1Y3RzIiwiUHJvZHVjdCIsImZpbmQiLCJzb3J0Iiwic2VuZCIsInByb2R1Y3QiLCJmaW5kT25lIiwicGFyYW1zIiwiaWQiLCJzdGF0dXMiLCJtZXNzYWdlIiwicG9zdCIsImlzQXV0aCIsImZpbmRCeUlkIiwicmV2aWV3IiwiYm9keSIsInJhdGluZyIsIk51bWJlciIsImNvbW1lbnQiLCJyZXZpZXdzIiwicHVzaCIsIm51bVJldmlld3MiLCJsZW5ndGgiLCJyZWR1Y2UiLCJhIiwiYyIsInVwZGF0ZWRQcm9kdWN0Iiwic2F2ZSIsImRhdGEiLCJwdXQiLCJpc0FkbWluIiwicHJvZHVjdElkIiwiaW1hZ2UiLCJicmFuZCIsImNvdW50SW5TdG9jayIsImRlc2NyaXB0aW9uIiwiZGVsZXRlIiwiZGVsZXRlZFByb2R1Y3QiLCJyZW1vdmUiLCJuZXdQcm9kdWN0Il0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7Ozs7QUFFQSxNQUFNQSxNQUFNLEdBQUdDLGlCQUFRQyxNQUFSLEVBQWY7O0FBRUFGLE1BQU0sQ0FBQ0csR0FBUCxDQUFXLEdBQVgsRUFBZ0IsT0FBT0MsR0FBUCxFQUFZQyxHQUFaLEtBQW9CO0FBQ2xDLFFBQU1DLFFBQVEsR0FBR0YsR0FBRyxDQUFDRyxLQUFKLENBQVVELFFBQVYsR0FBcUI7QUFBRUEsSUFBQUEsUUFBUSxFQUFFRixHQUFHLENBQUNHLEtBQUosQ0FBVUQ7QUFBdEIsR0FBckIsR0FBd0QsRUFBekU7QUFDQSxRQUFNRSxhQUFhLEdBQUdKLEdBQUcsQ0FBQ0csS0FBSixDQUFVQyxhQUFWLEdBQ2xCO0FBQ0VDLElBQUFBLElBQUksRUFBRTtBQUNKQyxNQUFBQSxNQUFNLEVBQUVOLEdBQUcsQ0FBQ0csS0FBSixDQUFVQyxhQURkO0FBRUpHLE1BQUFBLFFBQVEsRUFBRTtBQUZOO0FBRFIsR0FEa0IsR0FPbEIsRUFQSjtBQVFBLFFBQU1DLFNBQVMsR0FBR1IsR0FBRyxDQUFDRyxLQUFKLENBQVVLLFNBQVYsR0FDZFIsR0FBRyxDQUFDRyxLQUFKLENBQVVLLFNBQVYsS0FBd0IsUUFBeEIsR0FDRTtBQUFFQyxJQUFBQSxLQUFLLEVBQUU7QUFBVCxHQURGLEdBRUU7QUFBRUEsSUFBQUEsS0FBSyxFQUFFLENBQUM7QUFBVixHQUhZLEdBSWQ7QUFBRUMsSUFBQUEsR0FBRyxFQUFFLENBQUM7QUFBUixHQUpKO0FBS0EsUUFBTUMsUUFBUSxHQUFHLE1BQU1DLHNCQUFRQyxJQUFSLENBQWEsRUFBRSxHQUFHWCxRQUFMO0FBQWUsT0FBR0U7QUFBbEIsR0FBYixFQUFnRFUsSUFBaEQsQ0FDckJOLFNBRHFCLENBQXZCO0FBR0FQLEVBQUFBLEdBQUcsQ0FBQ2MsSUFBSixDQUFTSixRQUFUO0FBQ0QsQ0FuQkQ7QUFxQkFmLE1BQU0sQ0FBQ0csR0FBUCxDQUFXLE1BQVgsRUFBbUIsT0FBT0MsR0FBUCxFQUFZQyxHQUFaLEtBQW9CO0FBQ3JDLFFBQU1lLE9BQU8sR0FBRyxNQUFNSixzQkFBUUssT0FBUixDQUFnQjtBQUFFUCxJQUFBQSxHQUFHLEVBQUVWLEdBQUcsQ0FBQ2tCLE1BQUosQ0FBV0M7QUFBbEIsR0FBaEIsQ0FBdEI7O0FBQ0EsTUFBSUgsT0FBSixFQUFhO0FBQ1hmLElBQUFBLEdBQUcsQ0FBQ2MsSUFBSixDQUFTQyxPQUFUO0FBQ0QsR0FGRCxNQUVPO0FBQ0xmLElBQUFBLEdBQUcsQ0FBQ21CLE1BQUosQ0FBVyxHQUFYLEVBQWdCTCxJQUFoQixDQUFxQjtBQUFFTSxNQUFBQSxPQUFPLEVBQUU7QUFBWCxLQUFyQjtBQUNEO0FBQ0YsQ0FQRDtBQVFBekIsTUFBTSxDQUFDMEIsSUFBUCxDQUFZLGNBQVosRUFBNEJDLFlBQTVCLEVBQW9DLE9BQU92QixHQUFQLEVBQVlDLEdBQVosS0FBb0I7QUFDdEQsUUFBTWUsT0FBTyxHQUFHLE1BQU1KLHNCQUFRWSxRQUFSLENBQWlCeEIsR0FBRyxDQUFDa0IsTUFBSixDQUFXQyxFQUE1QixDQUF0Qjs7QUFDQSxNQUFJSCxPQUFKLEVBQWE7QUFDWCxVQUFNUyxNQUFNLEdBQUc7QUFDYnBCLE1BQUFBLElBQUksRUFBRUwsR0FBRyxDQUFDMEIsSUFBSixDQUFTckIsSUFERjtBQUVic0IsTUFBQUEsTUFBTSxFQUFFQyxNQUFNLENBQUM1QixHQUFHLENBQUMwQixJQUFKLENBQVNDLE1BQVYsQ0FGRDtBQUdiRSxNQUFBQSxPQUFPLEVBQUU3QixHQUFHLENBQUMwQixJQUFKLENBQVNHO0FBSEwsS0FBZjtBQUtBYixJQUFBQSxPQUFPLENBQUNjLE9BQVIsQ0FBZ0JDLElBQWhCLENBQXFCTixNQUFyQjtBQUNBVCxJQUFBQSxPQUFPLENBQUNnQixVQUFSLEdBQXFCaEIsT0FBTyxDQUFDYyxPQUFSLENBQWdCRyxNQUFyQztBQUNBakIsSUFBQUEsT0FBTyxDQUFDVyxNQUFSLEdBQ0VYLE9BQU8sQ0FBQ2MsT0FBUixDQUFnQkksTUFBaEIsQ0FBdUIsQ0FBQ0MsQ0FBRCxFQUFJQyxDQUFKLEtBQVVBLENBQUMsQ0FBQ1QsTUFBRixHQUFXUSxDQUE1QyxFQUErQyxDQUEvQyxJQUNBbkIsT0FBTyxDQUFDYyxPQUFSLENBQWdCRyxNQUZsQjtBQUdBLFVBQU1JLGNBQWMsR0FBRyxNQUFNckIsT0FBTyxDQUFDc0IsSUFBUixFQUE3QjtBQUNBckMsSUFBQUEsR0FBRyxDQUFDbUIsTUFBSixDQUFXLEdBQVgsRUFBZ0JMLElBQWhCLENBQXFCO0FBQ25Cd0IsTUFBQUEsSUFBSSxFQUFFRixjQUFjLENBQUNQLE9BQWYsQ0FBdUJPLGNBQWMsQ0FBQ1AsT0FBZixDQUF1QkcsTUFBdkIsR0FBZ0MsQ0FBdkQsQ0FEYTtBQUVuQlosTUFBQUEsT0FBTyxFQUFFO0FBRlUsS0FBckI7QUFJRCxHQWhCRCxNQWdCTztBQUNMcEIsSUFBQUEsR0FBRyxDQUFDbUIsTUFBSixDQUFXLEdBQVgsRUFBZ0JMLElBQWhCLENBQXFCO0FBQUVNLE1BQUFBLE9BQU8sRUFBRTtBQUFYLEtBQXJCO0FBQ0Q7QUFDRixDQXJCRDtBQXNCQXpCLE1BQU0sQ0FBQzRDLEdBQVAsQ0FBVyxNQUFYLEVBQW1CakIsWUFBbkIsRUFBMkJrQixhQUEzQixFQUFvQyxPQUFPekMsR0FBUCxFQUFZQyxHQUFaLEtBQW9CO0FBQ3RELFFBQU15QyxTQUFTLEdBQUcxQyxHQUFHLENBQUNrQixNQUFKLENBQVdDLEVBQTdCO0FBQ0EsUUFBTUgsT0FBTyxHQUFHLE1BQU1KLHNCQUFRWSxRQUFSLENBQWlCa0IsU0FBakIsQ0FBdEI7O0FBQ0EsTUFBSTFCLE9BQUosRUFBYTtBQUNYQSxJQUFBQSxPQUFPLENBQUNYLElBQVIsR0FBZUwsR0FBRyxDQUFDMEIsSUFBSixDQUFTckIsSUFBeEI7QUFDQVcsSUFBQUEsT0FBTyxDQUFDUCxLQUFSLEdBQWdCVCxHQUFHLENBQUMwQixJQUFKLENBQVNqQixLQUF6QjtBQUNBTyxJQUFBQSxPQUFPLENBQUMyQixLQUFSLEdBQWdCM0MsR0FBRyxDQUFDMEIsSUFBSixDQUFTaUIsS0FBekI7QUFDQTNCLElBQUFBLE9BQU8sQ0FBQzRCLEtBQVIsR0FBZ0I1QyxHQUFHLENBQUMwQixJQUFKLENBQVNrQixLQUF6QjtBQUNBNUIsSUFBQUEsT0FBTyxDQUFDZCxRQUFSLEdBQW1CRixHQUFHLENBQUMwQixJQUFKLENBQVN4QixRQUE1QjtBQUNBYyxJQUFBQSxPQUFPLENBQUM2QixZQUFSLEdBQXVCN0MsR0FBRyxDQUFDMEIsSUFBSixDQUFTbUIsWUFBaEM7QUFDQTdCLElBQUFBLE9BQU8sQ0FBQzhCLFdBQVIsR0FBc0I5QyxHQUFHLENBQUMwQixJQUFKLENBQVNvQixXQUEvQjtBQUNBLFVBQU1ULGNBQWMsR0FBRyxNQUFNckIsT0FBTyxDQUFDc0IsSUFBUixFQUE3Qjs7QUFDQSxRQUFJRCxjQUFKLEVBQW9CO0FBQ2xCLGFBQU9wQyxHQUFHLENBQ1BtQixNQURJLENBQ0csR0FESCxFQUVKTCxJQUZJLENBRUM7QUFBRU0sUUFBQUEsT0FBTyxFQUFFLGlCQUFYO0FBQThCa0IsUUFBQUEsSUFBSSxFQUFFRjtBQUFwQyxPQUZELENBQVA7QUFHRDtBQUNGOztBQUNELFNBQU9wQyxHQUFHLENBQUNtQixNQUFKLENBQVcsR0FBWCxFQUFnQkwsSUFBaEIsQ0FBcUI7QUFBRU0sSUFBQUEsT0FBTyxFQUFFO0FBQVgsR0FBckIsQ0FBUDtBQUNELENBbkJEO0FBcUJBekIsTUFBTSxDQUFDbUQsTUFBUCxDQUFjLE1BQWQsRUFBc0J4QixZQUF0QixFQUE4QmtCLGFBQTlCLEVBQXVDLE9BQU96QyxHQUFQLEVBQVlDLEdBQVosS0FBb0I7QUFDekQsUUFBTStDLGNBQWMsR0FBRyxNQUFNcEMsc0JBQVFZLFFBQVIsQ0FBaUJ4QixHQUFHLENBQUNrQixNQUFKLENBQVdDLEVBQTVCLENBQTdCOztBQUNBLE1BQUk2QixjQUFKLEVBQW9CO0FBQ2xCLFVBQU1BLGNBQWMsQ0FBQ0MsTUFBZixFQUFOO0FBQ0FoRCxJQUFBQSxHQUFHLENBQUNjLElBQUosQ0FBUztBQUFFTSxNQUFBQSxPQUFPLEVBQUU7QUFBWCxLQUFUO0FBQ0QsR0FIRCxNQUdPO0FBQ0xwQixJQUFBQSxHQUFHLENBQUNjLElBQUosQ0FBUyxvQkFBVDtBQUNEO0FBQ0YsQ0FSRDtBQVVBbkIsTUFBTSxDQUFDMEIsSUFBUCxDQUFZLEdBQVosRUFBaUJDLFlBQWpCLEVBQXlCa0IsYUFBekIsRUFBa0MsT0FBT3pDLEdBQVAsRUFBWUMsR0FBWixLQUFvQjtBQUNwRCxRQUFNZSxPQUFPLEdBQUcsSUFBSUoscUJBQUosQ0FBWTtBQUMxQlAsSUFBQUEsSUFBSSxFQUFFTCxHQUFHLENBQUMwQixJQUFKLENBQVNyQixJQURXO0FBRTFCSSxJQUFBQSxLQUFLLEVBQUVULEdBQUcsQ0FBQzBCLElBQUosQ0FBU2pCLEtBRlU7QUFHMUJrQyxJQUFBQSxLQUFLLEVBQUUzQyxHQUFHLENBQUMwQixJQUFKLENBQVNpQixLQUhVO0FBSTFCQyxJQUFBQSxLQUFLLEVBQUU1QyxHQUFHLENBQUMwQixJQUFKLENBQVNrQixLQUpVO0FBSzFCMUMsSUFBQUEsUUFBUSxFQUFFRixHQUFHLENBQUMwQixJQUFKLENBQVN4QixRQUxPO0FBTTFCMkMsSUFBQUEsWUFBWSxFQUFFN0MsR0FBRyxDQUFDMEIsSUFBSixDQUFTbUIsWUFORztBQU8xQkMsSUFBQUEsV0FBVyxFQUFFOUMsR0FBRyxDQUFDMEIsSUFBSixDQUFTb0IsV0FQSTtBQVExQm5CLElBQUFBLE1BQU0sRUFBRTNCLEdBQUcsQ0FBQzBCLElBQUosQ0FBU0MsTUFSUztBQVMxQkssSUFBQUEsVUFBVSxFQUFFaEMsR0FBRyxDQUFDMEIsSUFBSixDQUFTTTtBQVRLLEdBQVosQ0FBaEI7QUFXQSxRQUFNa0IsVUFBVSxHQUFHLE1BQU1sQyxPQUFPLENBQUNzQixJQUFSLEVBQXpCOztBQUNBLE1BQUlZLFVBQUosRUFBZ0I7QUFDZCxXQUFPakQsR0FBRyxDQUNQbUIsTUFESSxDQUNHLEdBREgsRUFFSkwsSUFGSSxDQUVDO0FBQUVNLE1BQUFBLE9BQU8sRUFBRSxxQkFBWDtBQUFrQ2tCLE1BQUFBLElBQUksRUFBRVc7QUFBeEMsS0FGRCxDQUFQO0FBR0Q7O0FBQ0QsU0FBT2pELEdBQUcsQ0FBQ21CLE1BQUosQ0FBVyxHQUFYLEVBQWdCTCxJQUFoQixDQUFxQjtBQUFFTSxJQUFBQSxPQUFPLEVBQUU7QUFBWCxHQUFyQixDQUFQO0FBQ0QsQ0FuQkQ7ZUFxQmV6QixNIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9NZS9EZXNrdG9wL1JlYWN0UHJvamVjdHMvb2xkZXIvYmFja2VuZC9yb3V0ZXMvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgUHJvZHVjdCBmcm9tICcuLi9zY2hlbWFzL3Byb2R1Y3RNb2RlbCc7XG5pbXBvcnQgeyBpc0F1dGgsIGlzQWRtaW4gfSBmcm9tICcuLi91dGlsJztcblxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcblxucm91dGVyLmdldCgnLycsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICBjb25zdCBjYXRlZ29yeSA9IHJlcS5xdWVyeS5jYXRlZ29yeSA/IHsgY2F0ZWdvcnk6IHJlcS5xdWVyeS5jYXRlZ29yeSB9IDoge307XG4gIGNvbnN0IHNlYXJjaEtleXdvcmQgPSByZXEucXVlcnkuc2VhcmNoS2V5d29yZFxuICAgID8ge1xuICAgICAgICBuYW1lOiB7XG4gICAgICAgICAgJHJlZ2V4OiByZXEucXVlcnkuc2VhcmNoS2V5d29yZCxcbiAgICAgICAgICAkb3B0aW9uczogJ2knLFxuICAgICAgICB9LFxuICAgICAgfVxuICAgIDoge307XG4gIGNvbnN0IHNvcnRPcmRlciA9IHJlcS5xdWVyeS5zb3J0T3JkZXJcbiAgICA/IHJlcS5xdWVyeS5zb3J0T3JkZXIgPT09ICdsb3dlc3QnXG4gICAgICA/IHsgcHJpY2U6IDEgfVxuICAgICAgOiB7IHByaWNlOiAtMSB9XG4gICAgOiB7IF9pZDogLTEgfTtcbiAgY29uc3QgcHJvZHVjdHMgPSBhd2FpdCBQcm9kdWN0LmZpbmQoeyAuLi5jYXRlZ29yeSwgLi4uc2VhcmNoS2V5d29yZCB9KS5zb3J0KFxuICAgIHNvcnRPcmRlclxuICApO1xuICByZXMuc2VuZChwcm9kdWN0cyk7XG59KTtcblxucm91dGVyLmdldCgnLzppZCcsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICBjb25zdCBwcm9kdWN0ID0gYXdhaXQgUHJvZHVjdC5maW5kT25lKHsgX2lkOiByZXEucGFyYW1zLmlkIH0pO1xuICBpZiAocHJvZHVjdCkge1xuICAgIHJlcy5zZW5kKHByb2R1Y3QpO1xuICB9IGVsc2Uge1xuICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHsgbWVzc2FnZTogJ1Byb2R1Y3QgTm90IEZvdW5kLicgfSk7XG4gIH1cbn0pO1xucm91dGVyLnBvc3QoJy86aWQvcmV2aWV3cycsIGlzQXV0aCwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIGNvbnN0IHByb2R1Y3QgPSBhd2FpdCBQcm9kdWN0LmZpbmRCeUlkKHJlcS5wYXJhbXMuaWQpO1xuICBpZiAocHJvZHVjdCkge1xuICAgIGNvbnN0IHJldmlldyA9IHtcbiAgICAgIG5hbWU6IHJlcS5ib2R5Lm5hbWUsXG4gICAgICByYXRpbmc6IE51bWJlcihyZXEuYm9keS5yYXRpbmcpLFxuICAgICAgY29tbWVudDogcmVxLmJvZHkuY29tbWVudCxcbiAgICB9O1xuICAgIHByb2R1Y3QucmV2aWV3cy5wdXNoKHJldmlldyk7XG4gICAgcHJvZHVjdC5udW1SZXZpZXdzID0gcHJvZHVjdC5yZXZpZXdzLmxlbmd0aDtcbiAgICBwcm9kdWN0LnJhdGluZyA9XG4gICAgICBwcm9kdWN0LnJldmlld3MucmVkdWNlKChhLCBjKSA9PiBjLnJhdGluZyArIGEsIDApIC9cbiAgICAgIHByb2R1Y3QucmV2aWV3cy5sZW5ndGg7XG4gICAgY29uc3QgdXBkYXRlZFByb2R1Y3QgPSBhd2FpdCBwcm9kdWN0LnNhdmUoKTtcbiAgICByZXMuc3RhdHVzKDIwMSkuc2VuZCh7XG4gICAgICBkYXRhOiB1cGRhdGVkUHJvZHVjdC5yZXZpZXdzW3VwZGF0ZWRQcm9kdWN0LnJldmlld3MubGVuZ3RoIC0gMV0sXG4gICAgICBtZXNzYWdlOiAnUmV2aWV3IHNhdmVkIHN1Y2Nlc3NmdWxseS4nLFxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHsgbWVzc2FnZTogJ1Byb2R1Y3QgTm90IEZvdW5kJyB9KTtcbiAgfVxufSk7XG5yb3V0ZXIucHV0KCcvOmlkJywgaXNBdXRoLCBpc0FkbWluLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgY29uc3QgcHJvZHVjdElkID0gcmVxLnBhcmFtcy5pZDtcbiAgY29uc3QgcHJvZHVjdCA9IGF3YWl0IFByb2R1Y3QuZmluZEJ5SWQocHJvZHVjdElkKTtcbiAgaWYgKHByb2R1Y3QpIHtcbiAgICBwcm9kdWN0Lm5hbWUgPSByZXEuYm9keS5uYW1lO1xuICAgIHByb2R1Y3QucHJpY2UgPSByZXEuYm9keS5wcmljZTtcbiAgICBwcm9kdWN0LmltYWdlID0gcmVxLmJvZHkuaW1hZ2U7XG4gICAgcHJvZHVjdC5icmFuZCA9IHJlcS5ib2R5LmJyYW5kO1xuICAgIHByb2R1Y3QuY2F0ZWdvcnkgPSByZXEuYm9keS5jYXRlZ29yeTtcbiAgICBwcm9kdWN0LmNvdW50SW5TdG9jayA9IHJlcS5ib2R5LmNvdW50SW5TdG9jaztcbiAgICBwcm9kdWN0LmRlc2NyaXB0aW9uID0gcmVxLmJvZHkuZGVzY3JpcHRpb247XG4gICAgY29uc3QgdXBkYXRlZFByb2R1Y3QgPSBhd2FpdCBwcm9kdWN0LnNhdmUoKTtcbiAgICBpZiAodXBkYXRlZFByb2R1Y3QpIHtcbiAgICAgIHJldHVybiByZXNcbiAgICAgICAgLnN0YXR1cygyMDApXG4gICAgICAgIC5zZW5kKHsgbWVzc2FnZTogJ1Byb2R1Y3QgVXBkYXRlZCcsIGRhdGE6IHVwZGF0ZWRQcm9kdWN0IH0pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLnNlbmQoeyBtZXNzYWdlOiAnIEVycm9yIGluIFVwZGF0aW5nIFByb2R1Y3QuJyB9KTtcbn0pO1xuXG5yb3V0ZXIuZGVsZXRlKCcvOmlkJywgaXNBdXRoLCBpc0FkbWluLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgY29uc3QgZGVsZXRlZFByb2R1Y3QgPSBhd2FpdCBQcm9kdWN0LmZpbmRCeUlkKHJlcS5wYXJhbXMuaWQpO1xuICBpZiAoZGVsZXRlZFByb2R1Y3QpIHtcbiAgICBhd2FpdCBkZWxldGVkUHJvZHVjdC5yZW1vdmUoKTtcbiAgICByZXMuc2VuZCh7IG1lc3NhZ2U6ICdQcm9kdWN0IERlbGV0ZWQnIH0pO1xuICB9IGVsc2Uge1xuICAgIHJlcy5zZW5kKCdFcnJvciBpbiBEZWxldGlvbi4nKTtcbiAgfVxufSk7XG5cbnJvdXRlci5wb3N0KCcvJywgaXNBdXRoLCBpc0FkbWluLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgY29uc3QgcHJvZHVjdCA9IG5ldyBQcm9kdWN0KHtcbiAgICBuYW1lOiByZXEuYm9keS5uYW1lLFxuICAgIHByaWNlOiByZXEuYm9keS5wcmljZSxcbiAgICBpbWFnZTogcmVxLmJvZHkuaW1hZ2UsXG4gICAgYnJhbmQ6IHJlcS5ib2R5LmJyYW5kLFxuICAgIGNhdGVnb3J5OiByZXEuYm9keS5jYXRlZ29yeSxcbiAgICBjb3VudEluU3RvY2s6IHJlcS5ib2R5LmNvdW50SW5TdG9jayxcbiAgICBkZXNjcmlwdGlvbjogcmVxLmJvZHkuZGVzY3JpcHRpb24sXG4gICAgcmF0aW5nOiByZXEuYm9keS5yYXRpbmcsXG4gICAgbnVtUmV2aWV3czogcmVxLmJvZHkubnVtUmV2aWV3cyxcbiAgfSk7XG4gIGNvbnN0IG5ld1Byb2R1Y3QgPSBhd2FpdCBwcm9kdWN0LnNhdmUoKTtcbiAgaWYgKG5ld1Byb2R1Y3QpIHtcbiAgICByZXR1cm4gcmVzXG4gICAgICAuc3RhdHVzKDIwMSlcbiAgICAgIC5zZW5kKHsgbWVzc2FnZTogJ05ldyBQcm9kdWN0IENyZWF0ZWQnLCBkYXRhOiBuZXdQcm9kdWN0IH0pO1xuICB9XG4gIHJldHVybiByZXMuc3RhdHVzKDUwMCkuc2VuZCh7IG1lc3NhZ2U6ICcgRXJyb3IgaW4gQ3JlYXRpbmcgUHJvZHVjdC4nIH0pO1xufSk7XG5cbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "productRoute.js"
      ],
      "names": [
        "router",
        "express",
        "Router",
        "get",
        "req",
        "res",
        "category",
        "query",
        "searchKeyword",
        "name",
        "$regex",
        "$options",
        "sortOrder",
        "price",
        "_id",
        "products",
        "Product",
        "find",
        "sort",
        "send",
        "product",
        "findOne",
        "params",
        "id",
        "status",
        "message",
        "post",
        "isAuth",
        "findById",
        "review",
        "body",
        "rating",
        "Number",
        "comment",
        "reviews",
        "push",
        "numReviews",
        "length",
        "reduce",
        "a",
        "c",
        "updatedProduct",
        "save",
        "data",
        "put",
        "isAdmin",
        "productId",
        "image",
        "brand",
        "countInStock",
        "description",
        "delete",
        "deletedProduct",
        "remove",
        "newProduct"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/older/backend/routes/",
      "sourcesContent": [
        "import express from 'express';\nimport Product from '../schemas/productModel';\nimport { isAuth, isAdmin } from '../util';\n\nconst router = express.Router();\n\nrouter.get('/', async (req, res) => {\n  const category = req.query.category ? { category: req.query.category } : {};\n  const searchKeyword = req.query.searchKeyword\n    ? {\n        name: {\n          $regex: req.query.searchKeyword,\n          $options: 'i',\n        },\n      }\n    : {};\n  const sortOrder = req.query.sortOrder\n    ? req.query.sortOrder === 'lowest'\n      ? { price: 1 }\n      : { price: -1 }\n    : { _id: -1 };\n  const products = await Product.find({ ...category, ...searchKeyword }).sort(\n    sortOrder\n  );\n  res.send(products);\n});\n\nrouter.get('/:id', async (req, res) => {\n  const product = await Product.findOne({ _id: req.params.id });\n  if (product) {\n    res.send(product);\n  } else {\n    res.status(404).send({ message: 'Product Not Found.' });\n  }\n});\nrouter.post('/:id/reviews', isAuth, async (req, res) => {\n  const product = await Product.findById(req.params.id);\n  if (product) {\n    const review = {\n      name: req.body.name,\n      rating: Number(req.body.rating),\n      comment: req.body.comment,\n    };\n    product.reviews.push(review);\n    product.numReviews = product.reviews.length;\n    product.rating =\n      product.reviews.reduce((a, c) => c.rating + a, 0) /\n      product.reviews.length;\n    const updatedProduct = await product.save();\n    res.status(201).send({\n      data: updatedProduct.reviews[updatedProduct.reviews.length - 1],\n      message: 'Review saved successfully.',\n    });\n  } else {\n    res.status(404).send({ message: 'Product Not Found' });\n  }\n});\nrouter.put('/:id', isAuth, isAdmin, async (req, res) => {\n  const productId = req.params.id;\n  const product = await Product.findById(productId);\n  if (product) {\n    product.name = req.body.name;\n    product.price = req.body.price;\n    product.image = req.body.image;\n    product.brand = req.body.brand;\n    product.category = req.body.category;\n    product.countInStock = req.body.countInStock;\n    product.description = req.body.description;\n    const updatedProduct = await product.save();\n    if (updatedProduct) {\n      return res\n        .status(200)\n        .send({ message: 'Product Updated', data: updatedProduct });\n    }\n  }\n  return res.status(500).send({ message: ' Error in Updating Product.' });\n});\n\nrouter.delete('/:id', isAuth, isAdmin, async (req, res) => {\n  const deletedProduct = await Product.findById(req.params.id);\n  if (deletedProduct) {\n    await deletedProduct.remove();\n    res.send({ message: 'Product Deleted' });\n  } else {\n    res.send('Error in Deletion.');\n  }\n});\n\nrouter.post('/', isAuth, isAdmin, async (req, res) => {\n  const product = new Product({\n    name: req.body.name,\n    price: req.body.price,\n    image: req.body.image,\n    brand: req.body.brand,\n    category: req.body.category,\n    countInStock: req.body.countInStock,\n    description: req.body.description,\n    rating: req.body.rating,\n    numReviews: req.body.numReviews,\n  });\n  const newProduct = await product.save();\n  if (newProduct) {\n    return res\n      .status(201)\n      .send({ message: 'New Product Created', data: newProduct });\n  }\n  return res.status(500).send({ message: ' Error in Creating Product.' });\n});\n\nexport default router;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1606438639234
  },
  "{\"sourceRoot\":\"/Users/Me/Desktop/ReactProjects/older/backend/schemas/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/Me/Desktop/ReactProjects/older\",\"filename\":\"/Users/Me/Desktop/ReactProjects/older/backend/schemas/productModel.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/Me/Desktop/ReactProjects/older\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/older/backend/schemas/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/Me/Desktop/ReactProjects/older",
      "filename": "/Users/Me/Desktop/ReactProjects/older/backend/schemas/productModel.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/Me/Desktop/ReactProjects/older",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/Me/Desktop/ReactProjects/older/backend/schemas/productModel.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/Me/Desktop/ReactProjects/older/backend/schemas/productModel.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/Me/Desktop/ReactProjects/older/backend/schemas/",
        "sourceFileName": "productModel.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst productSchema = new _mongoose.default.Schema({\n  name: {\n    type: String,\n    required: true,\n    unique: true\n  },\n  seller: {\n    type: _mongoose.default.Schema.Types.ObjectID,\n    ref: 'User'\n  },\n  image: {\n    type: String,\n    required: true\n  },\n  brand: {\n    type: String,\n    required: true\n  },\n  category: {\n    type: String,\n    required: true\n  },\n  description: {\n    type: String,\n    required: true\n  },\n  price: {\n    type: Number,\n    required: true\n  },\n  countInStock: {\n    type: Number,\n    required: true\n  },\n  rating: {\n    type: Number,\n    required: true\n  },\n  numReviews: {\n    type: Number,\n    required: true\n  }\n}, {\n  timestamps: true\n});\n\nconst Product = _mongoose.default.model('Product', productSchema);\n\nvar _default = Product;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2R1Y3RNb2RlbC5qcyJdLCJuYW1lcyI6WyJwcm9kdWN0U2NoZW1hIiwibW9uZ29vc2UiLCJTY2hlbWEiLCJuYW1lIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwidW5pcXVlIiwic2VsbGVyIiwiVHlwZXMiLCJPYmplY3RJRCIsInJlZiIsImltYWdlIiwiYnJhbmQiLCJjYXRlZ29yeSIsImRlc2NyaXB0aW9uIiwicHJpY2UiLCJOdW1iZXIiLCJjb3VudEluU3RvY2siLCJyYXRpbmciLCJudW1SZXZpZXdzIiwidGltZXN0YW1wcyIsIlByb2R1Y3QiLCJtb2RlbCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7O0FBRUEsTUFBTUEsYUFBYSxHQUFHLElBQUlDLGtCQUFTQyxNQUFiLENBQ3BCO0FBQ0VDLEVBQUFBLElBQUksRUFBRTtBQUFFQyxJQUFBQSxJQUFJLEVBQUVDLE1BQVI7QUFBZ0JDLElBQUFBLFFBQVEsRUFBRSxJQUExQjtBQUFnQ0MsSUFBQUEsTUFBTSxFQUFFO0FBQXhDLEdBRFI7QUFFRUMsRUFBQUEsTUFBTSxFQUFFO0FBQUVKLElBQUFBLElBQUksRUFBRUgsa0JBQVNDLE1BQVQsQ0FBZ0JPLEtBQWhCLENBQXNCQyxRQUE5QjtBQUF3Q0MsSUFBQUEsR0FBRyxFQUFFO0FBQTdDLEdBRlY7QUFHRUMsRUFBQUEsS0FBSyxFQUFFO0FBQUVSLElBQUFBLElBQUksRUFBRUMsTUFBUjtBQUFnQkMsSUFBQUEsUUFBUSxFQUFFO0FBQTFCLEdBSFQ7QUFJRU8sRUFBQUEsS0FBSyxFQUFFO0FBQUVULElBQUFBLElBQUksRUFBRUMsTUFBUjtBQUFnQkMsSUFBQUEsUUFBUSxFQUFFO0FBQTFCLEdBSlQ7QUFLRVEsRUFBQUEsUUFBUSxFQUFFO0FBQUVWLElBQUFBLElBQUksRUFBRUMsTUFBUjtBQUFnQkMsSUFBQUEsUUFBUSxFQUFFO0FBQTFCLEdBTFo7QUFNRVMsRUFBQUEsV0FBVyxFQUFFO0FBQUVYLElBQUFBLElBQUksRUFBRUMsTUFBUjtBQUFnQkMsSUFBQUEsUUFBUSxFQUFFO0FBQTFCLEdBTmY7QUFPRVUsRUFBQUEsS0FBSyxFQUFFO0FBQUVaLElBQUFBLElBQUksRUFBRWEsTUFBUjtBQUFnQlgsSUFBQUEsUUFBUSxFQUFFO0FBQTFCLEdBUFQ7QUFRRVksRUFBQUEsWUFBWSxFQUFFO0FBQUVkLElBQUFBLElBQUksRUFBRWEsTUFBUjtBQUFnQlgsSUFBQUEsUUFBUSxFQUFFO0FBQTFCLEdBUmhCO0FBU0VhLEVBQUFBLE1BQU0sRUFBRTtBQUFFZixJQUFBQSxJQUFJLEVBQUVhLE1BQVI7QUFBZ0JYLElBQUFBLFFBQVEsRUFBRTtBQUExQixHQVRWO0FBVUVjLEVBQUFBLFVBQVUsRUFBRTtBQUFFaEIsSUFBQUEsSUFBSSxFQUFFYSxNQUFSO0FBQWdCWCxJQUFBQSxRQUFRLEVBQUU7QUFBMUI7QUFWZCxDQURvQixFQWFwQjtBQUNFZSxFQUFBQSxVQUFVLEVBQUU7QUFEZCxDQWJvQixDQUF0Qjs7QUFpQkEsTUFBTUMsT0FBTyxHQUFHckIsa0JBQVNzQixLQUFULENBQWUsU0FBZixFQUEwQnZCLGFBQTFCLENBQWhCOztlQUVlc0IsTyIsInNvdXJjZVJvb3QiOiIvVXNlcnMvTWUvRGVza3RvcC9SZWFjdFByb2plY3RzL29sZGVyL2JhY2tlbmQvc2NoZW1hcy8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xuXG5jb25zdCBwcm9kdWN0U2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYShcbiAge1xuICAgIG5hbWU6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSwgdW5pcXVlOiB0cnVlIH0sXG4gICAgc2VsbGVyOiB7IHR5cGU6IG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5PYmplY3RJRCwgcmVmOiAnVXNlcicgfSxcbiAgICBpbWFnZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgYnJhbmQ6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgIGNhdGVnb3J5OiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICBkZXNjcmlwdGlvbjogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgcHJpY2U6IHsgdHlwZTogTnVtYmVyLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgIGNvdW50SW5TdG9jazogeyB0eXBlOiBOdW1iZXIsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgcmF0aW5nOiB7IHR5cGU6IE51bWJlciwgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICBudW1SZXZpZXdzOiB7IHR5cGU6IE51bWJlciwgcmVxdWlyZWQ6IHRydWUgfSxcbiAgfSxcbiAge1xuICAgIHRpbWVzdGFtcHM6IHRydWUsXG4gIH1cbik7XG5jb25zdCBQcm9kdWN0ID0gbW9uZ29vc2UubW9kZWwoJ1Byb2R1Y3QnLCBwcm9kdWN0U2NoZW1hKTtcblxuZXhwb3J0IGRlZmF1bHQgUHJvZHVjdDtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "productModel.js"
      ],
      "names": [
        "productSchema",
        "mongoose",
        "Schema",
        "name",
        "type",
        "String",
        "required",
        "unique",
        "seller",
        "Types",
        "ObjectID",
        "ref",
        "image",
        "brand",
        "category",
        "description",
        "price",
        "Number",
        "countInStock",
        "rating",
        "numReviews",
        "timestamps",
        "Product",
        "model"
      ],
      "mappings": ";;;;;;;AAAA;;;;AAEA,MAAMA,aAAa,GAAG,IAAIC,kBAASC,MAAb,CACpB;AACEC,EAAAA,IAAI,EAAE;AAAEC,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE,IAA1B;AAAgCC,IAAAA,MAAM,EAAE;AAAxC,GADR;AAEEC,EAAAA,MAAM,EAAE;AAAEJ,IAAAA,IAAI,EAAEH,kBAASC,MAAT,CAAgBO,KAAhB,CAAsBC,QAA9B;AAAwCC,IAAAA,GAAG,EAAE;AAA7C,GAFV;AAGEC,EAAAA,KAAK,EAAE;AAAER,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAHT;AAIEO,EAAAA,KAAK,EAAE;AAAET,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAJT;AAKEQ,EAAAA,QAAQ,EAAE;AAAEV,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GALZ;AAMES,EAAAA,WAAW,EAAE;AAAEX,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GANf;AAOEU,EAAAA,KAAK,EAAE;AAAEZ,IAAAA,IAAI,EAAEa,MAAR;AAAgBX,IAAAA,QAAQ,EAAE;AAA1B,GAPT;AAQEY,EAAAA,YAAY,EAAE;AAAEd,IAAAA,IAAI,EAAEa,MAAR;AAAgBX,IAAAA,QAAQ,EAAE;AAA1B,GARhB;AASEa,EAAAA,MAAM,EAAE;AAAEf,IAAAA,IAAI,EAAEa,MAAR;AAAgBX,IAAAA,QAAQ,EAAE;AAA1B,GATV;AAUEc,EAAAA,UAAU,EAAE;AAAEhB,IAAAA,IAAI,EAAEa,MAAR;AAAgBX,IAAAA,QAAQ,EAAE;AAA1B;AAVd,CADoB,EAapB;AACEe,EAAAA,UAAU,EAAE;AADd,CAboB,CAAtB;;AAiBA,MAAMC,OAAO,GAAGrB,kBAASsB,KAAT,CAAe,SAAf,EAA0BvB,aAA1B,CAAhB;;eAEesB,O",
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/older/backend/schemas/",
      "sourcesContent": [
        "import mongoose from 'mongoose';\n\nconst productSchema = new mongoose.Schema(\n  {\n    name: { type: String, required: true, unique: true },\n    seller: { type: mongoose.Schema.Types.ObjectID, ref: 'User' },\n    image: { type: String, required: true },\n    brand: { type: String, required: true },\n    category: { type: String, required: true },\n    description: { type: String, required: true },\n    price: { type: Number, required: true },\n    countInStock: { type: Number, required: true },\n    rating: { type: Number, required: true },\n    numReviews: { type: Number, required: true },\n  },\n  {\n    timestamps: true,\n  }\n);\nconst Product = mongoose.model('Product', productSchema);\n\nexport default Product;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1606412590000
  },
  "{\"sourceRoot\":\"/Users/Me/Desktop/ReactProjects/older/backend/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/Me/Desktop/ReactProjects/older\",\"filename\":\"/Users/Me/Desktop/ReactProjects/older/backend/routes/orderRoute.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/Me/Desktop/ReactProjects/older\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/older/backend/routes/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/Me/Desktop/ReactProjects/older",
      "filename": "/Users/Me/Desktop/ReactProjects/older/backend/routes/orderRoute.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/Me/Desktop/ReactProjects/older",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/Me/Desktop/ReactProjects/older/backend/routes/orderRoute.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/Me/Desktop/ReactProjects/older/backend/routes/orderRoute.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/Me/Desktop/ReactProjects/older/backend/routes/",
        "sourceFileName": "orderRoute.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _orderModel = _interopRequireDefault(require(\"../schemas/orderModel\"));\n\nvar _util = require(\"../util\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst router = _express.default.Router();\n\nrouter.get(\"/\", _util.isAuth, async (req, res) => {\n  const orders = await _orderModel.default.find({}).populate('user');\n  res.send(orders);\n});\nrouter.get(\"/mine\", _util.isAuth, async (req, res) => {\n  const orders = await _orderModel.default.find({\n    user: req.user._id\n  });\n  res.send(orders);\n});\nrouter.get(\"/:id\", _util.isAuth, async (req, res) => {\n  const order = await _orderModel.default.findOne({\n    _id: req.params.id\n  });\n\n  if (order) {\n    res.send(order);\n  } else {\n    res.status(404).send(\"Order Not Found.\");\n  }\n});\nrouter.delete(\"/:id\", _util.isAuth, _util.isAdmin, async (req, res) => {\n  const order = await _orderModel.default.findOne({\n    _id: req.params.id\n  });\n\n  if (order) {\n    const deletedOrder = await order.remove();\n    res.send(deletedOrder);\n  } else {\n    res.status(404).send(\"Order Not Found.\");\n  }\n});\nrouter.post(\"/\", _util.isAuth, async (req, res) => {\n  const newOrder = new _orderModel.default({\n    orderItems: req.body.orderItems,\n    user: req.user._id,\n    shipping: req.body.shipping,\n    payment: req.body.payment,\n    itemsPrice: req.body.itemsPrice,\n    taxPrice: req.body.taxPrice,\n    shippingPrice: req.body.shippingPrice,\n    totalPrice: req.body.totalPrice\n  });\n  const newOrderCreated = await newOrder.save();\n  res.status(201).send({\n    message: \"New Order Created\",\n    data: newOrderCreated\n  });\n});\nrouter.put(\"/:id/pay\", _util.isAuth, async (req, res) => {\n  const order = await _orderModel.default.findById(req.params.id);\n\n  if (order) {\n    order.isPaid = true;\n    order.paidAt = Date.now();\n    order.payment = {\n      paymentMethod: 'paypal',\n      paymentResult: {\n        payerID: req.body.payerID,\n        orderID: req.body.orderID,\n        paymentID: req.body.paymentID\n      }\n    };\n    const updatedOrder = await order.save();\n    res.send({\n      message: 'Order Paid.',\n      order: updatedOrder\n    });\n  } else {\n    res.status(404).send({\n      message: 'Order not found.'\n    });\n  }\n});\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9yZGVyUm91dGUuanMiXSwibmFtZXMiOlsicm91dGVyIiwiZXhwcmVzcyIsIlJvdXRlciIsImdldCIsImlzQXV0aCIsInJlcSIsInJlcyIsIm9yZGVycyIsIk9yZGVyIiwiZmluZCIsInBvcHVsYXRlIiwic2VuZCIsInVzZXIiLCJfaWQiLCJvcmRlciIsImZpbmRPbmUiLCJwYXJhbXMiLCJpZCIsInN0YXR1cyIsImRlbGV0ZSIsImlzQWRtaW4iLCJkZWxldGVkT3JkZXIiLCJyZW1vdmUiLCJwb3N0IiwibmV3T3JkZXIiLCJvcmRlckl0ZW1zIiwiYm9keSIsInNoaXBwaW5nIiwicGF5bWVudCIsIml0ZW1zUHJpY2UiLCJ0YXhQcmljZSIsInNoaXBwaW5nUHJpY2UiLCJ0b3RhbFByaWNlIiwibmV3T3JkZXJDcmVhdGVkIiwic2F2ZSIsIm1lc3NhZ2UiLCJkYXRhIiwicHV0IiwiZmluZEJ5SWQiLCJpc1BhaWQiLCJwYWlkQXQiLCJEYXRlIiwibm93IiwicGF5bWVudE1ldGhvZCIsInBheW1lbnRSZXN1bHQiLCJwYXllcklEIiwib3JkZXJJRCIsInBheW1lbnRJRCIsInVwZGF0ZWRPcmRlciJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOzs7O0FBRUEsTUFBTUEsTUFBTSxHQUFHQyxpQkFBUUMsTUFBUixFQUFmOztBQUVBRixNQUFNLENBQUNHLEdBQVAsQ0FBVyxHQUFYLEVBQWdCQyxZQUFoQixFQUF3QixPQUFPQyxHQUFQLEVBQVlDLEdBQVosS0FBb0I7QUFDMUMsUUFBTUMsTUFBTSxHQUFHLE1BQU1DLG9CQUFNQyxJQUFOLENBQVcsRUFBWCxFQUFlQyxRQUFmLENBQXdCLE1BQXhCLENBQXJCO0FBQ0FKLEVBQUFBLEdBQUcsQ0FBQ0ssSUFBSixDQUFTSixNQUFUO0FBQ0QsQ0FIRDtBQUlBUCxNQUFNLENBQUNHLEdBQVAsQ0FBVyxPQUFYLEVBQW9CQyxZQUFwQixFQUE0QixPQUFPQyxHQUFQLEVBQVlDLEdBQVosS0FBb0I7QUFDOUMsUUFB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QSxNQUFJSCxLQUFKLEVBQVc7QUFDVEEsSUFBQUEsS0FBSyxDQUFDeUIsTUFBTixHQUFlLElBQWY7QUFDQXpCLElBQUFBLEtBQUssQ0FBQzBCLE1BQU4sR0FBZUMsSUFBSSxDQUFDQyxHQUFMLEVBQWY7QUFDQTVCLElBQUFBLEtBQUssQ0FBQ2MsT0FBTixHQUFnQjtBQUNkZSxNQUFBQSxhQUFhLEVBQUUsUUFERDtBQUVkQyxNQUFBQSxhQUFhLEVBQUU7QUFDYkMsUUFBQUEsT0FBTyxFQUFFeEMsR0FBRyxDQUFDcUIsSUFBSixDQUFTbUIsT0FETDtBQUViQyxRQUFBQSxPQUFPLEVBQUV6QyxHQUFHLENBQUNxQixJQUFKLENBQVNvQixPQUZMO0FBR2JDLFFBQUFBLFNBQVMsRUFBRTFDLEdBQUcsQ0FBQ3FCLElBQUosQ0FBU3FCO0FBSFA7QUFGRCxLQUFoQjtBQVFBLFVBQU1DLFlBQVksR0FBRyxNQUFNbEMsS0FBSyxDQUFDb0IsSUFBTixFQUEzQjtBQUNBNUIsSUFBQUEsR0FBRyxDQUFDSyxJQUFKLENBQVM7QUFBRXdCLE1BQUFBLE9BQU8sRUFBRSxhQUFYO0FBQTBCckIsTUFBQUEsS0FBSyxFQUFFa0M7QUFBakMsS0FBVDtBQUNELEdBYkQsTUFhTztBQUNMMUMsSUFBQUEsR0FBRyxDQUFDWSxNQUFKLENBQVcsR0FBWCxFQUFnQlAsSUFBaEIsQ0FBcUI7QUFBRXdCLE1BQUFBLE9BQU8sRUFBRTtBQUFYLEtBQXJCO0FBQ0Q7QUFDRixDQWxCRDtlQW9CZW5DLE0iLCJzb3VyY2VSb290IjoiL1VzZXJzL01lL0Rlc2t0b3AvUmVhY3RQcm9qZWN0cy9vbGRlci9iYWNrZW5kL3JvdXRlcy8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcbmltcG9ydCBPcmRlciBmcm9tICcuLi9zY2hlbWFzL29yZGVyTW9kZWwnO1xuaW1wb3J0IHsgaXNBdXRoLCBpc0FkbWluIH0gZnJvbSAnLi4vdXRpbCc7XG5cbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5cbnJvdXRlci5nZXQoXCIvXCIsIGlzQXV0aCwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIGNvbnN0IG9yZGVycyA9IGF3YWl0IE9yZGVyLmZpbmQoe30pLnBvcHVsYXRlKCd1c2VyJyk7XG4gIHJlcy5zZW5kKG9yZGVycyk7XG59KTtcbnJvdXRlci5nZXQoXCIvbWluZVwiLCBpc0F1dGgsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICBjb25zdCBvcmRlcnMgPSBhd2FpdCBPcmRlci5maW5kKHsgdXNlcjogcmVxLnVzZXIuX2lkIH0pO1xuICByZXMuc2VuZChvcmRlcnMpO1xufSk7XG5cbnJvdXRlci5nZXQoXCIvOmlkXCIsIGlzQXV0aCwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIGNvbnN0IG9yZGVyID0gYXdhaXQgT3JkZXIuZmluZE9uZSh7IF9pZDogcmVxLnBhcmFtcy5pZCB9KTtcbiAgaWYgKG9yZGVyKSB7XG4gICAgcmVzLnNlbmQob3JkZXIpO1xuICB9IGVsc2Uge1xuICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKFwiT3JkZXIgTm90IEZvdW5kLlwiKVxuICB9XG59KTtcblxucm91dGVyLmRlbGV0ZShcIi86aWRcIiwgaXNBdXRoLCBpc0FkbWluLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgY29uc3Qgb3JkZXIgPSBhd2FpdCBPcmRlci5maW5kT25lKHsgX2lkOiByZXEucGFyYW1zLmlkIH0pO1xuICBpZiAob3JkZXIpIHtcbiAgICBjb25zdCBkZWxldGVkT3JkZXIgPSBhd2FpdCBvcmRlci5yZW1vdmUoKTtcbiAgICByZXMuc2VuZChkZWxldGVkT3JkZXIpO1xuICB9IGVsc2Uge1xuICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKFwiT3JkZXIgTm90IEZvdW5kLlwiKVxuICB9XG59KTtcblxucm91dGVyLnBvc3QoXCIvXCIsIGlzQXV0aCwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIGNvbnN0IG5ld09yZGVyID0gbmV3IE9yZGVyKHtcbiAgICBvcmRlckl0ZW1zOiByZXEuYm9keS5vcmRlckl0ZW1zLFxuICAgIHVzZXI6IHJlcS51c2VyLl9pZCxcbiAgICBzaGlwcGluZzogcmVxLmJvZHkuc2hpcHBpbmcsXG4gICAgcGF5bWVudDogcmVxLmJvZHkucGF5bWVudCxcbiAgICBpdGVtc1ByaWNlOiByZXEuYm9keS5pdGVtc1ByaWNlLFxuICAgIHRheFByaWNlOiByZXEuYm9keS50YXhQcmljZSxcbiAgICBzaGlwcGluZ1ByaWNlOiByZXEuYm9keS5zaGlwcGluZ1ByaWNlLFxuICAgIHRvdGFsUHJpY2U6IHJlcS5ib2R5LnRvdGFsUHJpY2UsXG4gIH0pO1xuICBjb25zdCBuZXdPcmRlckNyZWF0ZWQgPSBhd2FpdCBuZXdPcmRlci5zYXZlKCk7XG4gIHJlcy5zdGF0dXMoMjAxKS5zZW5kKHsgbWVzc2FnZTogXCJOZXcgT3JkZXIgQ3JlYXRlZFwiLCBkYXRhOiBuZXdPcmRlckNyZWF0ZWQgfSk7XG59KTtcblxucm91dGVyLnB1dChcIi86aWQvcGF5XCIsIGlzQXV0aCwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIGNvbnN0IG9yZGVyID0gYXdhaXQgT3JkZXIuZmluZEJ5SWQocmVxLnBhcmFtcy5pZCk7XG4gIGlmIChvcmRlcikge1xuICAgIG9yZGVyLmlzUGFpZCA9IHRydWU7XG4gICAgb3JkZXIucGFpZEF0ID0gRGF0ZS5ub3coKTtcbiAgICBvcmRlci5wYXltZW50ID0ge1xuICAgICAgcGF5bWVudE1ldGhvZDogJ3BheXBhbCcsXG4gICAgICBwYXltZW50UmVzdWx0OiB7XG4gICAgICAgIHBheWVySUQ6IHJlcS5ib2R5LnBheWVySUQsXG4gICAgICAgIG9yZGVySUQ6IHJlcS5ib2R5Lm9yZGVySUQsXG4gICAgICAgIHBheW1lbnRJRDogcmVxLmJvZHkucGF5bWVudElEXG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHVwZGF0ZWRPcmRlciA9IGF3YWl0IG9yZGVyLnNhdmUoKTtcbiAgICByZXMuc2VuZCh7IG1lc3NhZ2U6ICdPcmRlciBQYWlkLicsIG9yZGVyOiB1cGRhdGVkT3JkZXIgfSk7XG4gIH0gZWxzZSB7XG4gICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoeyBtZXNzYWdlOiAnT3JkZXIgbm90IGZvdW5kLicgfSlcbiAgfVxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjsiXX0=",
    "map": {
      "version": 3,
      "sources": [
        "orderRoute.js"
      ],
      "names": [
        "router",
        "express",
        "Router",
        "get",
        "isAuth",
        "req",
        "res",
        "orders",
        "Order",
        "find",
        "populate",
        "send",
        "user",
        "_id",
        "order",
        "findOne",
        "params",
        "id",
        "status",
        "delete",
        "isAdmin",
        "deletedOrder",
        "remove",
        "post",
        "newOrder",
        "orderItems",
        "body",
        "shipping",
        "payment",
        "itemsPrice",
        "taxPrice",
        "shippingPrice",
        "totalPrice",
        "newOrderCreated",
        "save",
        "message",
        "data",
        "put",
        "findById",
        "isPaid",
        "paidAt",
        "Date",
        "now",
        "paymentMethod",
        "paymentResult",
        "payerID",
        "orderID",
        "paymentID",
        "updatedOrder"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/older/backend/routes/",
      "sourcesContent": [
        "import express from 'express';\nimport Order from '../schemas/orderModel';\nimport { isAuth, isAdmin } from '../util';\n\nconst router = express.Router();\n\nrouter.get(\"/\", isAuth, async (req, res) => {\n  const orders = await Order.find({}).populate('user');\n  res.send(orders);\n});\nrouter.get(\"/mine\", isAuth, async (req, res) => {\n  const orders = await Order.find({ user: req.user._id });\n  res.send(orders);\n});\n\nrouter.get(\"/:id\", isAuth, async (req, res) => {\n  const order = await Order.findOne({ _id: req.params.id });\n  if (order) {\n    res.send(order);\n  } else {\n    res.status(404).send(\"Order Not Found.\")\n  }\n});\n\nrouter.delete(\"/:id\", isAuth, isAdmin, async (req, res) => {\n  const order = await Order.findOne({ _id: req.params.id });\n  if (order) {\n    const deletedOrder = await order.remove();\n    res.send(deletedOrder);\n  } else {\n    res.status(404).send(\"Order Not Found.\")\n  }\n});\n\nrouter.post(\"/\", isAuth, async (req, res) => {\n  const newOrder = new Order({\n    orderItems: req.body.orderItems,\n    user: req.user._id,\n    shipping: req.body.shipping,\n    payment: req.body.payment,\n    itemsPrice: req.body.itemsPrice,\n    taxPrice: req.body.taxPrice,\n    shippingPrice: req.body.shippingPrice,\n    totalPrice: req.body.totalPrice,\n  });\n  const newOrderCreated = await newOrder.save();\n  res.status(201).send({ message: \"New Order Created\", data: newOrderCreated });\n});\n\nrouter.put(\"/:id/pay\", isAuth, async (req, res) => {\n  const order = await Order.findById(req.params.id);\n  if (order) {\n    order.isPaid = true;\n    order.paidAt = Date.now();\n    order.payment = {\n      paymentMethod: 'paypal',\n      paymentResult: {\n        payerID: req.body.payerID,\n        orderID: req.body.orderID,\n        paymentID: req.body.paymentID\n      }\n    }\n    const updatedOrder = await order.save();\n    res.send({ message: 'Order Paid.', order: updatedOrder });\n  } else {\n    res.status(404).send({ message: 'Order not found.' })\n  }\n});\n\nexport default router;"
      ]
    },
    "sourceType": "script",
    "mtime": 1606438635879
  },
  "{\"sourceRoot\":\"/Users/Me/Desktop/ReactProjects/older/backend/schemas/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/Me/Desktop/ReactProjects/older\",\"filename\":\"/Users/Me/Desktop/ReactProjects/older/backend/schemas/orderModel.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/Me/Desktop/ReactProjects/older\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/older/backend/schemas/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/Me/Desktop/ReactProjects/older",
      "filename": "/Users/Me/Desktop/ReactProjects/older/backend/schemas/orderModel.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/Me/Desktop/ReactProjects/older",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/Me/Desktop/ReactProjects/older/backend/schemas/orderModel.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/Me/Desktop/ReactProjects/older/backend/schemas/orderModel.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/Me/Desktop/ReactProjects/older/backend/schemas/",
        "sourceFileName": "orderModel.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst orderSchema = new _mongoose.default.Schema({\n  orderItems: [{\n    name: {\n      type: String,\n      required: true\n    },\n    qty: {\n      type: Number,\n      required: true\n    },\n    image: {\n      type: String,\n      required: true\n    },\n    price: {\n      type: Number,\n      required: true\n    },\n    product: {\n      type: _mongoose.default.Schema.Types.ObjectId,\n      ref: 'Product',\n      required: true\n    }\n  }],\n  shippingAddress: {\n    fullName: {\n      type: String,\n      required: true\n    },\n    address: {\n      type: String,\n      required: true\n    },\n    city: {\n      type: String,\n      required: true\n    },\n    postalCode: {\n      type: String,\n      required: true\n    },\n    country: {\n      type: String,\n      required: true\n    }\n  },\n  paymentMethod: {\n    type: String,\n    required: true\n  },\n  paymentResult: {\n    id: String,\n    status: String,\n    update_time: String,\n    email_address: String\n  },\n  itemsPrice: {\n    type: Number,\n    required: true\n  },\n  shippingPrice: {\n    type: Number,\n    required: true\n  },\n  taxPrice: {\n    type: Number,\n    required: true\n  },\n  totalPrice: {\n    type: Number,\n    required: true\n  },\n  user: {\n    type: _mongoose.default.Schema.Types.ObjectId,\n    ref: 'User',\n    required: true\n  },\n  seller: {\n    type: _mongoose.default.Schema.Types.ObjectID,\n    ref: 'User'\n  },\n  isPaid: {\n    type: Boolean,\n    default: false\n  },\n  paidAt: {\n    type: Date\n  },\n  isDelivered: {\n    type: Boolean,\n    default: false\n  },\n  deliveredAt: {\n    type: Date\n  }\n}, {\n  timestamps: true\n});\n\nconst Order = _mongoose.default.model('Order', orderSchema);\n\nvar _default = Order;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9yZGVyTW9kZWwuanMiXSwibmFtZXMiOlsib3JkZXJTY2hlbWEiLCJtb25nb29zZSIsIlNjaGVtYSIsIm9yZGVySXRlbXMiLCJuYW1lIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwicXR5IiwiTnVtYmVyIiwiaW1hZ2UiLCJwcmljZSIsInByb2R1Y3QiLCJUeXBlcyIsIk9iamVjdElkIiwicmVmIiwic2hpcHBpbmdBZGRyZXNzIiwiZnVsbE5hbWUiLCJhZGRyZXNzIiwiY2l0eSIsInBvc3RhbENvZGUiLCJjb3VudHJ5IiwicGF5bWVudE1ldGhvZCIsInBheW1lbnRSZXN1bHQiLCJpZCIsInN0YXR1cyIsInVwZGF0ZV90aW1lIiwiZW1haWxfYWRkcmVzcyIsIml0ZW1zUHJpY2UiLCJzaGlwcGluZ1ByaWNlIiwidGF4UHJpY2UiLCJ0b3RhbFByaWNlIiwidXNlciIsInNlbGxlciIsIk9iamVjdElEIiwiaXNQYWlkIiwiQm9vbGVhbiIsImRlZmF1bHQiLCJwYWlkQXQiLCJEYXRlIiwiaXNEZWxpdmVyZWQiLCJkZWxpdmVyZWRBdCIsInRpbWVzdGFtcHMiLCJPcmRlciIsIm1vZGVsIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7Ozs7QUFFQSxNQUFNQSxXQUFXLEdBQUcsSUFBSUMsa0JBQVNDLE1BQWIsQ0FDbEI7QUFDRUMsRUFBQUEsVUFBVSxFQUFFLENBQ1Y7QUFDRUMsSUFBQUEsSUFBSSxFQUFFO0FBQUVDLE1BQUFBLElBQUksRUFBRUMsTUFBUjtBQUFnQkMsTUFBQUEsUUFBUSxFQUFFO0FBQTFCLEtBRFI7QUFFRUMsSUFBQUEsR0FBRyxFQUFFO0FBQUVILE1BQUFBLElBQUksRUFBRUksTUFBUjtBQUFnQkYsTUFBQUEsUUFBUSxFQUFFO0FBQTFCLEtBRlA7QUFHRUcsSUFBQUEsS0FBSyxFQUFFO0FBQUVMLE1BQUFBLElBQUksRUFBRUMsTUFBUjtBQUFnQkMsTUFBQUEsUUFBUSxFQUFFO0FBQTFCLEtBSFQ7QUFJRUksSUFBQUEsS0FBSyxFQUFFO0FB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SSxFQUFFa0M7QUFBUjtBQXJDZixDQURrQixFQXdDbEI7QUFDRUcsRUFBQUEsVUFBVSxFQUFFO0FBRGQsQ0F4Q2tCLENBQXBCOztBQTRDQSxNQUFNQyxLQUFLLEdBQUcxQyxrQkFBUzJDLEtBQVQsQ0FBZSxPQUFmLEVBQXdCNUMsV0FBeEIsQ0FBZDs7ZUFDZTJDLEsiLCJzb3VyY2VSb290IjoiL1VzZXJzL01lL0Rlc2t0b3AvUmVhY3RQcm9qZWN0cy9vbGRlci9iYWNrZW5kL3NjaGVtYXMvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcblxuY29uc3Qgb3JkZXJTY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKFxuICB7XG4gICAgb3JkZXJJdGVtczogW1xuICAgICAge1xuICAgICAgICBuYW1lOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICAgICAgcXR5OiB7IHR5cGU6IE51bWJlciwgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICAgICAgaW1hZ2U6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgICAgICBwcmljZTogeyB0eXBlOiBOdW1iZXIsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgICAgIHByb2R1Y3Q6IHtcbiAgICAgICAgICB0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsXG4gICAgICAgICAgcmVmOiAnUHJvZHVjdCcsXG4gICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIF0sXG4gICAgc2hpcHBpbmdBZGRyZXNzOiB7XG4gICAgICBmdWxsTmFtZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgICBhZGRyZXNzOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICAgIGNpdHk6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgICAgcG9zdGFsQ29kZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgICBjb3VudHJ5OiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICB9LFxuICAgIHBheW1lbnRNZXRob2Q6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgIHBheW1lbnRSZXN1bHQ6IHtcbiAgICAgIGlkOiBTdHJpbmcsXG4gICAgICBzdGF0dXM6IFN0cmluZyxcbiAgICAgIHVwZGF0ZV90aW1lOiBTdHJpbmcsXG4gICAgICBlbWFpbF9hZGRyZXNzOiBTdHJpbmcsXG4gICAgfSxcbiAgICBpdGVtc1ByaWNlOiB7IHR5cGU6IE51bWJlciwgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICBzaGlwcGluZ1ByaWNlOiB7IHR5cGU6IE51bWJlciwgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICB0YXhQcmljZTogeyB0eXBlOiBOdW1iZXIsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgdG90YWxQcmljZTogeyB0eXBlOiBOdW1iZXIsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgdXNlcjogeyB0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsIHJlZjogJ1VzZXInLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgIHNlbGxlcjogeyB0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SUQsIHJlZjogJ1VzZXInIH0sXG4gICAgaXNQYWlkOiB7IHR5cGU6IEJvb2xlYW4sIGRlZmF1bHQ6IGZhbHNlIH0sXG4gICAgcGFpZEF0OiB7IHR5cGU6IERhdGUgfSxcbiAgICBpc0RlbGl2ZXJlZDogeyB0eXBlOiBCb29sZWFuLCBkZWZhdWx0OiBmYWxzZSB9LFxuICAgIGRlbGl2ZXJlZEF0OiB7IHR5cGU6IERhdGUgfSxcbiAgfSxcbiAge1xuICAgIHRpbWVzdGFtcHM6IHRydWUsXG4gIH1cbik7XG5jb25zdCBPcmRlciA9IG1vbmdvb3NlLm1vZGVsKCdPcmRlcicsIG9yZGVyU2NoZW1hKTtcbmV4cG9ydCBkZWZhdWx0IE9yZGVyO1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "orderModel.js"
      ],
      "names": [
        "orderSchema",
        "mongoose",
        "Schema",
        "orderItems",
        "name",
        "type",
        "String",
        "required",
        "qty",
        "Number",
        "image",
        "price",
        "product",
        "Types",
        "ObjectId",
        "ref",
        "shippingAddress",
        "fullName",
        "address",
        "city",
        "postalCode",
        "country",
        "paymentMethod",
        "paymentResult",
        "id",
        "status",
        "update_time",
        "email_address",
        "itemsPrice",
        "shippingPrice",
        "taxPrice",
        "totalPrice",
        "user",
        "seller",
        "ObjectID",
        "isPaid",
        "Boolean",
        "default",
        "paidAt",
        "Date",
        "isDelivered",
        "deliveredAt",
        "timestamps",
        "Order",
        "model"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/older/backend/schemas/",
      "sourcesContent": [
        "import mongoose from 'mongoose';\n\nconst orderSchema = new mongoose.Schema(\n  {\n    orderItems: [\n      {\n        name: { type: String, required: true },\n        qty: { type: Number, required: true },\n        image: { type: String, required: true },\n        price: { type: Number, required: true },\n        product: {\n          type: mongoose.Schema.Types.ObjectId,\n          ref: 'Product',\n          required: true,\n        },\n      },\n    ],\n    shippingAddress: {\n      fullName: { type: String, required: true },\n      address: { type: String, required: true },\n      city: { type: String, required: true },\n      postalCode: { type: String, required: true },\n      country: { type: String, required: true },\n    },\n    paymentMethod: { type: String, required: true },\n    paymentResult: {\n      id: String,\n      status: String,\n      update_time: String,\n      email_address: String,\n    },\n    itemsPrice: { type: Number, required: true },\n    shippingPrice: { type: Number, required: true },\n    taxPrice: { type: Number, required: true },\n    totalPrice: { type: Number, required: true },\n    user: { type: mongoose.Schema.Types.ObjectId, ref: 'User', required: true },\n    seller: { type: mongoose.Schema.Types.ObjectID, ref: 'User' },\n    isPaid: { type: Boolean, default: false },\n    paidAt: { type: Date },\n    isDelivered: { type: Boolean, default: false },\n    deliveredAt: { type: Date },\n  },\n  {\n    timestamps: true,\n  }\n);\nconst Order = mongoose.model('Order', orderSchema);\nexport default Order;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1606412590000
  },
  "{\"sourceRoot\":\"/Users/Me/Desktop/ReactProjects/older/backend/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/Me/Desktop/ReactProjects/older\",\"filename\":\"/Users/Me/Desktop/ReactProjects/older/backend/routes/uploadRoute.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/Me/Desktop/ReactProjects/older\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/older/backend/routes/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/Me/Desktop/ReactProjects/older",
      "filename": "/Users/Me/Desktop/ReactProjects/older/backend/routes/uploadRoute.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/Me/Desktop/ReactProjects/older",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/Me/Desktop/ReactProjects/older/backend/routes/uploadRoute.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/Me/Desktop/ReactProjects/older/backend/routes/uploadRoute.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/Me/Desktop/ReactProjects/older/backend/routes/",
        "sourceFileName": "uploadRoute.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _multer = _interopRequireDefault(require(\"multer\"));\n\nvar _multerS = _interopRequireDefault(require(\"multer-s3\"));\n\nvar _awsSdk = _interopRequireDefault(require(\"aws-sdk\"));\n\nvar _config = _interopRequireDefault(require(\"../config\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst storage = _multer.default.diskStorage({\n  destination(req, file, cb) {\n    cb(null, 'uploads/');\n  },\n\n  filename(req, file, cb) {\n    cb(null, `${Date.now()}.jpg`);\n  }\n\n});\n\nconst upload = (0, _multer.default)({\n  storage\n});\n\nconst router = _express.default.Router();\n\nrouter.post('/', upload.single('image'), (req, res) => {\n  res.send(`/${req.file.path}`);\n});\n\n_awsSdk.default.config.update({\n  accessKeyId: _config.default.accessKeyId,\n  secretAccessKey: _config.default.secretAccessKey\n});\n\nconst s3 = new _awsSdk.default.S3();\nconst storageS3 = (0, _multerS.default)({\n  s3,\n  bucket: 'amazona-bucket',\n  acl: 'public-read',\n  contentType: _multerS.default.AUTO_CONTENT_TYPE,\n\n  key(req, file, cb) {\n    cb(null, file.originalname);\n  }\n\n});\nconst uploadS3 = (0, _multer.default)({\n  storage: storageS3\n});\nrouter.post('/s3', uploadS3.single('image'), (req, res) => {\n  res.send(req.file.location);\n});\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVwbG9hZFJvdXRlLmpzIl0sIm5hbWVzIjpbInN0b3JhZ2UiLCJtdWx0ZXIiLCJkaXNrU3RvcmFnZSIsImRlc3RpbmF0aW9uIiwicmVxIiwiZmlsZSIsImNiIiwiZmlsZW5hbWUiLCJEYXRlIiwibm93IiwidXBsb2FkIiwicm91dGVyIiwiZXhwcmVzcyIsIlJvdXRlciIsInBvc3QiLCJzaW5nbGUiLCJyZXMiLCJzZW5kIiwicGF0aCIsImF3cyIsImNvbmZpZyIsInVwZGF0ZSIsImFjY2Vzc0tleUlkIiwic2VjcmV0QWNjZXNzS2V5IiwiczMiLCJTMyIsInN0b3JhZ2VTMyIsImJ1Y2tldCIsImFjbCIsImNvbnRlbnRUeXBlIiwibXVsdGVyUzMiLCJBVVRPX0NPTlRFTlRfVFlQRSIsImtleSIsIm9yaWdpbmFsbmFtZSIsInVwbG9hZFMzIiwibG9jYXRpb24iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7OztBQUVBLE1BQU1BLE9BQU8sR0FBR0MsZ0JBQU9DLFdBQVAsQ0FBbUI7QUFDakNDLEVBQUFBLFdBQVcsQ0FBQ0MsR0FBRCxFQUFNQyxJQUFOLEVBQVlDLEVBQVosRUFBZ0I7QUFDekJBLElBQUFBLEVBQUUsQ0FBQyxJQUFELEVBQU8sVUFBUCxDQUFGO0FBQ0QsR0FIZ0M7O0FBSWpDQyxFQUFBQSxRQUFRLENBQUNILEdBQUQsRUFBTUMsSUFBTixFQUFZQyxFQUFaLEVBQWdCO0FBQ3RCQSxJQUFBQSxFQUFFLENBQUMsSUFBRCxFQUFRLEdBQUVFLElBQUksQ0FBQ0MsR0FBTCxFQUFXLE1BQXJCLENBQUY7QUFDRDs7QUFOZ0MsQ0FBbkIsQ0FBaEI7O0FBU0EsTUFBTUMsTUFBTSxHQUFHLHFCQUFPO0FBQUVWLEVBQUFBO0FBQUYsQ0FBUCxDQUFmOztBQUVBLE1BQU1XLE1BQU0sR0FBR0MsaUJBQVFDLE1BQVIsRUFBZjs7QUFFQUYsTUFBTSxDQUFDRyxJQUFQLENBQVksR0FBWixFQUFpQkosTUFBTSxDQUFDSyxNQUFQLENBQWMsT0FBZCxDQUFqQixFQUF5QyxDQUFDWCxHQUFELEVBQU1ZLEdBQU4sS0FBYztBQUNyREEsRUFBQUEsR0FBRyxDQUFDQyxJQUFKLENBQVUsSUFBR2IsR0FBRyxDQUFDQyxJQUFKLENBQVNhLElBQUssRUFBM0I7QUFDRCxDQUZEOztBQUlBQyxnQkFBSUMsTUFBSixDQUFXQyxNQUFYLENBQWtCO0FBQ2hCQyxFQUFBQSxXQUFXLEVBQUVGLGdCQUFPRSxXQURKO0FBRWhCQyxFQUFBQSxlQUFlLEVBQUVILGdCQUFPRztBQUZSLENBQWxCOztBQUlBLE1BQU1DLEVBQUUsR0FBRyxJQUFJTCxnQkFBSU0sRUFBUixFQUFYO0FBQ0EsTUFBTUMsU0FBUyxHQUFHLHNCQUFTO0FBQ3pCRixFQUFBQSxFQUR5QjtBQUV6QkcsRUFBQUEsTUFBTSxFQUFFLGdCQUZpQjtBQUd6QkMsRUFBQUEsR0FBRyxFQUFFLGFBSG9CO0FBSXpCQyxFQUFBQSxXQUFXLEVBQUVDLGlCQUFTQyxpQkFKRzs7QUFLekJDLEVBQUFBLEdBQUcsQ0FBQzVCLEdBQUQsRUFBTUMsSUFBTixFQUFZQyxFQUFaLEVBQWdCO0FBQ2pCQSxJQUFBQSxFQUFFLENBQUMsSUFBRCxFQUFPRCxJQUFJLENBQUM0QixZQUFaLENBQUY7QUFDRDs7QUFQd0IsQ0FBVCxDQUFsQjtBQVNBLE1BQU1DLFFBQVEsR0FBRyxxQkFBTztBQUFFbEMsRUFBQUEsT0FBTyxFQUFFMEI7QUFBWCxDQUFQLENBQWpCO0FBQ0FmLE1BQU0sQ0FBQ0csSUFBUCxDQUFZLEtBQVosRUFBbUJvQixRQUFRLENBQUNuQixNQUFULENBQWdCLE9BQWhCLENBQW5CLEVBQTZDLENBQUNYLEdBQUQsRUFBTVksR0FBTixLQUFjO0FBQ3pEQSxFQUFBQSxHQUFHLENBQUNDLElBQUosQ0FBU2IsR0FBRyxDQUFDQyxJQUFKLENBQVM4QixRQUFsQjtBQUNELENBRkQ7ZUFHZXhCLE0iLCJzb3VyY2VSb290IjoiL1VzZXJzL01lL0Rlc2t0b3AvUmVhY3RQcm9qZWN0cy9vbGRlci9iYWNrZW5kL3JvdXRlcy8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcbmltcG9ydCBtdWx0ZXIgZnJvbSAnbXVsdGVyJztcbmltcG9ydCBtdWx0ZXJTMyBmcm9tICdtdWx0ZXItczMnO1xuaW1wb3J0IGF3cyBmcm9tICdhd3Mtc2RrJztcbmltcG9ydCBjb25maWcgZnJvbSAnLi4vY29uZmlnJztcblxuY29uc3Qgc3RvcmFnZSA9IG11bHRlci5kaXNrU3RvcmFnZSh7XG4gIGRlc3RpbmF0aW9uKHJlcSwgZmlsZSwgY2IpIHtcbiAgICBjYihudWxsLCAndXBsb2Fkcy8nKTtcbiAgfSxcbiAgZmlsZW5hbWUocmVxLCBmaWxlLCBjYikge1xuICAgIGNiKG51bGwsIGAke0RhdGUubm93KCl9LmpwZ2ApO1xuICB9LFxufSk7XG5cbmNvbnN0IHVwbG9hZCA9IG11bHRlcih7IHN0b3JhZ2UgfSk7XG5cbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5cbnJvdXRlci5wb3N0KCcvJywgdXBsb2FkLnNpbmdsZSgnaW1hZ2UnKSwgKHJlcSwgcmVzKSA9PiB7XG4gIHJlcy5zZW5kKGAvJHtyZXEuZmlsZS5wYXRofWApO1xufSk7XG5cbmF3cy5jb25maWcudXBkYXRlKHtcbiAgYWNjZXNzS2V5SWQ6IGNvbmZpZy5hY2Nlc3NLZXlJZCxcbiAgc2VjcmV0QWNjZXNzS2V5OiBjb25maWcuc2VjcmV0QWNjZXNzS2V5LFxufSk7XG5jb25zdCBzMyA9IG5ldyBhd3MuUzMoKTtcbmNvbnN0IHN0b3JhZ2VTMyA9IG11bHRlclMzKHtcbiAgczMsXG4gIGJ1Y2tldDogJ2FtYXpvbmEtYnVja2V0JyxcbiAgYWNsOiAncHVibGljLXJlYWQnLFxuICBjb250ZW50VHlwZTogbXVsdGVyUzMuQVVUT19DT05URU5UX1RZUEUsXG4gIGtleShyZXEsIGZpbGUsIGNiKSB7XG4gICAgY2IobnVsbCwgZmlsZS5vcmlnaW5hbG5hbWUpO1xuICB9LFxufSk7XG5jb25zdCB1cGxvYWRTMyA9IG11bHRlcih7IHN0b3JhZ2U6IHN0b3JhZ2VTMyB9KTtcbnJvdXRlci5wb3N0KCcvczMnLCB1cGxvYWRTMy5zaW5nbGUoJ2ltYWdlJyksIChyZXEsIHJlcykgPT4ge1xuICByZXMuc2VuZChyZXEuZmlsZS5sb2NhdGlvbik7XG59KTtcbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "uploadRoute.js"
      ],
      "names": [
        "storage",
        "multer",
        "diskStorage",
        "destination",
        "req",
        "file",
        "cb",
        "filename",
        "Date",
        "now",
        "upload",
        "router",
        "express",
        "Router",
        "post",
        "single",
        "res",
        "send",
        "path",
        "aws",
        "config",
        "update",
        "accessKeyId",
        "secretAccessKey",
        "s3",
        "S3",
        "storageS3",
        "bucket",
        "acl",
        "contentType",
        "multerS3",
        "AUTO_CONTENT_TYPE",
        "key",
        "originalname",
        "uploadS3",
        "location"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;;;AAEA,MAAMA,OAAO,GAAGC,gBAAOC,WAAP,CAAmB;AACjCC,EAAAA,WAAW,CAACC,GAAD,EAAMC,IAAN,EAAYC,EAAZ,EAAgB;AACzBA,IAAAA,EAAE,CAAC,IAAD,EAAO,UAAP,CAAF;AACD,GAHgC;;AAIjCC,EAAAA,QAAQ,CAACH,GAAD,EAAMC,IAAN,EAAYC,EAAZ,EAAgB;AACtBA,IAAAA,EAAE,CAAC,IAAD,EAAQ,GAAEE,IAAI,CAACC,GAAL,EAAW,MAArB,CAAF;AACD;;AANgC,CAAnB,CAAhB;;AASA,MAAMC,MAAM,GAAG,qBAAO;AAAEV,EAAAA;AAAF,CAAP,CAAf;;AAEA,MAAMW,MAAM,GAAGC,iBAAQC,MAAR,EAAf;;AAEAF,MAAM,CAACG,IAAP,CAAY,GAAZ,EAAiBJ,MAAM,CAACK,MAAP,CAAc,OAAd,CAAjB,EAAyC,CAACX,GAAD,EAAMY,GAAN,KAAc;AACrDA,EAAAA,GAAG,CAACC,IAAJ,CAAU,IAAGb,GAAG,CAACC,IAAJ,CAASa,IAAK,EAA3B;AACD,CAFD;;AAIAC,gBAAIC,MAAJ,CAAWC,MAAX,CAAkB;AAChBC,EAAAA,WAAW,EAAEF,gBAAOE,WADJ;AAEhBC,EAAAA,eAAe,EAAEH,gBAAOG;AAFR,CAAlB;;AAIA,MAAMC,EAAE,GAAG,IAAIL,gBAAIM,EAAR,EAAX;AACA,MAAMC,SAAS,GAAG,sBAAS;AACzBF,EAAAA,EADyB;AAEzBG,EAAAA,MAAM,EAAE,gBAFiB;AAGzBC,EAAAA,GAAG,EAAE,aAHoB;AAIzBC,EAAAA,WAAW,EAAEC,iBAASC,iBAJG;;AAKzBC,EAAAA,GAAG,CAAC5B,GAAD,EAAMC,IAAN,EAAYC,EAAZ,EAAgB;AACjBA,IAAAA,EAAE,CAAC,IAAD,EAAOD,IAAI,CAAC4B,YAAZ,CAAF;AACD;;AAPwB,CAAT,CAAlB;AASA,MAAMC,QAAQ,GAAG,qBAAO;AAAElC,EAAAA,OAAO,EAAE0B;AAAX,CAAP,CAAjB;AACAf,MAAM,CAACG,IAAP,CAAY,KAAZ,EAAmBoB,QAAQ,CAACnB,MAAT,CAAgB,OAAhB,CAAnB,EAA6C,CAACX,GAAD,EAAMY,GAAN,KAAc;AACzDA,EAAAA,GAAG,CAACC,IAAJ,CAASb,GAAG,CAACC,IAAJ,CAAS8B,QAAlB;AACD,CAFD;eAGexB,M",
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/older/backend/routes/",
      "sourcesContent": [
        "import express from 'express';\nimport multer from 'multer';\nimport multerS3 from 'multer-s3';\nimport aws from 'aws-sdk';\nimport config from '../config';\n\nconst storage = multer.diskStorage({\n  destination(req, file, cb) {\n    cb(null, 'uploads/');\n  },\n  filename(req, file, cb) {\n    cb(null, `${Date.now()}.jpg`);\n  },\n});\n\nconst upload = multer({ storage });\n\nconst router = express.Router();\n\nrouter.post('/', upload.single('image'), (req, res) => {\n  res.send(`/${req.file.path}`);\n});\n\naws.config.update({\n  accessKeyId: config.accessKeyId,\n  secretAccessKey: config.secretAccessKey,\n});\nconst s3 = new aws.S3();\nconst storageS3 = multerS3({\n  s3,\n  bucket: 'amazona-bucket',\n  acl: 'public-read',\n  contentType: multerS3.AUTO_CONTENT_TYPE,\n  key(req, file, cb) {\n    cb(null, file.originalname);\n  },\n});\nconst uploadS3 = multer({ storage: storageS3 });\nrouter.post('/s3', uploadS3.single('image'), (req, res) => {\n  res.send(req.file.location);\n});\nexport default router;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1607065011930
  },
  "{\"sourceRoot\":\"/Users/Me/Desktop/ReactProjects/older/backend/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/Me/Desktop/ReactProjects/older\",\"filename\":\"/Users/Me/Desktop/ReactProjects/older/backend/routes/productRouter.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/Me/Desktop/ReactProjects/older\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/older/backend/routes/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/Me/Desktop/ReactProjects/older",
      "filename": "/Users/Me/Desktop/ReactProjects/older/backend/routes/productRouter.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/Me/Desktop/ReactProjects/older",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/Me/Desktop/ReactProjects/older/backend/routes/productRouter.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/Me/Desktop/ReactProjects/older/backend/routes/productRouter.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/Me/Desktop/ReactProjects/older/backend/routes/",
        "sourceFileName": "productRouter.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _expressAsyncHandler = _interopRequireDefault(require(\"express-async-handler\"));\n\nvar _productModel = _interopRequireDefault(require(\"../schemas/productModel.js\"));\n\nvar _utils = require(\"../utils.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst productRouter = _express.default.Router();\n\nproductRouter.get('/', (0, _expressAsyncHandler.default)(async (req, res) => {\n  const name = req.query.name || '';\n  const category = req.query.category || '';\n  const seller = req.query.seller || '';\n  const order = req.query.order || '';\n  const min = req.query.min && Number(req.query.min) !== 0 ? Number(req.query.min) : 0;\n  const max = req.query.max && Number(req.query.max) !== 0 ? Number(req.query.max) : 0;\n  const rating = req.query.rating && Number(req.query.rating) !== 0 ? Number(req.query.rating) : 0;\n  const nameFilter = name ? {\n    name: {\n      $regex: name,\n      $options: 'i'\n    }\n  } : {};\n  const sellerFilter = seller ? {\n    seller\n  } : {};\n  const categoryFilter = category ? {\n    category\n  } : {};\n  const priceFilter = min && max ? {\n    price: {\n      $gte: min,\n      $lte: max\n    }\n  } : {};\n  const ratingFilter = rating ? {\n    rating: {\n      $gte: rating\n    }\n  } : {};\n  const sortOrder = order === 'lowest' ? {\n    price: 1\n  } : order === 'highest' ? {\n    price: -1\n  } : order === 'toprated' ? {\n    rating: -1\n  } : {\n    _id: -1\n  };\n  const products = await _productModel.default.find({ ...sellerFilter,\n    ...nameFilter,\n    ...categoryFilter,\n    ...priceFilter,\n    ...ratingFilter\n  }).populate('seller', 'seller.name seller.logo').sort(sortOrder);\n  res.send(products);\n}));\nproductRouter.get('/categories', (0, _expressAsyncHandler.default)(async (req, res) => {\n  const categories = await _productModel.default.find().distinct('category');\n  res.send(categories);\n}));\nproductRouter.get('/seed', (0, _expressAsyncHandler.default)(async (req, res) => {\n  // await Product.remove({});\n  const createdProducts = await _productModel.default.insertMany(data.products);\n  res.send({\n    createdProducts\n  });\n}));\nproductRouter.get('/:id', (0, _expressAsyncHandler.default)(async (req, res) => {\n  const product = await _productModel.default.findById(req.params.id).populate('seller', 'seller.name seller.logo seller.rating seller.numReviews');\n\n  if (product) {\n    res.send(product);\n  } else {\n    res.status(404).send({\n      message: 'Product Not Found'\n    });\n  }\n}));\nproductRouter.post('/', _utils.isAuth, _utils.isSellerOrAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const product = new _productModel.default({\n    name: 'sample name ' + Date.now(),\n    seller: req.user._id,\n    image: '/images/p1.jpg',\n    price: 0,\n    category: 'sample category',\n    brand: 'sample brand',\n    countInStock: 0,\n    rating: 0,\n    numReviews: 0,\n    description: 'sample description'\n  });\n  const createdProduct = await product.save();\n  res.send({\n    message: 'Product Created',\n    product: createdProduct\n  });\n}));\nproductRouter.put('/:id', _utils.isAuth, _utils.isSellerOrAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const productId = req.params.id;\n  const product = await _productModel.default.findById(productId);\n\n  if (product) {\n    product.name = req.body.name;\n    product.price = req.body.price;\n    product.image = req.body.image;\n    product.category = req.body.category;\n    product.brand = req.body.brand;\n    product.countInStock = req.body.countInStock;\n    product.description = req.body.description;\n    const updatedProduct = await product.save();\n    res.send({\n      message: 'Product Updated',\n      product: updatedProduct\n    });\n  } else {\n    res.status(404).send({\n      message: 'Product Not Found'\n    });\n  }\n}));\nproductRouter.delete('/:id', _utils.isAuth, _utils.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const product = await _productModel.default.findById(req.params.id);\n\n  if (product) {\n    const deleteProduct = await product.remove();\n    res.send({\n      message: 'Product Deleted',\n      product: deleteProduct\n    });\n  } else {\n    res.status(404).send({\n      message: 'Product Not Found'\n    });\n  }\n}));\nvar _default = productRouter;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2R1Y3RSb3V0ZXIuanMiXSwibmFtZXMiOlsicHJvZHVjdFJvdXRlciIsImV4cHJlc3MiLCJSb3V0ZXIiLCJnZXQiLCJyZXEiLCJyZXMiLCJuYW1lIiwicXVlcnkiLCJjYXRlZ29yeSIsInNlbGxlciIsIm9yZGVyIiwibWluIiwiTnVtYmVyIiwibWF4IiwicmF0aW5nIiwibmFtZUZpbHRlciIsIiRyZWdleCIsIiRvcHRpb25zIiwic2VsbGVyRmlsdGVyIiwiY2F0ZWdvcnlGaWx0ZXIiLCJwcmljZUZpbHRlciIsInByaWNlIiwiJGd0ZSIsIiRsdGUiLCJyYXRpbmdGaWx0ZXIiLCJzb3J0T3JkZXIiLCJfaWQiLCJwcm9kdWN0cyIsIlByb2R1Y3QiLCJmaW5kIiwicG9wdWxhdGUiLCJzb3J0Iiwic2VuZCIsImNhdGVnb3JpZXMiLCJkaXN0aW5jdCIsImNyZWF0ZWRQcm9kdWN0cyIsImluc2VydE1hbnkiLCJkYXRhIiwicHJvZHVjdCIsImZpbmRCeUlkIiwicGFyYW1zIiwiaWQiLCJzdGF0dXMiLCJtZXNzYWdlIiwicG9zdCIsImlzQXV0aCIsImlzU2VsbGVyT3JBZG1pbiIsIkRhdGUiLCJub3ciLCJ1c2VyIiwiaW1hZ2UiLCJicmFuZCIsImNvdW50SW5TdG9jayIsIm51bVJldmlld3MiLCJkZXNjcmlwdGlvbiIsImNyZWF0ZWRQcm9kdWN0Iiwic2F2ZSIsInB1dCIsInByb2R1Y3RJZCIsImJvZHkiLCJ1cGRhdGVkUHJvZHVjdCIsImRlbGV0ZSIsImlzQWRtaW4iLCJkZWxldGVQcm9kdWN0IiwicmVtb3ZlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7QUFFQSxNQUFNQSxhQUFhLEdBQUdDLGlCQUFRQyxNQUFSLEVBQXRCOztBQUVBRixhQUFhLENBQUNHLEdBQWQsQ0FDRSxHQURGLEVBRUUsa0NBQW9CLE9BQU9DLEdBQVAsRUFBWUMsR0FBWixLQUFvQjtBQUN0QyxRQUFNQyxJQUFJLEdBQUdGLEdBQUcsQ0FBQ0csS0FB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O0FBQThCTCxNQUFBQSxPQUFPLEVBQUV5QjtBQUF2QyxLQUFUO0FBQ0QsR0FIRCxNQUdPO0FBQ0wxRCxJQUFBQSxHQUFHLENBQUNxQyxNQUFKLENBQVcsR0FBWCxFQUFnQlYsSUFBaEIsQ0FBcUI7QUFBRVcsTUFBQUEsT0FBTyxFQUFFO0FBQVgsS0FBckI7QUFDRDtBQUNGLENBUkQsQ0FKRjtlQWVlM0MsYSIsInNvdXJjZVJvb3QiOiIvVXNlcnMvTWUvRGVza3RvcC9SZWFjdFByb2plY3RzL29sZGVyL2JhY2tlbmQvcm91dGVzLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IGV4cHJlc3NBc3luY0hhbmRsZXIgZnJvbSAnZXhwcmVzcy1hc3luYy1oYW5kbGVyJztcbmltcG9ydCBQcm9kdWN0IGZyb20gJy4uL3NjaGVtYXMvcHJvZHVjdE1vZGVsLmpzJztcbmltcG9ydCB7IGlzQWRtaW4sIGlzQXV0aCwgaXNTZWxsZXJPckFkbWluIH0gZnJvbSAnLi4vdXRpbHMuanMnO1xuXG5jb25zdCBwcm9kdWN0Um91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcblxucHJvZHVjdFJvdXRlci5nZXQoXG4gICcvJyxcbiAgZXhwcmVzc0FzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCBuYW1lID0gcmVxLnF1ZXJ5Lm5hbWUgfHwgJyc7XG4gICAgY29uc3QgY2F0ZWdvcnkgPSByZXEucXVlcnkuY2F0ZWdvcnkgfHwgJyc7XG4gICAgY29uc3Qgc2VsbGVyID0gcmVxLnF1ZXJ5LnNlbGxlciB8fCAnJztcbiAgICBjb25zdCBvcmRlciA9IHJlcS5xdWVyeS5vcmRlciB8fCAnJztcbiAgICBjb25zdCBtaW4gPVxuICAgICAgcmVxLnF1ZXJ5Lm1pbiAmJiBOdW1iZXIocmVxLnF1ZXJ5Lm1pbikgIT09IDAgPyBOdW1iZXIocmVxLnF1ZXJ5Lm1pbikgOiAwO1xuICAgIGNvbnN0IG1heCA9XG4gICAgICByZXEucXVlcnkubWF4ICYmIE51bWJlcihyZXEucXVlcnkubWF4KSAhPT0gMCA/IE51bWJlcihyZXEucXVlcnkubWF4KSA6IDA7XG4gICAgY29uc3QgcmF0aW5nID1cbiAgICAgIHJlcS5xdWVyeS5yYXRpbmcgJiYgTnVtYmVyKHJlcS5xdWVyeS5yYXRpbmcpICE9PSAwXG4gICAgICAgID8gTnVtYmVyKHJlcS5xdWVyeS5yYXRpbmcpXG4gICAgICAgIDogMDtcblxuICAgIGNvbnN0IG5hbWVGaWx0ZXIgPSBuYW1lID8geyBuYW1lOiB7ICRyZWdleDogbmFtZSwgJG9wdGlvbnM6ICdpJyB9IH0gOiB7fTtcbiAgICBjb25zdCBzZWxsZXJGaWx0ZXIgPSBzZWxsZXIgPyB7IHNlbGxlciB9IDoge307XG4gICAgY29uc3QgY2F0ZWdvcnlGaWx0ZXIgPSBjYXRlZ29yeSA/IHsgY2F0ZWdvcnkgfSA6IHt9O1xuICAgIGNvbnN0IHByaWNlRmlsdGVyID0gbWluICYmIG1heCA/IHsgcHJpY2U6IHsgJGd0ZTogbWluLCAkbHRlOiBtYXggfSB9IDoge307XG4gICAgY29uc3QgcmF0aW5nRmlsdGVyID0gcmF0aW5nID8geyByYXRpbmc6IHsgJGd0ZTogcmF0aW5nIH0gfSA6IHt9O1xuICAgIGNvbnN0IHNvcnRPcmRlciA9XG4gICAgICBvcmRlciA9PT0gJ2xvd2VzdCdcbiAgICAgICAgPyB7IHByaWNlOiAxIH1cbiAgICAgICAgOiBvcmRlciA9PT0gJ2hpZ2hlc3QnXG4gICAgICAgID8geyBwcmljZTogLTEgfVxuICAgICAgICA6IG9yZGVyID09PSAndG9wcmF0ZWQnXG4gICAgICAgID8geyByYXRpbmc6IC0xIH1cbiAgICAgICAgOiB7IF9pZDogLTEgfTtcblxuICAgIGNvbnN0IHByb2R1Y3RzID0gYXdhaXQgUHJvZHVjdC5maW5kKHtcbiAgICAgIC4uLnNlbGxlckZpbHRlcixcbiAgICAgIC4uLm5hbWVGaWx0ZXIsXG4gICAgICAuLi5jYXRlZ29yeUZpbHRlcixcbiAgICAgIC4uLnByaWNlRmlsdGVyLFxuICAgICAgLi4ucmF0aW5nRmlsdGVyLFxuICAgIH0pXG4gICAgICAucG9wdWxhdGUoJ3NlbGxlcicsICdzZWxsZXIubmFtZSBzZWxsZXIubG9nbycpXG4gICAgICAuc29ydChzb3J0T3JkZXIpO1xuICAgIHJlcy5zZW5kKHByb2R1Y3RzKTtcbiAgfSlcbik7XG5cbnByb2R1Y3RSb3V0ZXIuZ2V0KFxuICAnL2NhdGVnb3JpZXMnLFxuICBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IGNhdGVnb3JpZXMgPSBhd2FpdCBQcm9kdWN0LmZpbmQoKS5kaXN0aW5jdCgnY2F0ZWdvcnknKTtcbiAgICByZXMuc2VuZChjYXRlZ29yaWVzKTtcbiAgfSlcbik7XG5cbnByb2R1Y3RSb3V0ZXIuZ2V0KFxuICAnL3NlZWQnLFxuICBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIC8vIGF3YWl0IFByb2R1Y3QucmVtb3ZlKHt9KTtcbiAgICBjb25zdCBjcmVhdGVkUHJvZHVjdHMgPSBhd2FpdCBQcm9kdWN0Lmluc2VydE1hbnkoZGF0YS5wcm9kdWN0cyk7XG4gICAgcmVzLnNlbmQoeyBjcmVhdGVkUHJvZHVjdHMgfSk7XG4gIH0pXG4pO1xuXG5wcm9kdWN0Um91dGVyLmdldChcbiAgJy86aWQnLFxuICBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHByb2R1Y3QgPSBhd2FpdCBQcm9kdWN0LmZpbmRCeUlkKHJlcS5wYXJhbXMuaWQpLnBvcHVsYXRlKFxuICAgICAgJ3NlbGxlcicsXG4gICAgICAnc2VsbGVyLm5hbWUgc2VsbGVyLmxvZ28gc2VsbGVyLnJhdGluZyBzZWxsZXIubnVtUmV2aWV3cydcbiAgICApO1xuICAgIGlmIChwcm9kdWN0KSB7XG4gICAgICByZXMuc2VuZChwcm9kdWN0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoeyBtZXNzYWdlOiAnUHJvZHVjdCBOb3QgRm91bmQnIH0pO1xuICAgIH1cbiAgfSlcbik7XG5cbnByb2R1Y3RSb3V0ZXIucG9zdChcbiAgJy8nLFxuICBpc0F1dGgsXG4gIGlzU2VsbGVyT3JBZG1pbixcbiAgZXhwcmVzc0FzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCBwcm9kdWN0ID0gbmV3IFByb2R1Y3Qoe1xuICAgICAgbmFtZTogJ3NhbXBsZSBuYW1lICcgKyBEYXRlLm5vdygpLFxuICAgICAgc2VsbGVyOiByZXEudXNlci5faWQsXG4gICAgICBpbWFnZTogJy9pbWFnZXMvcDEuanBnJyxcbiAgICAgIHByaWNlOiAwLFxuICAgICAgY2F0ZWdvcnk6ICdzYW1wbGUgY2F0ZWdvcnknLFxuICAgICAgYnJhbmQ6ICdzYW1wbGUgYnJhbmQnLFxuICAgICAgY291bnRJblN0b2NrOiAwLFxuICAgICAgcmF0aW5nOiAwLFxuICAgICAgbnVtUmV2aWV3czogMCxcbiAgICAgIGRlc2NyaXB0aW9uOiAnc2FtcGxlIGRlc2NyaXB0aW9uJyxcbiAgICB9KTtcbiAgICBjb25zdCBjcmVhdGVkUHJvZHVjdCA9IGF3YWl0IHByb2R1Y3Quc2F2ZSgpO1xuICAgIHJlcy5zZW5kKHsgbWVzc2FnZTogJ1Byb2R1Y3QgQ3JlYXRlZCcsIHByb2R1Y3Q6IGNyZWF0ZWRQcm9kdWN0IH0pO1xuICB9KVxuKTtcbnByb2R1Y3RSb3V0ZXIucHV0KFxuICAnLzppZCcsXG4gIGlzQXV0aCxcbiAgaXNTZWxsZXJPckFkbWluLFxuICBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHByb2R1Y3RJZCA9IHJlcS5wYXJhbXMuaWQ7XG4gICAgY29uc3QgcHJvZHVjdCA9IGF3YWl0IFByb2R1Y3QuZmluZEJ5SWQocHJvZHVjdElkKTtcbiAgICBpZiAocHJvZHVjdCkge1xuICAgICAgcHJvZHVjdC5uYW1lID0gcmVxLmJvZHkubmFtZTtcbiAgICAgIHByb2R1Y3QucHJpY2UgPSByZXEuYm9keS5wcmljZTtcbiAgICAgIHByb2R1Y3QuaW1hZ2UgPSByZXEuYm9keS5pbWFnZTtcbiAgICAgIHByb2R1Y3QuY2F0ZWdvcnkgPSByZXEuYm9keS5jYXRlZ29yeTtcbiAgICAgIHByb2R1Y3QuYnJhbmQgPSByZXEuYm9keS5icmFuZDtcbiAgICAgIHByb2R1Y3QuY291bnRJblN0b2NrID0gcmVxLmJvZHkuY291bnRJblN0b2NrO1xuICAgICAgcHJvZHVjdC5kZXNjcmlwdGlvbiA9IHJlcS5ib2R5LmRlc2NyaXB0aW9uO1xuICAgICAgY29uc3QgdXBkYXRlZFByb2R1Y3QgPSBhd2FpdCBwcm9kdWN0LnNhdmUoKTtcbiAgICAgIHJlcy5zZW5kKHsgbWVzc2FnZTogJ1Byb2R1Y3QgVXBkYXRlZCcsIHByb2R1Y3Q6IHVwZGF0ZWRQcm9kdWN0IH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCh7IG1lc3NhZ2U6ICdQcm9kdWN0IE5vdCBGb3VuZCcgfSk7XG4gICAgfVxuICB9KVxuKTtcblxucHJvZHVjdFJvdXRlci5kZWxldGUoXG4gICcvOmlkJyxcbiAgaXNBdXRoLFxuICBpc0FkbWluLFxuICBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHByb2R1Y3QgPSBhd2FpdCBQcm9kdWN0LmZpbmRCeUlkKHJlcS5wYXJhbXMuaWQpO1xuICAgIGlmIChwcm9kdWN0KSB7XG4gICAgICBjb25zdCBkZWxldGVQcm9kdWN0ID0gYXdhaXQgcHJvZHVjdC5yZW1vdmUoKTtcbiAgICAgIHJlcy5zZW5kKHsgbWVzc2FnZTogJ1Byb2R1Y3QgRGVsZXRlZCcsIHByb2R1Y3Q6IGRlbGV0ZVByb2R1Y3QgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHsgbWVzc2FnZTogJ1Byb2R1Y3QgTm90IEZvdW5kJyB9KTtcbiAgICB9XG4gIH0pXG4pO1xuXG5leHBvcnQgZGVmYXVsdCBwcm9kdWN0Um91dGVyO1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "productRouter.js"
      ],
      "names": [
        "productRouter",
        "express",
        "Router",
        "get",
        "req",
        "res",
        "name",
        "query",
        "category",
        "seller",
        "order",
        "min",
        "Number",
        "max",
        "rating",
        "nameFilter",
        "$regex",
        "$options",
        "sellerFilter",
        "categoryFilter",
        "priceFilter",
        "price",
        "$gte",
        "$lte",
        "ratingFilter",
        "sortOrder",
        "_id",
        "products",
        "Product",
        "find",
        "populate",
        "sort",
        "send",
        "categories",
        "distinct",
        "createdProducts",
        "insertMany",
        "data",
        "product",
        "findById",
        "params",
        "id",
        "status",
        "message",
        "post",
        "isAuth",
        "isSellerOrAdmin",
        "Date",
        "now",
        "user",
        "image",
        "brand",
        "countInStock",
        "numReviews",
        "description",
        "createdProduct",
        "save",
        "put",
        "productId",
        "body",
        "updatedProduct",
        "delete",
        "isAdmin",
        "deleteProduct",
        "remove"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/older/backend/routes/",
      "sourcesContent": [
        "import express from 'express';\nimport expressAsyncHandler from 'express-async-handler';\nimport Product from '../schemas/productModel.js';\nimport { isAdmin, isAuth, isSellerOrAdmin } from '../utils.js';\n\nconst productRouter = express.Router();\n\nproductRouter.get(\n  '/',\n  expressAsyncHandler(async (req, res) => {\n    const name = req.query.name || '';\n    const category = req.query.category || '';\n    const seller = req.query.seller || '';\n    const order = req.query.order || '';\n    const min =\n      req.query.min && Number(req.query.min) !== 0 ? Number(req.query.min) : 0;\n    const max =\n      req.query.max && Number(req.query.max) !== 0 ? Number(req.query.max) : 0;\n    const rating =\n      req.query.rating && Number(req.query.rating) !== 0\n        ? Number(req.query.rating)\n        : 0;\n\n    const nameFilter = name ? { name: { $regex: name, $options: 'i' } } : {};\n    const sellerFilter = seller ? { seller } : {};\n    const categoryFilter = category ? { category } : {};\n    const priceFilter = min && max ? { price: { $gte: min, $lte: max } } : {};\n    const ratingFilter = rating ? { rating: { $gte: rating } } : {};\n    const sortOrder =\n      order === 'lowest'\n        ? { price: 1 }\n        : order === 'highest'\n        ? { price: -1 }\n        : order === 'toprated'\n        ? { rating: -1 }\n        : { _id: -1 };\n\n    const products = await Product.find({\n      ...sellerFilter,\n      ...nameFilter,\n      ...categoryFilter,\n      ...priceFilter,\n      ...ratingFilter,\n    })\n      .populate('seller', 'seller.name seller.logo')\n      .sort(sortOrder);\n    res.send(products);\n  })\n);\n\nproductRouter.get(\n  '/categories',\n  expressAsyncHandler(async (req, res) => {\n    const categories = await Product.find().distinct('category');\n    res.send(categories);\n  })\n);\n\nproductRouter.get(\n  '/seed',\n  expressAsyncHandler(async (req, res) => {\n    // await Product.remove({});\n    const createdProducts = await Product.insertMany(data.products);\n    res.send({ createdProducts });\n  })\n);\n\nproductRouter.get(\n  '/:id',\n  expressAsyncHandler(async (req, res) => {\n    const product = await Product.findById(req.params.id).populate(\n      'seller',\n      'seller.name seller.logo seller.rating seller.numReviews'\n    );\n    if (product) {\n      res.send(product);\n    } else {\n      res.status(404).send({ message: 'Product Not Found' });\n    }\n  })\n);\n\nproductRouter.post(\n  '/',\n  isAuth,\n  isSellerOrAdmin,\n  expressAsyncHandler(async (req, res) => {\n    const product = new Product({\n      name: 'sample name ' + Date.now(),\n      seller: req.user._id,\n      image: '/images/p1.jpg',\n      price: 0,\n      category: 'sample category',\n      brand: 'sample brand',\n      countInStock: 0,\n      rating: 0,\n      numReviews: 0,\n      description: 'sample description',\n    });\n    const createdProduct = await product.save();\n    res.send({ message: 'Product Created', product: createdProduct });\n  })\n);\nproductRouter.put(\n  '/:id',\n  isAuth,\n  isSellerOrAdmin,\n  expressAsyncHandler(async (req, res) => {\n    const productId = req.params.id;\n    const product = await Product.findById(productId);\n    if (product) {\n      product.name = req.body.name;\n      product.price = req.body.price;\n      product.image = req.body.image;\n      product.category = req.body.category;\n      product.brand = req.body.brand;\n      product.countInStock = req.body.countInStock;\n      product.description = req.body.description;\n      const updatedProduct = await product.save();\n      res.send({ message: 'Product Updated', product: updatedProduct });\n    } else {\n      res.status(404).send({ message: 'Product Not Found' });\n    }\n  })\n);\n\nproductRouter.delete(\n  '/:id',\n  isAuth,\n  isAdmin,\n  expressAsyncHandler(async (req, res) => {\n    const product = await Product.findById(req.params.id);\n    if (product) {\n      const deleteProduct = await product.remove();\n      res.send({ message: 'Product Deleted', product: deleteProduct });\n    } else {\n      res.status(404).send({ message: 'Product Not Found' });\n    }\n  })\n);\n\nexport default productRouter;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1607069250162
  },
  "{\"sourceRoot\":\"/Users/Me/Desktop/ReactProjects/older/backend/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/Me/Desktop/ReactProjects/older\",\"filename\":\"/Users/Me/Desktop/ReactProjects/older/backend/utils.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/Me/Desktop/ReactProjects/older\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/older/backend/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/Me/Desktop/ReactProjects/older",
      "filename": "/Users/Me/Desktop/ReactProjects/older/backend/utils.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/Me/Desktop/ReactProjects/older",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/Me/Desktop/ReactProjects/older/backend/utils.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/Me/Desktop/ReactProjects/older/backend/utils.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/Me/Desktop/ReactProjects/older/backend/",
        "sourceFileName": "utils.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isSellerOrAdmin = exports.isSeller = exports.isAdmin = exports.isAuth = exports.generateToken = void 0;\n\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst generateToken = user => {\n  return _jsonwebtoken.default.sign({\n    _id: user._id,\n    name: user.name,\n    email: user.email,\n    isAdmin: user.isAdmin,\n    isSeller: user.isSeller\n  }, process.env.JWT_SECRET || 'somethingsecret', {\n    expiresIn: '30d'\n  });\n};\n\nexports.generateToken = generateToken;\n\nconst isAuth = (req, res, next) => {\n  const authorization = req.headers.authorization;\n\n  if (authorization) {\n    const token = authorization.slice(7, authorization.length); // Bearer XXXXXX\n\n    _jsonwebtoken.default.verify(token, process.env.JWT_SECRET || 'somethingsecret', (err, decode) => {\n      if (err) {\n        res.status(401).send({\n          message: 'Invalid Token'\n        });\n      } else {\n        req.user = decode;\n        next();\n      }\n    });\n  } else {\n    res.status(401).send({\n      message: 'No Token'\n    });\n  }\n};\n\nexports.isAuth = isAuth;\n\nconst isAdmin = (req, res, next) => {\n  if (req.user && req.user.isAdmin) {\n    next();\n  } else {\n    res.status(401).send({\n      message: 'Invalid Admin Token'\n    });\n  }\n};\n\nexports.isAdmin = isAdmin;\n\nconst isSeller = (req, res, next) => {\n  if (req.user && req.user.isSeller) {\n    next();\n  } else {\n    res.status(401).send({\n      message: 'Invalid Seller Token'\n    });\n  }\n};\n\nexports.isSeller = isSeller;\n\nconst isSellerOrAdmin = (req, res, next) => {\n  if (req.user && (req.user.isSeller || req.user.isAdmin)) {\n    next();\n  } else {\n    res.status(401).send({\n      message: 'Invalid Admin/Seller Token'\n    });\n  }\n};\n\nexports.isSellerOrAdmin = isSellerOrAdmin;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInV0aWxzLmpzIl0sIm5hbWVzIjpbImdlbmVyYXRlVG9rZW4iLCJ1c2VyIiwiand0Iiwic2lnbiIsIl9pZCIsIm5hbWUiLCJlbWFpbCIsImlzQWRtaW4iLCJpc1NlbGxlciIsInByb2Nlc3MiLCJlbnYiLCJKV1RfU0VDUkVUIiwiZXhwaXJlc0luIiwiaXNBdXRoIiwicmVxIiwicmVzIiwibmV4dCIsImF1dGhvcml6YXRpb24iLCJoZWFkZXJzIiwidG9rZW4iLCJzbGljZSIsImxlbmd0aCIsInZlcmlmeSIsImVyciIsImRlY29kZSIsInN0YXR1cyIsInNlbmQiLCJtZXNzYWdlIiwiaXNTZWxsZXJPckFkbWluIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7Ozs7QUFFTyxNQUFNQSxhQUFhLEdBQUlDLElBQUQsSUFBVTtBQUNyQyxTQUFPQyxzQkFBSUMsSUFBSixDQUNMO0FBQ0VDLElBQUFBLEdBQUcsRUFBRUgsSUFBSSxDQUFDRyxHQURaO0FBRUVDLElBQUFBLElBQUksRUFBRUosSUFBSSxDQUFDSSxJQUZiO0FBR0VDLElBQUFBLEtBQUssRUFBRUwsSUFBSSxDQUFDSyxLQUhkO0FBSUVDLElBQUFBLE9BQU8sRUFBRU4sSUFBSSxDQUFDTSxPQUpoQjtBQUtFQyxJQUFBQSxRQUFRLEVBQUVQLElBQUksQ0FBQ087QUFMakIsR0FESyxFQVFMQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsVUFBWixJQUEwQixpQkFSckIsRUFTTDtBQUNFQyxJQUFBQSxTQUFTLEVBQUU7QUFEYixHQVRLLENBQVA7QUFhRCxDQWRNOzs7O0FBZ0JBLE1BQU1DLE1BQU0sR0FBRyxDQUFDQyxHQUFELEVBQU1DLEdBQU4sRUFBV0MsSUFBWCxLQUFvQjtBQUN4QyxRQUFNQyxhQUFhLEdBQUdILEdBQUcsQ0FBQ0ksT0FBSixDQUFZRCxhQUFsQzs7QUFDQSxNQUFJQSxhQUFKLEVBQW1CO0FBQ2pCLFVBQU1FLEtBQUssR0FBR0YsYUFBYSxDQUFDRyxLQUFkLENBQW9CLENBQXBCLEVBQXVCSCxhQUFhLENBQUNJLE1BQXJDLENBQWQsQ0FEaUIsQ0FDMkM7O0FBQzVEbkIsMEJBQUlvQixNQUFKLENBQ0VILEtBREYsRUFFRVYsT0FBTyxDQUFDQyxHQUFSLENBQVlDLFVBQVosSUFBMEIsaUJBRjVCLEVBR0UsQ0FBQ1ksR0FBRCxFQUFNQyxNQUFOLEtBQWlCO0FBQ2YsVUFBSUQsR0FBSixFQUFTO0FBQ1BSLFFBQUFBLEdBQUcsQ0FBQ1UsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUVDLFVBQUFBLE9BQU8sRUFBRTtBQUFYLFNBQXJCO0FBQ0QsT0FGRCxNQUVPO0FBQ0xiLFFBQUFBLEdBQUcsQ0FBQ2IsSUFBSixHQUFXdUIsTUFBWDtBQUNBUixRQUFBQSxJQUFJO0FBQ0w7QUFDRixLQVZIO0FBWUQsR0FkRCxNQWNPO0FBQ0xELElBQUFBLEdBQUcsQ0FBQ1UsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUVDLE1BQUFBLE9BQU8sRUFBRTtBQUFYLEtBQXJCO0FBQ0Q7QUFDRixDQW5CTTs7OztBQW9CQSxNQUFNcEIsT0FBTyxHQUFHLENBQUNPLEdBQUQsRUFBTUMsR0FBTixFQUFXQyxJQUFYLEtBQW9CO0FBQ3pDLE1BQUlGLEdBQUcsQ0FBQ2IsSUFBSixJQUFZYSxHQUFHLENBQUNiLElBQUosQ0FBU00sT0FBekIsRUFBa0M7QUFDaENTLElBQUFBLElBQUk7QUFDTCxHQUZELE1BRU87QUFDTEQsSUFBQUEsR0FBRyxDQUFDVSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBRUMsTUFBQUEsT0FBTyxFQUFFO0FBQVgsS0FBckI7QUFDRDtBQUNGLENBTk07Ozs7QUFPQSxNQUFNbkIsUUFBUSxHQUFHLENBQUNNLEdBQUQsRUFBTUMsR0FBTixFQUFXQyxJQUFYLEtBQW9CO0FBQzFDLE1BQUlGLEdBQUcsQ0FBQ2IsSUFBSixJQUFZYSxHQUFHLENBQUNiLElBQUosQ0FBU08sUUFBekIsRUFBbUM7QUFDakNRLElBQUFBLElBQUk7QUFDTCxHQUZELE1BRU87QUFDTEQsSUFBQUEsR0FBRyxDQUFDVSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBRUMsTUFBQUEsT0FBTyxFQUFFO0FBQVgsS0FBckI7QUFDRDtBQUNGLENBTk07Ozs7QUFPQSxNQUFNQyxlQUFlLEdBQUcsQ0FBQ2QsR0FBRCxFQUFNQyxHQUFOLEVBQVdDLElBQVgsS0FBb0I7QUFDakQsTUFBSUYsR0FBRyxDQUFDYixJQUFKLEtBQWFhLEdBQUcsQ0FBQ2IsSUFBSixDQUFTTyxRQUFULElBQXFCTSxHQUFHLENBQUNiLElBQUosQ0FBU00sT0FBM0MsQ0FBSixFQUF5RDtBQUN2RFMsSUFBQUEsSUFBSTtBQUNMLEdBRkQsTUFFTztBQUNMRCxJQUFBQSxHQUFHLENBQUNVLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFFQyxNQUFBQSxPQUFPLEVBQUU7QUFBWCxLQUFyQjtBQUNEO0FBQ0YsQ0FOTSIsInNvdXJjZVJvb3QiOiIvVXNlcnMvTWUvRGVza3RvcC9SZWFjdFByb2plY3RzL29sZGVyL2JhY2tlbmQvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGp3dCBmcm9tICdqc29ud2VidG9rZW4nO1xuXG5leHBvcnQgY29uc3QgZ2VuZXJhdGVUb2tlbiA9ICh1c2VyKSA9PiB7XG4gIHJldHVybiBqd3Quc2lnbihcbiAgICB7XG4gICAgICBfaWQ6IHVzZXIuX2lkLFxuICAgICAgbmFtZTogdXNlci5uYW1lLFxuICAgICAgZW1haWw6IHVzZXIuZW1haWwsXG4gICAgICBpc0FkbWluOiB1c2VyLmlzQWRtaW4sXG4gICAgICBpc1NlbGxlcjogdXNlci5pc1NlbGxlcixcbiAgICB9LFxuICAgIHByb2Nlc3MuZW52LkpXVF9TRUNSRVQgfHwgJ3NvbWV0aGluZ3NlY3JldCcsXG4gICAge1xuICAgICAgZXhwaXJlc0luOiAnMzBkJyxcbiAgICB9XG4gICk7XG59O1xuXG5leHBvcnQgY29uc3QgaXNBdXRoID0gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gIGNvbnN0IGF1dGhvcml6YXRpb24gPSByZXEuaGVhZGVycy5hdXRob3JpemF0aW9uO1xuICBpZiAoYXV0aG9yaXphdGlvbikge1xuICAgIGNvbnN0IHRva2VuID0gYXV0aG9yaXphdGlvbi5zbGljZSg3LCBhdXRob3JpemF0aW9uLmxlbmd0aCk7IC8vIEJlYXJlciBYWFhYWFhcbiAgICBqd3QudmVyaWZ5KFxuICAgICAgdG9rZW4sXG4gICAgICBwcm9jZXNzLmVudi5KV1RfU0VDUkVUIHx8ICdzb21ldGhpbmdzZWNyZXQnLFxuICAgICAgKGVyciwgZGVjb2RlKSA9PiB7XG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICByZXMuc3RhdHVzKDQwMSkuc2VuZCh7IG1lc3NhZ2U6ICdJbnZhbGlkIFRva2VuJyB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXEudXNlciA9IGRlY29kZTtcbiAgICAgICAgICBuZXh0KCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICApO1xuICB9IGVsc2Uge1xuICAgIHJlcy5zdGF0dXMoNDAxKS5zZW5kKHsgbWVzc2FnZTogJ05vIFRva2VuJyB9KTtcbiAgfVxufTtcbmV4cG9ydCBjb25zdCBpc0FkbWluID0gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gIGlmIChyZXEudXNlciAmJiByZXEudXNlci5pc0FkbWluKSB7XG4gICAgbmV4dCgpO1xuICB9IGVsc2Uge1xuICAgIHJlcy5zdGF0dXMoNDAxKS5zZW5kKHsgbWVzc2FnZTogJ0ludmFsaWQgQWRtaW4gVG9rZW4nIH0pO1xuICB9XG59O1xuZXhwb3J0IGNvbnN0IGlzU2VsbGVyID0gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gIGlmIChyZXEudXNlciAmJiByZXEudXNlci5pc1NlbGxlcikge1xuICAgIG5leHQoKTtcbiAgfSBlbHNlIHtcbiAgICByZXMuc3RhdHVzKDQwMSkuc2VuZCh7IG1lc3NhZ2U6ICdJbnZhbGlkIFNlbGxlciBUb2tlbicgfSk7XG4gIH1cbn07XG5leHBvcnQgY29uc3QgaXNTZWxsZXJPckFkbWluID0gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gIGlmIChyZXEudXNlciAmJiAocmVxLnVzZXIuaXNTZWxsZXIgfHwgcmVxLnVzZXIuaXNBZG1pbikpIHtcbiAgICBuZXh0KCk7XG4gIH0gZWxzZSB7XG4gICAgcmVzLnN0YXR1cyg0MDEpLnNlbmQoeyBtZXNzYWdlOiAnSW52YWxpZCBBZG1pbi9TZWxsZXIgVG9rZW4nIH0pO1xuICB9XG59O1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "utils.js"
      ],
      "names": [
        "generateToken",
        "user",
        "jwt",
        "sign",
        "_id",
        "name",
        "email",
        "isAdmin",
        "isSeller",
        "process",
        "env",
        "JWT_SECRET",
        "expiresIn",
        "isAuth",
        "req",
        "res",
        "next",
        "authorization",
        "headers",
        "token",
        "slice",
        "length",
        "verify",
        "err",
        "decode",
        "status",
        "send",
        "message",
        "isSellerOrAdmin"
      ],
      "mappings": ";;;;;;;AAAA;;;;AAEO,MAAMA,aAAa,GAAIC,IAAD,IAAU;AACrC,SAAOC,sBAAIC,IAAJ,CACL;AACEC,IAAAA,GAAG,EAAEH,IAAI,CAACG,GADZ;AAEEC,IAAAA,IAAI,EAAEJ,IAAI,CAACI,IAFb;AAGEC,IAAAA,KAAK,EAAEL,IAAI,CAACK,KAHd;AAIEC,IAAAA,OAAO,EAAEN,IAAI,CAACM,OAJhB;AAKEC,IAAAA,QAAQ,EAAEP,IAAI,CAACO;AALjB,GADK,EAQLC,OAAO,CAACC,GAAR,CAAYC,UAAZ,IAA0B,iBARrB,EASL;AACEC,IAAAA,SAAS,EAAE;AADb,GATK,CAAP;AAaD,CAdM;;;;AAgBA,MAAMC,MAAM,GAAG,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;AACxC,QAAMC,aAAa,GAAGH,GAAG,CAACI,OAAJ,CAAYD,aAAlC;;AACA,MAAIA,aAAJ,EAAmB;AACjB,UAAME,KAAK,GAAGF,aAAa,CAACG,KAAd,CAAoB,CAApB,EAAuBH,aAAa,CAACI,MAArC,CAAd,CADiB,CAC2C;;AAC5DnB,0BAAIoB,MAAJ,CACEH,KADF,EAEEV,OAAO,CAACC,GAAR,CAAYC,UAAZ,IAA0B,iBAF5B,EAGE,CAACY,GAAD,EAAMC,MAAN,KAAiB;AACf,UAAID,GAAJ,EAAS;AACPR,QAAAA,GAAG,CAACU,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,UAAAA,OAAO,EAAE;AAAX,SAArB;AACD,OAFD,MAEO;AACLb,QAAAA,GAAG,CAACb,IAAJ,GAAWuB,MAAX;AACAR,QAAAA,IAAI;AACL;AACF,KAVH;AAYD,GAdD,MAcO;AACLD,IAAAA,GAAG,CAACU,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,MAAAA,OAAO,EAAE;AAAX,KAArB;AACD;AACF,CAnBM;;;;AAoBA,MAAMpB,OAAO,GAAG,CAACO,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;AACzC,MAAIF,GAAG,CAACb,IAAJ,IAAYa,GAAG,CAACb,IAAJ,CAASM,OAAzB,EAAkC;AAChCS,IAAAA,IAAI;AACL,GAFD,MAEO;AACLD,IAAAA,GAAG,CAACU,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,MAAAA,OAAO,EAAE;AAAX,KAArB;AACD;AACF,CANM;;;;AAOA,MAAMnB,QAAQ,GAAG,CAACM,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;AAC1C,MAAIF,GAAG,CAACb,IAAJ,IAAYa,GAAG,CAACb,IAAJ,CAASO,QAAzB,EAAmC;AACjCQ,IAAAA,IAAI;AACL,GAFD,MAEO;AACLD,IAAAA,GAAG,CAACU,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,MAAAA,OAAO,EAAE;AAAX,KAArB;AACD;AACF,CANM;;;;AAOA,MAAMC,eAAe,GAAG,CAACd,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;AACjD,MAAIF,GAAG,CAACb,IAAJ,KAAaa,GAAG,CAACb,IAAJ,CAASO,QAAT,IAAqBM,GAAG,CAACb,IAAJ,CAASM,OAA3C,CAAJ,EAAyD;AACvDS,IAAAA,IAAI;AACL,GAFD,MAEO;AACLD,IAAAA,GAAG,CAACU,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,MAAAA,OAAO,EAAE;AAAX,KAArB;AACD;AACF,CANM",
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/older/backend/",
      "sourcesContent": [
        "import jwt from 'jsonwebtoken';\n\nexport const generateToken = (user) => {\n  return jwt.sign(\n    {\n      _id: user._id,\n      name: user.name,\n      email: user.email,\n      isAdmin: user.isAdmin,\n      isSeller: user.isSeller,\n    },\n    process.env.JWT_SECRET || 'somethingsecret',\n    {\n      expiresIn: '30d',\n    }\n  );\n};\n\nexport const isAuth = (req, res, next) => {\n  const authorization = req.headers.authorization;\n  if (authorization) {\n    const token = authorization.slice(7, authorization.length); // Bearer XXXXXX\n    jwt.verify(\n      token,\n      process.env.JWT_SECRET || 'somethingsecret',\n      (err, decode) => {\n        if (err) {\n          res.status(401).send({ message: 'Invalid Token' });\n        } else {\n          req.user = decode;\n          next();\n        }\n      }\n    );\n  } else {\n    res.status(401).send({ message: 'No Token' });\n  }\n};\nexport const isAdmin = (req, res, next) => {\n  if (req.user && req.user.isAdmin) {\n    next();\n  } else {\n    res.status(401).send({ message: 'Invalid Admin Token' });\n  }\n};\nexport const isSeller = (req, res, next) => {\n  if (req.user && req.user.isSeller) {\n    next();\n  } else {\n    res.status(401).send({ message: 'Invalid Seller Token' });\n  }\n};\nexport const isSellerOrAdmin = (req, res, next) => {\n  if (req.user && (req.user.isSeller || req.user.isAdmin)) {\n    next();\n  } else {\n    res.status(401).send({ message: 'Invalid Admin/Seller Token' });\n  }\n};\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1607065194363
  },
  "{\"sourceRoot\":\"/Users/Me/Desktop/ReactProjects/older/backend/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/Me/Desktop/ReactProjects/older\",\"filename\":\"/Users/Me/Desktop/ReactProjects/older/backend/routes/userRouter.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/Me/Desktop/ReactProjects/older\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/older/backend/routes/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/Me/Desktop/ReactProjects/older",
      "filename": "/Users/Me/Desktop/ReactProjects/older/backend/routes/userRouter.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/Me/Desktop/ReactProjects/older",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/Me/Desktop/ReactProjects/older/backend/routes/userRouter.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/Me/Desktop/ReactProjects/older/backend/routes/userRouter.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/Me/Desktop/ReactProjects/older/backend/routes/",
        "sourceFileName": "userRouter.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _expressAsyncHandler = _interopRequireDefault(require(\"express-async-handler\"));\n\nvar _bcryptjs = _interopRequireDefault(require(\"bcryptjs\"));\n\nvar _userModel = _interopRequireDefault(require(\"../schemas/userModel.js\"));\n\nvar _utils = require(\"../utils.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst userRouter = _express.default.Router();\n\nuserRouter.get('/top-sellers', (0, _expressAsyncHandler.default)(async (req, res) => {\n  const topSellers = await _userModel.default.find({\n    isSeller: true\n  }).sort({\n    'seller.rating': -1\n  }).limit(3);\n  res.send(topSellers);\n}));\nuserRouter.get('/seed', (0, _expressAsyncHandler.default)(async (req, res) => {\n  // await User.remove({});\n  const createdUsers = await _userModel.default.insertMany(data.users);\n  res.send({\n    createdUsers\n  });\n}));\nuserRouter.post('/signin', (0, _expressAsyncHandler.default)(async (req, res) => {\n  const user = await _userModel.default.findOne({\n    email: req.body.email\n  });\n\n  if (user) {\n    if (_bcryptjs.default.compareSync(req.body.password, user.password)) {\n      res.send({\n        _id: user._id,\n        name: user.name,\n        email: user.email,\n        isAdmin: user.isAdmin,\n        isSeller: user.isSeller,\n        token: (0, _utils.generateToken)(user)\n      });\n      return;\n    }\n  }\n\n  res.status(401).send({\n    message: 'Invalid email or password'\n  });\n}));\nuserRouter.post('/register', (0, _expressAsyncHandler.default)(async (req, res) => {\n  const user = new _userModel.default({\n    name: req.body.name,\n    email: req.body.email,\n    password: _bcryptjs.default.hashSync(req.body.password, 8)\n  });\n  const createdUser = await user.save();\n  res.send({\n    _id: createdUser._id,\n    name: createdUser.name,\n    email: createdUser.email,\n    isAdmin: createdUser.isAdmin,\n    isSeller: user.isSeller,\n    token: (0, _utils.generateToken)(createdUser)\n  });\n}));\nuserRouter.get('/:id', (0, _expressAsyncHandler.default)(async (req, res) => {\n  const user = await _userModel.default.findById(req.params.id);\n\n  if (user) {\n    res.send(user);\n  } else {\n    res.status(404).send({\n      message: 'User Not Found'\n    });\n  }\n}));\nuserRouter.put('/profile', _utils.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const user = await _userModel.default.findById(req.user._id);\n\n  if (user) {\n    user.name = req.body.name || user.name;\n    user.email = req.body.email || user.email;\n\n    if (user.isSeller) {\n      user.seller.name = req.body.sellerName || user.seller.name;\n      user.seller.logo = req.body.sellerLogo || user.seller.logo;\n      user.seller.description = req.body.sellerDescription || user.seller.description;\n    }\n\n    if (req.body.password) {\n      user.password = _bcryptjs.default.hashSync(req.body.password, 8);\n    }\n\n    const updatedUser = await user.save();\n    res.send({\n      _id: updatedUser._id,\n      name: updatedUser.name,\n      email: updatedUser.email,\n      isAdmin: updatedUser.isAdmin,\n      isSeller: user.isSeller,\n      token: (0, _utils.generateToken)(updatedUser)\n    });\n  }\n}));\nuserRouter.get('/', _utils.isAuth, _utils.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const users = await _userModel.default.find({});\n  res.send(users);\n}));\nuserRouter.delete('/:id', _utils.isAuth, _utils.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const user = await _userModel.default.findById(req.params.id);\n\n  if (user) {\n    if (user.email === 'admin@example.com') {\n      res.status(400).send({\n        message: 'Can Not Delete Admin User'\n      });\n      return;\n    }\n\n    const deleteUser = await user.remove();\n    res.send({\n      message: 'User Deleted',\n      user: deleteUser\n    });\n  } else {\n    res.status(404).send({\n      message: 'User Not Found'\n    });\n  }\n}));\nuserRouter.put('/:id', _utils.isAuth, _utils.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const user = await _userModel.default.findById(req.params.id);\n\n  if (user) {\n    user.name = req.body.name || user.name;\n    user.email = req.body.email || user.email;\n    user.isSeller = req.body.isSeller || user.isSeller;\n    user.isAdmin = req.body.isAdmin || user.isAdmin;\n    const updatedUser = await user.save();\n    res.send({\n      message: 'User Updated',\n      user: updatedUser\n    });\n  } else {\n    res.status(404).send({\n      message: 'User Not Found'\n    });\n  }\n}));\nvar _default = userRouter;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJSb3V0ZXIuanMiXSwibmFtZXMiOlsidXNlclJvdXRlciIsImV4cHJlc3MiLCJSb3V0ZXIiLCJnZXQiLCJyZXEiLCJyZXMiLCJ0b3BTZWxsZXJzIiwiVXNlciIsImZpbmQiLCJpc1NlbGxlciIsInNvcnQiLCJsaW1pdCIsInNlbmQiLCJjcmVhdGVkVXNlcnMiLCJpbnNlcnRNYW55IiwiZGF0YSIsInVzZXJzIiwicG9zdCIsInVzZXIiLCJmaW5kT25lIiwiZW1haWwiLCJib2R5IiwiYmNyeXB0IiwiY29tcGFyZVN5bmMiLCJwYXNzd29yZCIsIl9pZCIsIm5hbWUiLCJpc0FkbWluIiwidG9rZW4iLCJzdGF0dXMiLCJtZXNzYWdlIiwiaGFzaFN5bmMiLCJjcmVhdGVkVXNlciIsInNhdmUiLCJmaW5kQnlJZCIsInBhcmFtcyIsImlkIiwicHV0IiwiaXNBdXRoIiwic2VsbGVyIiwic2VsbGVyTmFtZSIsImxvZ28iLCJzZWxsZXJMb2dvIiwiZGVzY3JpcHRpb24iLCJzZWxsZXJEZXNjcmlwdGlvbiIsInVwZGF0ZWRVc2VyIiwiZGVsZXRlIiwiZGVsZXRlVXNlciIsInJlbW92ZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOzs7O0FBRUEsTUFBTUEsVUFBVSxHQUFHQyxpQkFBUUMsTUFBUixFQUFuQjs7QUFFQUYsVUFBVSxDQUFDRyxHQUFYLENBQ0UsY0FERixFQUVFLGtDQUFvQixPQUFPQyxHQUFQLEVBQVlDLEdBQVosS0FBb0I7QUFDdEMsUUFBTUMsVUFBVSxHQUFHLE1BQU1DLG1CQUFLQyxJQUFMLENBQVU7QUFBRUMsSUFBQUEsUUFBUSxFQUFFO0FBQVosR0FBVixFQUN0QkMsSUFEc0IsQ0FDakI7QUFBRSxxQkFBaUIsQ0FBQztBQUFwQixHQURpQixFQUV0QkMsS0FGc0IsQ0FFaEIsQ0FGZ0IsQ0FBekI7QUFHQU4sRUFBQUEsR0FBRyxDQUFDTyxJQUFKLENBQVNOLFVBQVQ7QUFDRCxDQUxELENBRkY7QUFVQU4s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QUFDUyxPQUFMLEdBQWV2QixHQUFHLENBQUNpQixJQUFKLENBQVNNLE9BQVQsSUFBb0JULElBQUksQ0FBQ1MsT0FBeEM7QUFDQSxVQUFNa0IsV0FBVyxHQUFHLE1BQU0zQixJQUFJLENBQUNlLElBQUwsRUFBMUI7QUFDQTVCLElBQUFBLEdBQUcsQ0FBQ08sSUFBSixDQUFTO0FBQUVrQixNQUFBQSxPQUFPLEVBQUUsY0FBWDtBQUEyQlosTUFBQUEsSUFBSSxFQUFFMkI7QUFBakMsS0FBVDtBQUNELEdBUEQsTUFPTztBQUNMeEMsSUFBQUEsR0FBRyxDQUFDd0IsTUFBSixDQUFXLEdBQVgsRUFBZ0JqQixJQUFoQixDQUFxQjtBQUFFa0IsTUFBQUEsT0FBTyxFQUFFO0FBQVgsS0FBckI7QUFDRDtBQUNGLENBWkQsQ0FKRjtlQW9CZTlCLFUiLCJzb3VyY2VSb290IjoiL1VzZXJzL01lL0Rlc2t0b3AvUmVhY3RQcm9qZWN0cy9vbGRlci9iYWNrZW5kL3JvdXRlcy8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcbmltcG9ydCBleHByZXNzQXN5bmNIYW5kbGVyIGZyb20gJ2V4cHJlc3MtYXN5bmMtaGFuZGxlcic7XG5pbXBvcnQgYmNyeXB0IGZyb20gJ2JjcnlwdGpzJztcbmltcG9ydCBVc2VyIGZyb20gJy4uL3NjaGVtYXMvdXNlck1vZGVsLmpzJztcbmltcG9ydCB7IGdlbmVyYXRlVG9rZW4sIGlzQWRtaW4sIGlzQXV0aCB9IGZyb20gJy4uL3V0aWxzLmpzJztcblxuY29uc3QgdXNlclJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5cbnVzZXJSb3V0ZXIuZ2V0KFxuICAnL3RvcC1zZWxsZXJzJyxcbiAgZXhwcmVzc0FzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCB0b3BTZWxsZXJzID0gYXdhaXQgVXNlci5maW5kKHsgaXNTZWxsZXI6IHRydWUgfSlcbiAgICAgIC5zb3J0KHsgJ3NlbGxlci5yYXRpbmcnOiAtMSB9KVxuICAgICAgLmxpbWl0KDMpO1xuICAgIHJlcy5zZW5kKHRvcFNlbGxlcnMpO1xuICB9KVxuKTtcblxudXNlclJvdXRlci5nZXQoXG4gICcvc2VlZCcsXG4gIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgLy8gYXdhaXQgVXNlci5yZW1vdmUoe30pO1xuICAgIGNvbnN0IGNyZWF0ZWRVc2VycyA9IGF3YWl0IFVzZXIuaW5zZXJ0TWFueShkYXRhLnVzZXJzKTtcbiAgICByZXMuc2VuZCh7IGNyZWF0ZWRVc2VycyB9KTtcbiAgfSlcbik7XG5cbnVzZXJSb3V0ZXIucG9zdChcbiAgJy9zaWduaW4nLFxuICBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyLmZpbmRPbmUoeyBlbWFpbDogcmVxLmJvZHkuZW1haWwgfSk7XG4gICAgaWYgKHVzZXIpIHtcbiAgICAgIGlmIChiY3J5cHQuY29tcGFyZVN5bmMocmVxLmJvZHkucGFzc3dvcmQsIHVzZXIucGFzc3dvcmQpKSB7XG4gICAgICAgIHJlcy5zZW5kKHtcbiAgICAgICAgICBfaWQ6IHVzZXIuX2lkLFxuICAgICAgICAgIG5hbWU6IHVzZXIubmFtZSxcbiAgICAgICAgICBlbWFpbDogdXNlci5lbWFpbCxcbiAgICAgICAgICBpc0FkbWluOiB1c2VyLmlzQWRtaW4sXG4gICAgICAgICAgaXNTZWxsZXI6IHVzZXIuaXNTZWxsZXIsXG4gICAgICAgICAgdG9rZW46IGdlbmVyYXRlVG9rZW4odXNlciksXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICAgIHJlcy5zdGF0dXMoNDAxKS5zZW5kKHsgbWVzc2FnZTogJ0ludmFsaWQgZW1haWwgb3IgcGFzc3dvcmQnIH0pO1xuICB9KVxuKTtcblxudXNlclJvdXRlci5wb3N0KFxuICAnL3JlZ2lzdGVyJyxcbiAgZXhwcmVzc0FzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCB1c2VyID0gbmV3IFVzZXIoe1xuICAgICAgbmFtZTogcmVxLmJvZHkubmFtZSxcbiAgICAgIGVtYWlsOiByZXEuYm9keS5lbWFpbCxcbiAgICAgIHBhc3N3b3JkOiBiY3J5cHQuaGFzaFN5bmMocmVxLmJvZHkucGFzc3dvcmQsIDgpLFxuICAgIH0pO1xuICAgIGNvbnN0IGNyZWF0ZWRVc2VyID0gYXdhaXQgdXNlci5zYXZlKCk7XG4gICAgcmVzLnNlbmQoe1xuICAgICAgX2lkOiBjcmVhdGVkVXNlci5faWQsXG4gICAgICBuYW1lOiBjcmVhdGVkVXNlci5uYW1lLFxuICAgICAgZW1haWw6IGNyZWF0ZWRVc2VyLmVtYWlsLFxuICAgICAgaXNBZG1pbjogY3JlYXRlZFVzZXIuaXNBZG1pbixcbiAgICAgIGlzU2VsbGVyOiB1c2VyLmlzU2VsbGVyLFxuICAgICAgdG9rZW46IGdlbmVyYXRlVG9rZW4oY3JlYXRlZFVzZXIpLFxuICAgIH0pO1xuICB9KVxuKTtcblxudXNlclJvdXRlci5nZXQoXG4gICcvOmlkJyxcbiAgZXhwcmVzc0FzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5maW5kQnlJZChyZXEucGFyYW1zLmlkKTtcbiAgICBpZiAodXNlcikge1xuICAgICAgcmVzLnNlbmQodXNlcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHsgbWVzc2FnZTogJ1VzZXIgTm90IEZvdW5kJyB9KTtcbiAgICB9XG4gIH0pXG4pO1xudXNlclJvdXRlci5wdXQoXG4gICcvcHJvZmlsZScsXG4gIGlzQXV0aCxcbiAgZXhwcmVzc0FzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5maW5kQnlJZChyZXEudXNlci5faWQpO1xuICAgIGlmICh1c2VyKSB7XG4gICAgICB1c2VyLm5hbWUgPSByZXEuYm9keS5uYW1lIHx8IHVzZXIubmFtZTtcbiAgICAgIHVzZXIuZW1haWwgPSByZXEuYm9keS5lbWFpbCB8fCB1c2VyLmVtYWlsO1xuICAgICAgaWYgKHVzZXIuaXNTZWxsZXIpIHtcbiAgICAgICAgdXNlci5zZWxsZXIubmFtZSA9IHJlcS5ib2R5LnNlbGxlck5hbWUgfHwgdXNlci5zZWxsZXIubmFtZTtcbiAgICAgICAgdXNlci5zZWxsZXIubG9nbyA9IHJlcS5ib2R5LnNlbGxlckxvZ28gfHwgdXNlci5zZWxsZXIubG9nbztcbiAgICAgICAgdXNlci5zZWxsZXIuZGVzY3JpcHRpb24gPVxuICAgICAgICAgIHJlcS5ib2R5LnNlbGxlckRlc2NyaXB0aW9uIHx8IHVzZXIuc2VsbGVyLmRlc2NyaXB0aW9uO1xuICAgICAgfVxuICAgICAgaWYgKHJlcS5ib2R5LnBhc3N3b3JkKSB7XG4gICAgICAgIHVzZXIucGFzc3dvcmQgPSBiY3J5cHQuaGFzaFN5bmMocmVxLmJvZHkucGFzc3dvcmQsIDgpO1xuICAgICAgfVxuICAgICAgY29uc3QgdXBkYXRlZFVzZXIgPSBhd2FpdCB1c2VyLnNhdmUoKTtcbiAgICAgIHJlcy5zZW5kKHtcbiAgICAgICAgX2lkOiB1cGRhdGVkVXNlci5faWQsXG4gICAgICAgIG5hbWU6IHVwZGF0ZWRVc2VyLm5hbWUsXG4gICAgICAgIGVtYWlsOiB1cGRhdGVkVXNlci5lbWFpbCxcbiAgICAgICAgaXNBZG1pbjogdXBkYXRlZFVzZXIuaXNBZG1pbixcbiAgICAgICAgaXNTZWxsZXI6IHVzZXIuaXNTZWxsZXIsXG4gICAgICAgIHRva2VuOiBnZW5lcmF0ZVRva2VuKHVwZGF0ZWRVc2VyKSxcbiAgICAgIH0pO1xuICAgIH1cbiAgfSlcbik7XG5cbnVzZXJSb3V0ZXIuZ2V0KFxuICAnLycsXG4gIGlzQXV0aCxcbiAgaXNBZG1pbixcbiAgZXhwcmVzc0FzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCB1c2VycyA9IGF3YWl0IFVzZXIuZmluZCh7fSk7XG4gICAgcmVzLnNlbmQodXNlcnMpO1xuICB9KVxuKTtcblxudXNlclJvdXRlci5kZWxldGUoXG4gICcvOmlkJyxcbiAgaXNBdXRoLFxuICBpc0FkbWluLFxuICBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyLmZpbmRCeUlkKHJlcS5wYXJhbXMuaWQpO1xuICAgIGlmICh1c2VyKSB7XG4gICAgICBpZiAodXNlci5lbWFpbCA9PT0gJ2FkbWluQGV4YW1wbGUuY29tJykge1xuICAgICAgICByZXMuc3RhdHVzKDQwMCkuc2VuZCh7IG1lc3NhZ2U6ICdDYW4gTm90IERlbGV0ZSBBZG1pbiBVc2VyJyB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgZGVsZXRlVXNlciA9IGF3YWl0IHVzZXIucmVtb3ZlKCk7XG4gICAgICByZXMuc2VuZCh7IG1lc3NhZ2U6ICdVc2VyIERlbGV0ZWQnLCB1c2VyOiBkZWxldGVVc2VyIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCh7IG1lc3NhZ2U6ICdVc2VyIE5vdCBGb3VuZCcgfSk7XG4gICAgfVxuICB9KVxuKTtcblxudXNlclJvdXRlci5wdXQoXG4gICcvOmlkJyxcbiAgaXNBdXRoLFxuICBpc0FkbWluLFxuICBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyLmZpbmRCeUlkKHJlcS5wYXJhbXMuaWQpO1xuICAgIGlmICh1c2VyKSB7XG4gICAgICB1c2VyLm5hbWUgPSByZXEuYm9keS5uYW1lIHx8IHVzZXIubmFtZTtcbiAgICAgIHVzZXIuZW1haWwgPSByZXEuYm9keS5lbWFpbCB8fCB1c2VyLmVtYWlsO1xuICAgICAgdXNlci5pc1NlbGxlciA9IHJlcS5ib2R5LmlzU2VsbGVyIHx8IHVzZXIuaXNTZWxsZXI7XG4gICAgICB1c2VyLmlzQWRtaW4gPSByZXEuYm9keS5pc0FkbWluIHx8IHVzZXIuaXNBZG1pbjtcbiAgICAgIGNvbnN0IHVwZGF0ZWRVc2VyID0gYXdhaXQgdXNlci5zYXZlKCk7XG4gICAgICByZXMuc2VuZCh7IG1lc3NhZ2U6ICdVc2VyIFVwZGF0ZWQnLCB1c2VyOiB1cGRhdGVkVXNlciB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoeyBtZXNzYWdlOiAnVXNlciBOb3QgRm91bmQnIH0pO1xuICAgIH1cbiAgfSlcbik7XG5cblxuZXhwb3J0IGRlZmF1bHQgdXNlclJvdXRlcjtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "userRouter.js"
      ],
      "names": [
        "userRouter",
        "express",
        "Router",
        "get",
        "req",
        "res",
        "topSellers",
        "User",
        "find",
        "isSeller",
        "sort",
        "limit",
        "send",
        "createdUsers",
        "insertMany",
        "data",
        "users",
        "post",
        "user",
        "findOne",
        "email",
        "body",
        "bcrypt",
        "compareSync",
        "password",
        "_id",
        "name",
        "isAdmin",
        "token",
        "status",
        "message",
        "hashSync",
        "createdUser",
        "save",
        "findById",
        "params",
        "id",
        "put",
        "isAuth",
        "seller",
        "sellerName",
        "logo",
        "sellerLogo",
        "description",
        "sellerDescription",
        "updatedUser",
        "delete",
        "deleteUser",
        "remove"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/older/backend/routes/",
      "sourcesContent": [
        "import express from 'express';\nimport expressAsyncHandler from 'express-async-handler';\nimport bcrypt from 'bcryptjs';\nimport User from '../schemas/userModel.js';\nimport { generateToken, isAdmin, isAuth } from '../utils.js';\n\nconst userRouter = express.Router();\n\nuserRouter.get(\n  '/top-sellers',\n  expressAsyncHandler(async (req, res) => {\n    const topSellers = await User.find({ isSeller: true })\n      .sort({ 'seller.rating': -1 })\n      .limit(3);\n    res.send(topSellers);\n  })\n);\n\nuserRouter.get(\n  '/seed',\n  expressAsyncHandler(async (req, res) => {\n    // await User.remove({});\n    const createdUsers = await User.insertMany(data.users);\n    res.send({ createdUsers });\n  })\n);\n\nuserRouter.post(\n  '/signin',\n  expressAsyncHandler(async (req, res) => {\n    const user = await User.findOne({ email: req.body.email });\n    if (user) {\n      if (bcrypt.compareSync(req.body.password, user.password)) {\n        res.send({\n          _id: user._id,\n          name: user.name,\n          email: user.email,\n          isAdmin: user.isAdmin,\n          isSeller: user.isSeller,\n          token: generateToken(user),\n        });\n        return;\n      }\n    }\n    res.status(401).send({ message: 'Invalid email or password' });\n  })\n);\n\nuserRouter.post(\n  '/register',\n  expressAsyncHandler(async (req, res) => {\n    const user = new User({\n      name: req.body.name,\n      email: req.body.email,\n      password: bcrypt.hashSync(req.body.password, 8),\n    });\n    const createdUser = await user.save();\n    res.send({\n      _id: createdUser._id,\n      name: createdUser.name,\n      email: createdUser.email,\n      isAdmin: createdUser.isAdmin,\n      isSeller: user.isSeller,\n      token: generateToken(createdUser),\n    });\n  })\n);\n\nuserRouter.get(\n  '/:id',\n  expressAsyncHandler(async (req, res) => {\n    const user = await User.findById(req.params.id);\n    if (user) {\n      res.send(user);\n    } else {\n      res.status(404).send({ message: 'User Not Found' });\n    }\n  })\n);\nuserRouter.put(\n  '/profile',\n  isAuth,\n  expressAsyncHandler(async (req, res) => {\n    const user = await User.findById(req.user._id);\n    if (user) {\n      user.name = req.body.name || user.name;\n      user.email = req.body.email || user.email;\n      if (user.isSeller) {\n        user.seller.name = req.body.sellerName || user.seller.name;\n        user.seller.logo = req.body.sellerLogo || user.seller.logo;\n        user.seller.description =\n          req.body.sellerDescription || user.seller.description;\n      }\n      if (req.body.password) {\n        user.password = bcrypt.hashSync(req.body.password, 8);\n      }\n      const updatedUser = await user.save();\n      res.send({\n        _id: updatedUser._id,\n        name: updatedUser.name,\n        email: updatedUser.email,\n        isAdmin: updatedUser.isAdmin,\n        isSeller: user.isSeller,\n        token: generateToken(updatedUser),\n      });\n    }\n  })\n);\n\nuserRouter.get(\n  '/',\n  isAuth,\n  isAdmin,\n  expressAsyncHandler(async (req, res) => {\n    const users = await User.find({});\n    res.send(users);\n  })\n);\n\nuserRouter.delete(\n  '/:id',\n  isAuth,\n  isAdmin,\n  expressAsyncHandler(async (req, res) => {\n    const user = await User.findById(req.params.id);\n    if (user) {\n      if (user.email === 'admin@example.com') {\n        res.status(400).send({ message: 'Can Not Delete Admin User' });\n        return;\n      }\n      const deleteUser = await user.remove();\n      res.send({ message: 'User Deleted', user: deleteUser });\n    } else {\n      res.status(404).send({ message: 'User Not Found' });\n    }\n  })\n);\n\nuserRouter.put(\n  '/:id',\n  isAuth,\n  isAdmin,\n  expressAsyncHandler(async (req, res) => {\n    const user = await User.findById(req.params.id);\n    if (user) {\n      user.name = req.body.name || user.name;\n      user.email = req.body.email || user.email;\n      user.isSeller = req.body.isSeller || user.isSeller;\n      user.isAdmin = req.body.isAdmin || user.isAdmin;\n      const updatedUser = await user.save();\n      res.send({ message: 'User Updated', user: updatedUser });\n    } else {\n      res.status(404).send({ message: 'User Not Found' });\n    }\n  })\n);\n\n\nexport default userRouter;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1607069262783
  },
  "{\"sourceRoot\":\"/Users/Me/Desktop/ReactProjects/older/backend/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/Me/Desktop/ReactProjects/older\",\"filename\":\"/Users/Me/Desktop/ReactProjects/older/backend/routes/orderRouter.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/Me/Desktop/ReactProjects/older\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/older/backend/routes/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/Me/Desktop/ReactProjects/older",
      "filename": "/Users/Me/Desktop/ReactProjects/older/backend/routes/orderRouter.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/Me/Desktop/ReactProjects/older",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/Me/Desktop/ReactProjects/older/backend/routes/orderRouter.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/Me/Desktop/ReactProjects/older/backend/routes/orderRouter.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/Me/Desktop/ReactProjects/older/backend/routes/",
        "sourceFileName": "orderRouter.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _expressAsyncHandler = _interopRequireDefault(require(\"express-async-handler\"));\n\nvar _orderModel = _interopRequireDefault(require(\"../schemas/orderModel.js\"));\n\nvar _utils = require(\"../utils.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst orderRouter = _express.default.Router();\n\norderRouter.get('/', _utils.isAuth, _utils.isSellerOrAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const seller = req.query.seller || '';\n  const sellerFilter = seller ? {\n    seller\n  } : {};\n  const orders = await _orderModel.default.find({ ...sellerFilter\n  }).populate('user', 'name');\n  res.send(orders);\n}));\norderRouter.get('/mine', _utils.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const orders = await _orderModel.default.find({\n    user: req.user._id\n  });\n  res.send(orders);\n}));\norderRouter.post('/', _utils.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  if (req.body.orderItems.length === 0) {\n    res.status(400).send({\n      message: 'Cart is empty'\n    });\n  } else {\n    const order = new _orderModel.default({\n      seller: req.body.orderItems[0].seller,\n      orderItems: req.body.orderItems,\n      shippingAddress: req.body.shippingAddress,\n      paymentMethod: req.body.paymentMethod,\n      itemsPrice: req.body.itemsPrice,\n      shippingPrice: req.body.shippingPrice,\n      taxPrice: req.body.taxPrice,\n      totalPrice: req.body.totalPrice,\n      user: req.user._id\n    });\n    const createdOrder = await order.save();\n    res.status(201).send({\n      message: 'New Order Created',\n      order: createdOrder\n    });\n  }\n}));\norderRouter.get('/:id', _utils.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const order = await _orderModel.default.findById(req.params.id);\n\n  if (order) {\n    res.send(order);\n  } else {\n    res.status(404).send({\n      message: 'Order Not Found'\n    });\n  }\n}));\norderRouter.put('/:id/pay', _utils.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const order = await _orderModel.default.findById(req.params.id);\n\n  if (order) {\n    order.isPaid = true;\n    order.paidAt = Date.now();\n    order.paymentResult = {\n      id: req.body.id,\n      status: req.body.status,\n      update_time: req.body.update_time,\n      email_address: req.body.email_address\n    };\n    const updatedOrder = await order.save();\n    res.send({\n      message: 'Order Paid',\n      order: updatedOrder\n    });\n  } else {\n    res.status(404).send({\n      message: 'Order Not Found'\n    });\n  }\n}));\norderRouter.delete('/:id', _utils.isAuth, _utils.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const order = await _orderModel.default.findById(req.params.id);\n\n  if (order) {\n    const deleteOrder = await order.remove();\n    res.send({\n      message: 'Order Deleted',\n      order: deleteOrder\n    });\n  } else {\n    res.status(404).send({\n      message: 'Order Not Found'\n    });\n  }\n}));\norderRouter.put('/:id/deliver', _utils.isAuth, _utils.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const order = await _orderModel.default.findById(req.params.id);\n\n  if (order) {\n    order.isDelivered = true;\n    order.deliveredAt = Date.now();\n    const updatedOrder = await order.save();\n    res.send({\n      message: 'Order Delivered',\n      order: updatedOrder\n    });\n  } else {\n    res.status(404).send({\n      message: 'Order Not Found'\n    });\n  }\n}));\nvar _default = orderRouter;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9yZGVyUm91dGVyLmpzIl0sIm5hbWVzIjpbIm9yZGVyUm91dGVyIiwiZXhwcmVzcyIsIlJvdXRlciIsImdldCIsImlzQXV0aCIsImlzU2VsbGVyT3JBZG1pbiIsInJlcSIsInJlcyIsInNlbGxlciIsInF1ZXJ5Iiwic2VsbGVyRmlsdGVyIiwib3JkZXJzIiwiT3JkZXIiLCJmaW5kIiwicG9wdWxhdGUiLCJzZW5kIiwidXNlciIsIl9pZCIsInBvc3QiLCJib2R5Iiwib3JkZXJJdGVtcyIsImxlbmd0aCIsInN0YXR1cyIsIm1lc3NhZ2UiLCJvcmRlciIsInNoaXBwaW5nQWRkcmVzcyIsInBheW1lbnRNZXRob2QiLCJpdGVtc1ByaWNlIiwic2hpcHBpbmdQcmljZSIsInRheFByaWNlIiwidG90YWxQcmljZSIsImNyZWF0ZWRPcmRlciIsInNhdmUiLCJmaW5kQnlJZCIsInBhcmFtcyIsImlkIiwicHV0IiwiaXNQYWlkIiwicGFpZEF0IiwiRGF0ZSIsIm5vdyIsInBheW1lbnRSZXN1bHQiLCJ1cGRhdGVfdGltZSIsImVtYWlsX2FkZHJlc3MiLCJ1cGRhdGVkT3JkZXIiLCJkZWxldGUiLCJpc0FkbWluIiwiZGVsZXRlT3JkZXIiLCJyZW1vdmUiLCJpc0RlbGl2ZXJlZCIsImRlbGl2ZXJlZEF0Il0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7QUFFQSxNQUFNQSxXQUFXLEdBQUdDLGlCQUFRQyxNQUFSLEVBQXBCOztBQUNBRixXQUFXLENBQUNHLEdBQVosQ0FDRSxHQURGLEVBRUVDLGFBRkYsRUFHRUMsc0JBSEYsRUFJRSxrQ0FBb0IsT0FBT0MsR0FBUCxFQUFZQyxHQUFaLEtBQW9CO0FBQ3RDLFFBQU1DLE1BQU0sR0FBR0YsR0FBRyxDQUFDRyxLQUFKLENBQVVELE1BQVYsSUFBb0IsRUFBbkM7QUFDQSxRQUFNRSxZQUFZLEdBQUdGLE1BQU0sR0FBRztBQUFFQSxJQUFBQTtBQUFGLEdBQUgsR0FBZ0IsRUFBM0M7QUFFQSxRQUFN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RixDQVhELENBSkY7ZUFrQmV2QixXIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9NZS9EZXNrdG9wL1JlYWN0UHJvamVjdHMvb2xkZXIvYmFja2VuZC9yb3V0ZXMvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgZXhwcmVzc0FzeW5jSGFuZGxlciBmcm9tICdleHByZXNzLWFzeW5jLWhhbmRsZXInO1xuaW1wb3J0IE9yZGVyIGZyb20gJy4uL3NjaGVtYXMvb3JkZXJNb2RlbC5qcyc7XG5pbXBvcnQgeyBpc0FkbWluLCBpc0F1dGgsIGlzU2VsbGVyT3JBZG1pbiB9IGZyb20gJy4uL3V0aWxzLmpzJztcblxuY29uc3Qgb3JkZXJSb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xub3JkZXJSb3V0ZXIuZ2V0KFxuICAnLycsXG4gIGlzQXV0aCxcbiAgaXNTZWxsZXJPckFkbWluLFxuICBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHNlbGxlciA9IHJlcS5xdWVyeS5zZWxsZXIgfHwgJyc7XG4gICAgY29uc3Qgc2VsbGVyRmlsdGVyID0gc2VsbGVyID8geyBzZWxsZXIgfSA6IHt9O1xuXG4gICAgY29uc3Qgb3JkZXJzID0gYXdhaXQgT3JkZXIuZmluZCh7IC4uLnNlbGxlckZpbHRlciB9KS5wb3B1bGF0ZShcbiAgICAgICd1c2VyJyxcbiAgICAgICduYW1lJ1xuICAgICk7XG4gICAgcmVzLnNlbmQob3JkZXJzKTtcbiAgfSlcbik7XG5vcmRlclJvdXRlci5nZXQoXG4gICcvbWluZScsXG4gIGlzQXV0aCxcbiAgZXhwcmVzc0FzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCBvcmRlcnMgPSBhd2FpdCBPcmRlci5maW5kKHsgdXNlcjogcmVxLnVzZXIuX2lkIH0pO1xuICAgIHJlcy5zZW5kKG9yZGVycyk7XG4gIH0pXG4pO1xuXG5vcmRlclJvdXRlci5wb3N0KFxuICAnLycsXG4gIGlzQXV0aCxcbiAgZXhwcmVzc0FzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBpZiAocmVxLmJvZHkub3JkZXJJdGVtcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJlcy5zdGF0dXMoNDAwKS5zZW5kKHsgbWVzc2FnZTogJ0NhcnQgaXMgZW1wdHknIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBvcmRlciA9IG5ldyBPcmRlcih7XG4gICAgICAgIHNlbGxlcjogcmVxLmJvZHkub3JkZXJJdGVtc1swXS5zZWxsZXIsXG4gICAgICAgIG9yZGVySXRlbXM6IHJlcS5ib2R5Lm9yZGVySXRlbXMsXG4gICAgICAgIHNoaXBwaW5nQWRkcmVzczogcmVxLmJvZHkuc2hpcHBpbmdBZGRyZXNzLFxuICAgICAgICBwYXltZW50TWV0aG9kOiByZXEuYm9keS5wYXltZW50TWV0aG9kLFxuICAgICAgICBpdGVtc1ByaWNlOiByZXEuYm9keS5pdGVtc1ByaWNlLFxuICAgICAgICBzaGlwcGluZ1ByaWNlOiByZXEuYm9keS5zaGlwcGluZ1ByaWNlLFxuICAgICAgICB0YXhQcmljZTogcmVxLmJvZHkudGF4UHJpY2UsXG4gICAgICAgIHRvdGFsUHJpY2U6IHJlcS5ib2R5LnRvdGFsUHJpY2UsXG4gICAgICAgIHVzZXI6IHJlcS51c2VyLl9pZCxcbiAgICAgIH0pO1xuICAgICAgY29uc3QgY3JlYXRlZE9yZGVyID0gYXdhaXQgb3JkZXIuc2F2ZSgpO1xuICAgICAgcmVzXG4gICAgICAgIC5zdGF0dXMoMjAxKVxuICAgICAgICAuc2VuZCh7IG1lc3NhZ2U6ICdOZXcgT3JkZXIgQ3JlYXRlZCcsIG9yZGVyOiBjcmVhdGVkT3JkZXIgfSk7XG4gICAgfVxuICB9KVxuKTtcblxub3JkZXJSb3V0ZXIuZ2V0KFxuICAnLzppZCcsXG4gIGlzQXV0aCxcbiAgZXhwcmVzc0FzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCBvcmRlciA9IGF3YWl0IE9yZGVyLmZpbmRCeUlkKHJlcS5wYXJhbXMuaWQpO1xuICAgIGlmIChvcmRlcikge1xuICAgICAgcmVzLnNlbmQob3JkZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCh7IG1lc3NhZ2U6ICdPcmRlciBOb3QgRm91bmQnIH0pO1xuICAgIH1cbiAgfSlcbik7XG5cbm9yZGVyUm91dGVyLnB1dChcbiAgJy86aWQvcGF5JyxcbiAgaXNBdXRoLFxuICBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IG9yZGVyID0gYXdhaXQgT3JkZXIuZmluZEJ5SWQocmVxLnBhcmFtcy5pZCk7XG4gICAgaWYgKG9yZGVyKSB7XG4gICAgICBvcmRlci5pc1BhaWQgPSB0cnVlO1xuICAgICAgb3JkZXIucGFpZEF0ID0gRGF0ZS5ub3coKTtcbiAgICAgIG9yZGVyLnBheW1lbnRSZXN1bHQgPSB7XG4gICAgICAgIGlkOiByZXEuYm9keS5pZCxcbiAgICAgICAgc3RhdHVzOiByZXEuYm9keS5zdGF0dXMsXG4gICAgICAgIHVwZGF0ZV90aW1lOiByZXEuYm9keS51cGRhdGVfdGltZSxcbiAgICAgICAgZW1haWxfYWRkcmVzczogcmVxLmJvZHkuZW1haWxfYWRkcmVzcyxcbiAgICAgIH07XG4gICAgICBjb25zdCB1cGRhdGVkT3JkZXIgPSBhd2FpdCBvcmRlci5zYXZlKCk7XG4gICAgICByZXMuc2VuZCh7IG1lc3NhZ2U6ICdPcmRlciBQYWlkJywgb3JkZXI6IHVwZGF0ZWRPcmRlciB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoeyBtZXNzYWdlOiAnT3JkZXIgTm90IEZvdW5kJyB9KTtcbiAgICB9XG4gIH0pXG4pO1xuXG5vcmRlclJvdXRlci5kZWxldGUoXG4gICcvOmlkJyxcbiAgaXNBdXRoLFxuICBpc0FkbWluLFxuICBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IG9yZGVyID0gYXdhaXQgT3JkZXIuZmluZEJ5SWQocmVxLnBhcmFtcy5pZCk7XG4gICAgaWYgKG9yZGVyKSB7XG4gICAgICBjb25zdCBkZWxldGVPcmRlciA9IGF3YWl0IG9yZGVyLnJlbW92ZSgpO1xuICAgICAgcmVzLnNlbmQoeyBtZXNzYWdlOiAnT3JkZXIgRGVsZXRlZCcsIG9yZGVyOiBkZWxldGVPcmRlciB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoeyBtZXNzYWdlOiAnT3JkZXIgTm90IEZvdW5kJyB9KTtcbiAgICB9XG4gIH0pXG4pO1xuXG5vcmRlclJvdXRlci5wdXQoXG4gICcvOmlkL2RlbGl2ZXInLFxuICBpc0F1dGgsXG4gIGlzQWRtaW4sXG4gIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc3Qgb3JkZXIgPSBhd2FpdCBPcmRlci5maW5kQnlJZChyZXEucGFyYW1zLmlkKTtcbiAgICBpZiAob3JkZXIpIHtcbiAgICAgIG9yZGVyLmlzRGVsaXZlcmVkID0gdHJ1ZTtcbiAgICAgIG9yZGVyLmRlbGl2ZXJlZEF0ID0gRGF0ZS5ub3coKTtcblxuICAgICAgY29uc3QgdXBkYXRlZE9yZGVyID0gYXdhaXQgb3JkZXIuc2F2ZSgpO1xuICAgICAgcmVzLnNlbmQoeyBtZXNzYWdlOiAnT3JkZXIgRGVsaXZlcmVkJywgb3JkZXI6IHVwZGF0ZWRPcmRlciB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoeyBtZXNzYWdlOiAnT3JkZXIgTm90IEZvdW5kJyB9KTtcbiAgICB9XG4gIH0pXG4pO1xuXG5leHBvcnQgZGVmYXVsdCBvcmRlclJvdXRlcjtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "orderRouter.js"
      ],
      "names": [
        "orderRouter",
        "express",
        "Router",
        "get",
        "isAuth",
        "isSellerOrAdmin",
        "req",
        "res",
        "seller",
        "query",
        "sellerFilter",
        "orders",
        "Order",
        "find",
        "populate",
        "send",
        "user",
        "_id",
        "post",
        "body",
        "orderItems",
        "length",
        "status",
        "message",
        "order",
        "shippingAddress",
        "paymentMethod",
        "itemsPrice",
        "shippingPrice",
        "taxPrice",
        "totalPrice",
        "createdOrder",
        "save",
        "findById",
        "params",
        "id",
        "put",
        "isPaid",
        "paidAt",
        "Date",
        "now",
        "paymentResult",
        "update_time",
        "email_address",
        "updatedOrder",
        "delete",
        "isAdmin",
        "deleteOrder",
        "remove",
        "isDelivered",
        "deliveredAt"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/older/backend/routes/",
      "sourcesContent": [
        "import express from 'express';\nimport expressAsyncHandler from 'express-async-handler';\nimport Order from '../schemas/orderModel.js';\nimport { isAdmin, isAuth, isSellerOrAdmin } from '../utils.js';\n\nconst orderRouter = express.Router();\norderRouter.get(\n  '/',\n  isAuth,\n  isSellerOrAdmin,\n  expressAsyncHandler(async (req, res) => {\n    const seller = req.query.seller || '';\n    const sellerFilter = seller ? { seller } : {};\n\n    const orders = await Order.find({ ...sellerFilter }).populate(\n      'user',\n      'name'\n    );\n    res.send(orders);\n  })\n);\norderRouter.get(\n  '/mine',\n  isAuth,\n  expressAsyncHandler(async (req, res) => {\n    const orders = await Order.find({ user: req.user._id });\n    res.send(orders);\n  })\n);\n\norderRouter.post(\n  '/',\n  isAuth,\n  expressAsyncHandler(async (req, res) => {\n    if (req.body.orderItems.length === 0) {\n      res.status(400).send({ message: 'Cart is empty' });\n    } else {\n      const order = new Order({\n        seller: req.body.orderItems[0].seller,\n        orderItems: req.body.orderItems,\n        shippingAddress: req.body.shippingAddress,\n        paymentMethod: req.body.paymentMethod,\n        itemsPrice: req.body.itemsPrice,\n        shippingPrice: req.body.shippingPrice,\n        taxPrice: req.body.taxPrice,\n        totalPrice: req.body.totalPrice,\n        user: req.user._id,\n      });\n      const createdOrder = await order.save();\n      res\n        .status(201)\n        .send({ message: 'New Order Created', order: createdOrder });\n    }\n  })\n);\n\norderRouter.get(\n  '/:id',\n  isAuth,\n  expressAsyncHandler(async (req, res) => {\n    const order = await Order.findById(req.params.id);\n    if (order) {\n      res.send(order);\n    } else {\n      res.status(404).send({ message: 'Order Not Found' });\n    }\n  })\n);\n\norderRouter.put(\n  '/:id/pay',\n  isAuth,\n  expressAsyncHandler(async (req, res) => {\n    const order = await Order.findById(req.params.id);\n    if (order) {\n      order.isPaid = true;\n      order.paidAt = Date.now();\n      order.paymentResult = {\n        id: req.body.id,\n        status: req.body.status,\n        update_time: req.body.update_time,\n        email_address: req.body.email_address,\n      };\n      const updatedOrder = await order.save();\n      res.send({ message: 'Order Paid', order: updatedOrder });\n    } else {\n      res.status(404).send({ message: 'Order Not Found' });\n    }\n  })\n);\n\norderRouter.delete(\n  '/:id',\n  isAuth,\n  isAdmin,\n  expressAsyncHandler(async (req, res) => {\n    const order = await Order.findById(req.params.id);\n    if (order) {\n      const deleteOrder = await order.remove();\n      res.send({ message: 'Order Deleted', order: deleteOrder });\n    } else {\n      res.status(404).send({ message: 'Order Not Found' });\n    }\n  })\n);\n\norderRouter.put(\n  '/:id/deliver',\n  isAuth,\n  isAdmin,\n  expressAsyncHandler(async (req, res) => {\n    const order = await Order.findById(req.params.id);\n    if (order) {\n      order.isDelivered = true;\n      order.deliveredAt = Date.now();\n\n      const updatedOrder = await order.save();\n      res.send({ message: 'Order Delivered', order: updatedOrder });\n    } else {\n      res.status(404).send({ message: 'Order Not Found' });\n    }\n  })\n);\n\nexport default orderRouter;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1607069234582
  },
  "{\"sourceRoot\":\"/Users/Me/Desktop/ReactProjects/older/backend/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/Me/Desktop/ReactProjects/older\",\"filename\":\"/Users/Me/Desktop/ReactProjects/older/backend/routes/uploadRouter.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/Me/Desktop/ReactProjects/older\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/older/backend/routes/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/Me/Desktop/ReactProjects/older",
      "filename": "/Users/Me/Desktop/ReactProjects/older/backend/routes/uploadRouter.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/Me/Desktop/ReactProjects/older",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/Me/Desktop/ReactProjects/older/backend/routes/uploadRouter.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/Me/Desktop/ReactProjects/older/backend/routes/uploadRouter.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/Me/Desktop/ReactProjects/older/backend/routes/",
        "sourceFileName": "uploadRouter.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _multer = _interopRequireDefault(require(\"multer\"));\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _utils = require(\"../utils.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst uploadRouter = _express.default.Router();\n\nconst storage = _multer.default.diskStorage({\n  destination(req, file, cb) {\n    cb(null, 'uploads/');\n  },\n\n  filename(req, file, cb) {\n    cb(null, `${Date.now()}.jpg`);\n  }\n\n});\n\nconst upload = (0, _multer.default)({\n  storage\n});\nuploadRouter.post('/', _utils.isAuth, upload.single('image'), (req, res) => {\n  res.send(`/${req.file.path}`);\n});\nvar _default = uploadRouter;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVwbG9hZFJvdXRlci5qcyJdLCJuYW1lcyI6WyJ1cGxvYWRSb3V0ZXIiLCJleHByZXNzIiwiUm91dGVyIiwic3RvcmFnZSIsIm11bHRlciIsImRpc2tTdG9yYWdlIiwiZGVzdGluYXRpb24iLCJyZXEiLCJmaWxlIiwiY2IiLCJmaWxlbmFtZSIsIkRhdGUiLCJub3ciLCJ1cGxvYWQiLCJwb3N0IiwiaXNBdXRoIiwic2luZ2xlIiwicmVzIiwic2VuZCIsInBhdGgiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7OztBQUVBLE1BQU1BLFlBQVksR0FBR0MsaUJBQVFDLE1BQVIsRUFBckI7O0FBRUEsTUFBTUMsT0FBTyxHQUFHQyxnQkFBT0MsV0FBUCxDQUFtQjtBQUNqQ0MsRUFBQUEsV0FBVyxDQUFDQyxHQUFELEVBQU1DLElBQU4sRUFBWUMsRUFBWixFQUFnQjtBQUN6QkEsSUFBQUEsRUFBRSxDQUFDLElBQUQsRUFBTyxVQUFQLENBQUY7QUFDRCxHQUhnQzs7QUFJakNDLEVBQUFBLFFBQVEsQ0FBQ0gsR0FBRCxFQUFNQyxJQUFOLEVBQVlDLEVBQVosRUFBZ0I7QUFDdEJBLElBQUFBLEVBQUUsQ0FBQyxJQUFELEVBQVEsR0FBRUUsSUFBSSxDQUFDQyxHQUFMLEVBQVcsTUFBckIsQ0FBRjtBQUNEOztBQU5nQyxDQUFuQixDQUFoQjs7QUFTQSxNQUFNQyxNQUFNLEdBQUcscUJBQU87QUFBRVYsRUFBQUE7QUFBRixDQUFQLENBQWY7QUFFQUgsWUFBWSxDQUFDYyxJQUFiLENBQWtCLEdBQWxCLEVBQXVCQyxhQUF2QixFQUErQkYsTUFBTSxDQUFDRyxNQUFQLENBQWMsT0FBZCxDQUEvQixFQUF1RCxDQUFDVCxHQUFELEVBQU1VLEdBQU4sS0FBYztBQUNuRUEsRUFBQUEsR0FBRyxDQUFDQyxJQUFKLENBQVUsSUFBR1gsR0FBRyxDQUFDQyxJQUFKLENBQVNXLElBQUssRUFBM0I7QUFDRCxDQUZEO2VBSWVuQixZIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9NZS9EZXNrdG9wL1JlYWN0UHJvamVjdHMvb2xkZXIvYmFja2VuZC9yb3V0ZXMvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG11bHRlciBmcm9tICdtdWx0ZXInO1xuaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgeyBpc0F1dGggfSBmcm9tICcuLi91dGlscy5qcyc7XG5cbmNvbnN0IHVwbG9hZFJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5cbmNvbnN0IHN0b3JhZ2UgPSBtdWx0ZXIuZGlza1N0b3JhZ2Uoe1xuICBkZXN0aW5hdGlvbihyZXEsIGZpbGUsIGNiKSB7XG4gICAgY2IobnVsbCwgJ3VwbG9hZHMvJyk7XG4gIH0sXG4gIGZpbGVuYW1lKHJlcSwgZmlsZSwgY2IpIHtcbiAgICBjYihudWxsLCBgJHtEYXRlLm5vdygpfS5qcGdgKTtcbiAgfSxcbn0pO1xuXG5jb25zdCB1cGxvYWQgPSBtdWx0ZXIoeyBzdG9yYWdlIH0pO1xuXG51cGxvYWRSb3V0ZXIucG9zdCgnLycsIGlzQXV0aCwgdXBsb2FkLnNpbmdsZSgnaW1hZ2UnKSwgKHJlcSwgcmVzKSA9PiB7XG4gIHJlcy5zZW5kKGAvJHtyZXEuZmlsZS5wYXRofWApO1xufSk7XG5cbmV4cG9ydCBkZWZhdWx0IHVwbG9hZFJvdXRlcjtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "uploadRouter.js"
      ],
      "names": [
        "uploadRouter",
        "express",
        "Router",
        "storage",
        "multer",
        "diskStorage",
        "destination",
        "req",
        "file",
        "cb",
        "filename",
        "Date",
        "now",
        "upload",
        "post",
        "isAuth",
        "single",
        "res",
        "send",
        "path"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;;;AAEA,MAAMA,YAAY,GAAGC,iBAAQC,MAAR,EAArB;;AAEA,MAAMC,OAAO,GAAGC,gBAAOC,WAAP,CAAmB;AACjCC,EAAAA,WAAW,CAACC,GAAD,EAAMC,IAAN,EAAYC,EAAZ,EAAgB;AACzBA,IAAAA,EAAE,CAAC,IAAD,EAAO,UAAP,CAAF;AACD,GAHgC;;AAIjCC,EAAAA,QAAQ,CAACH,GAAD,EAAMC,IAAN,EAAYC,EAAZ,EAAgB;AACtBA,IAAAA,EAAE,CAAC,IAAD,EAAQ,GAAEE,IAAI,CAACC,GAAL,EAAW,MAArB,CAAF;AACD;;AANgC,CAAnB,CAAhB;;AASA,MAAMC,MAAM,GAAG,qBAAO;AAAEV,EAAAA;AAAF,CAAP,CAAf;AAEAH,YAAY,CAACc,IAAb,CAAkB,GAAlB,EAAuBC,aAAvB,EAA+BF,MAAM,CAACG,MAAP,CAAc,OAAd,CAA/B,EAAuD,CAACT,GAAD,EAAMU,GAAN,KAAc;AACnEA,EAAAA,GAAG,CAACC,IAAJ,CAAU,IAAGX,GAAG,CAACC,IAAJ,CAASW,IAAK,EAA3B;AACD,CAFD;eAIenB,Y",
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/older/backend/routes/",
      "sourcesContent": [
        "import multer from 'multer';\nimport express from 'express';\nimport { isAuth } from '../utils.js';\n\nconst uploadRouter = express.Router();\n\nconst storage = multer.diskStorage({\n  destination(req, file, cb) {\n    cb(null, 'uploads/');\n  },\n  filename(req, file, cb) {\n    cb(null, `${Date.now()}.jpg`);\n  },\n});\n\nconst upload = multer({ storage });\n\nuploadRouter.post('/', isAuth, upload.single('image'), (req, res) => {\n  res.send(`/${req.file.path}`);\n});\n\nexport default uploadRouter;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1607069271690
  },
  "{\"sourceRoot\":\"/Users/Me/Desktop/ReactProjects/older/backend/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/Me/Desktop/ReactProjects/older\",\"filename\":\"/Users/Me/Desktop/ReactProjects/older/backend/routes/productRouter.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/Me/Desktop/ReactProjects/older\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/older/backend/routes/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/Me/Desktop/ReactProjects/older",
      "filename": "/Users/Me/Desktop/ReactProjects/older/backend/routes/productRouter.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/Me/Desktop/ReactProjects/older",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/Me/Desktop/ReactProjects/older/backend/routes/productRouter.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/Me/Desktop/ReactProjects/older/backend/routes/productRouter.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/Me/Desktop/ReactProjects/older/backend/routes/",
        "sourceFileName": "productRouter.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _expressAsyncHandler = _interopRequireDefault(require(\"express-async-handler\"));\n\nvar _productModel = _interopRequireDefault(require(\"../schemas/productModel.js\"));\n\nvar _utils = require(\"../utils.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst productRouter = _express.default.Router();\n\nproductRouter.get('/', (0, _expressAsyncHandler.default)(async (req, res) => {\n  const name = req.query.name || '';\n  const category = req.query.category || '';\n  const seller = req.query.seller || '';\n  const order = req.query.order || '';\n  const min = req.query.min && Number(req.query.min) !== 0 ? Number(req.query.min) : 0;\n  const max = req.query.max && Number(req.query.max) !== 0 ? Number(req.query.max) : 0;\n  const rating = req.query.rating && Number(req.query.rating) !== 0 ? Number(req.query.rating) : 0;\n  const nameFilter = name ? {\n    name: {\n      $regex: name,\n      $options: 'i'\n    }\n  } : {};\n  const sellerFilter = seller ? {\n    seller\n  } : {};\n  const categoryFilter = category ? {\n    category\n  } : {};\n  const priceFilter = min && max ? {\n    price: {\n      $gte: min,\n      $lte: max\n    }\n  } : {};\n  const ratingFilter = rating ? {\n    rating: {\n      $gte: rating\n    }\n  } : {};\n  const sortOrder = order === 'lowest' ? {\n    price: 1\n  } : order === 'highest' ? {\n    price: -1\n  } : order === 'toprated' ? {\n    rating: -1\n  } : {\n    _id: -1\n  };\n  const products = await _productModel.default.find({ ...sellerFilter,\n    ...nameFilter,\n    ...categoryFilter,\n    ...priceFilter,\n    ...ratingFilter\n  }).populate('seller', 'seller.name seller.logo').sort(sortOrder);\n  res.send(products);\n}));\nproductRouter.get('/categories', (0, _expressAsyncHandler.default)(async (req, res) => {\n  const categories = await _productModel.default.find().distinct('category');\n  res.send(categories);\n}));\nproductRouter.get('/seed', (0, _expressAsyncHandler.default)(async (req, res) => {\n  // await Product.remove({});\n  const createdProducts = await _productModel.default.insertMany(data.products);\n  res.send({\n    createdProducts\n  });\n}));\nproductRouter.get('/:id', (0, _expressAsyncHandler.default)(async (req, res) => {\n  const product = await _productModel.default.findById(req.params.id).populate('seller', 'seller.name seller.logo seller.rating seller.numReviews');\n\n  if (product) {\n    res.send(product);\n  } else {\n    res.status(404).send({\n      message: 'Product Not Found'\n    });\n  }\n}));\nproductRouter.post('/', _utils.isAuth, _utils.isSellerOrAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const product = new _productModel.default({\n    name: 'sample name ' + Date.now(),\n    seller: req.user._id,\n    image: '/images/p1.jpg',\n    price: 0,\n    category: 'sample category',\n    brand: 'sample brand',\n    countInStock: 0,\n    rating: 0,\n    numReviews: 0,\n    description: 'sample description'\n  });\n  const createdProduct = await product.save();\n  res.send({\n    message: 'Product Created',\n    product: createdProduct\n  });\n}));\nproductRouter.put('/:id', _utils.isAuth, _utils.isSellerOrAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const productId = req.params.id;\n  const product = await _productModel.default.findById(productId);\n\n  if (product) {\n    product.name = req.body.name;\n    product.price = req.body.price;\n    product.image = req.body.image;\n    product.category = req.body.category;\n    product.brand = req.body.brand;\n    product.countInStock = req.body.countInStock;\n    product.description = req.body.description;\n    const updatedProduct = await product.save();\n    res.send({\n      message: 'Product Updated',\n      product: updatedProduct\n    });\n  } else {\n    res.status(404).send({\n      message: 'Product Not Found'\n    });\n  }\n}));\nproductRouter.delete('/:id', _utils.isAuth, _utils.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const product = await _productModel.default.findById(req.params.id);\n\n  if (product) {\n    const deleteProduct = await product.remove();\n    res.send({\n      message: 'Product Deleted',\n      product: deleteProduct\n    });\n  } else {\n    res.status(404).send({\n      message: 'Product Not Found'\n    });\n  }\n}));\nvar _default = productRouter;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2R1Y3RSb3V0ZXIuanMiXSwibmFtZXMiOlsicHJvZHVjdFJvdXRlciIsImV4cHJlc3MiLCJSb3V0ZXIiLCJnZXQiLCJyZXEiLCJyZXMiLCJuYW1lIiwicXVlcnkiLCJjYXRlZ29yeSIsInNlbGxlciIsIm9yZGVyIiwibWluIiwiTnVtYmVyIiwibWF4IiwicmF0aW5nIiwibmFtZUZpbHRlciIsIiRyZWdleCIsIiRvcHRpb25zIiwic2VsbGVyRmlsdGVyIiwiY2F0ZWdvcnlGaWx0ZXIiLCJwcmljZUZpbHRlciIsInByaWNlIiwiJGd0ZSIsIiRsdGUiLCJyYXRpbmdGaWx0ZXIiLCJzb3J0T3JkZXIiLCJfaWQiLCJwcm9kdWN0cyIsIlByb2R1Y3QiLCJmaW5kIiwicG9wdWxhdGUiLCJzb3J0Iiwic2VuZCIsImNhdGVnb3JpZXMiLCJkaXN0aW5jdCIsImNyZWF0ZWRQcm9kdWN0cyIsImluc2VydE1hbnkiLCJkYXRhIiwicHJvZHVjdCIsImZpbmRCeUlkIiwicGFyYW1zIiwiaWQiLCJzdGF0dXMiLCJtZXNzYWdlIiwicG9zdCIsImlzQXV0aCIsImlzU2VsbGVyT3JBZG1pbiIsIkRhdGUiLCJub3ciLCJ1c2VyIiwiaW1hZ2UiLCJicmFuZCIsImNvdW50SW5TdG9jayIsIm51bVJldmlld3MiLCJkZXNjcmlwdGlvbiIsImNyZWF0ZWRQcm9kdWN0Iiwic2F2ZSIsInB1dCIsInByb2R1Y3RJZCIsImJvZHkiLCJ1cGRhdGVkUHJvZHVjdCIsImRlbGV0ZSIsImlzQWRtaW4iLCJkZWxldGVQcm9kdWN0IiwicmVtb3ZlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7QUFFQSxNQUFNQSxhQUFhLEdBQUdDLGlCQUFRQyxNQUFSLEVBQXRCOztBQUVBRixhQUFhLENBQUNHLEdBQWQsQ0FDRSxHQURGLEVBRUUsa0NBQW9CLE9BQU9DLEdBQVAsRUFBWUMsR0FBWixLQUFvQjtBQUN0QyxRQUFNQyxJQUFJLEdBQUdGLEdBQUcsQ0FBQ0csS0FB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O0FBQThCTCxNQUFBQSxPQUFPLEVBQUV5QjtBQUF2QyxLQUFUO0FBQ0QsR0FIRCxNQUdPO0FBQ0wxRCxJQUFBQSxHQUFHLENBQUNxQyxNQUFKLENBQVcsR0FBWCxFQUFnQlYsSUFBaEIsQ0FBcUI7QUFBRVcsTUFBQUEsT0FBTyxFQUFFO0FBQVgsS0FBckI7QUFDRDtBQUNGLENBUkQsQ0FKRjtlQWVlM0MsYSIsInNvdXJjZVJvb3QiOiIvVXNlcnMvTWUvRGVza3RvcC9SZWFjdFByb2plY3RzL29sZGVyL2JhY2tlbmQvcm91dGVzLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IGV4cHJlc3NBc3luY0hhbmRsZXIgZnJvbSAnZXhwcmVzcy1hc3luYy1oYW5kbGVyJztcbmltcG9ydCBQcm9kdWN0IGZyb20gJy4uL3NjaGVtYXMvcHJvZHVjdE1vZGVsLmpzJztcbmltcG9ydCB7IGlzQWRtaW4sIGlzQXV0aCwgaXNTZWxsZXJPckFkbWluIH0gZnJvbSAnLi4vdXRpbHMuanMnO1xuXG5jb25zdCBwcm9kdWN0Um91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcblxucHJvZHVjdFJvdXRlci5nZXQoXG4gICcvJyxcbiAgZXhwcmVzc0FzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCBuYW1lID0gcmVxLnF1ZXJ5Lm5hbWUgfHwgJyc7XG4gICAgY29uc3QgY2F0ZWdvcnkgPSByZXEucXVlcnkuY2F0ZWdvcnkgfHwgJyc7XG4gICAgY29uc3Qgc2VsbGVyID0gcmVxLnF1ZXJ5LnNlbGxlciB8fCAnJztcbiAgICBjb25zdCBvcmRlciA9IHJlcS5xdWVyeS5vcmRlciB8fCAnJztcbiAgICBjb25zdCBtaW4gPVxuICAgICAgcmVxLnF1ZXJ5Lm1pbiAmJiBOdW1iZXIocmVxLnF1ZXJ5Lm1pbikgIT09IDAgPyBOdW1iZXIocmVxLnF1ZXJ5Lm1pbikgOiAwO1xuICAgIGNvbnN0IG1heCA9XG4gICAgICByZXEucXVlcnkubWF4ICYmIE51bWJlcihyZXEucXVlcnkubWF4KSAhPT0gMCA/IE51bWJlcihyZXEucXVlcnkubWF4KSA6IDA7XG4gICAgY29uc3QgcmF0aW5nID1cbiAgICAgIHJlcS5xdWVyeS5yYXRpbmcgJiYgTnVtYmVyKHJlcS5xdWVyeS5yYXRpbmcpICE9PSAwXG4gICAgICAgID8gTnVtYmVyKHJlcS5xdWVyeS5yYXRpbmcpXG4gICAgICAgIDogMDtcblxuICAgIGNvbnN0IG5hbWVGaWx0ZXIgPSBuYW1lID8geyBuYW1lOiB7ICRyZWdleDogbmFtZSwgJG9wdGlvbnM6ICdpJyB9IH0gOiB7fTtcbiAgICBjb25zdCBzZWxsZXJGaWx0ZXIgPSBzZWxsZXIgPyB7IHNlbGxlciB9IDoge307XG4gICAgY29uc3QgY2F0ZWdvcnlGaWx0ZXIgPSBjYXRlZ29yeSA/IHsgY2F0ZWdvcnkgfSA6IHt9O1xuICAgIGNvbnN0IHByaWNlRmlsdGVyID0gbWluICYmIG1heCA/IHsgcHJpY2U6IHsgJGd0ZTogbWluLCAkbHRlOiBtYXggfSB9IDoge307XG4gICAgY29uc3QgcmF0aW5nRmlsdGVyID0gcmF0aW5nID8geyByYXRpbmc6IHsgJGd0ZTogcmF0aW5nIH0gfSA6IHt9O1xuICAgIGNvbnN0IHNvcnRPcmRlciA9XG4gICAgICBvcmRlciA9PT0gJ2xvd2VzdCdcbiAgICAgICAgPyB7IHByaWNlOiAxIH1cbiAgICAgICAgOiBvcmRlciA9PT0gJ2hpZ2hlc3QnXG4gICAgICAgID8geyBwcmljZTogLTEgfVxuICAgICAgICA6IG9yZGVyID09PSAndG9wcmF0ZWQnXG4gICAgICAgID8geyByYXRpbmc6IC0xIH1cbiAgICAgICAgOiB7IF9pZDogLTEgfTtcblxuICAgIGNvbnN0IHByb2R1Y3RzID0gYXdhaXQgUHJvZHVjdC5maW5kKHtcbiAgICAgIC4uLnNlbGxlckZpbHRlcixcbiAgICAgIC4uLm5hbWVGaWx0ZXIsXG4gICAgICAuLi5jYXRlZ29yeUZpbHRlcixcbiAgICAgIC4uLnByaWNlRmlsdGVyLFxuICAgICAgLi4ucmF0aW5nRmlsdGVyLFxuICAgIH0pXG4gICAgICAucG9wdWxhdGUoJ3NlbGxlcicsICdzZWxsZXIubmFtZSBzZWxsZXIubG9nbycpXG4gICAgICAuc29ydChzb3J0T3JkZXIpO1xuICAgIHJlcy5zZW5kKHByb2R1Y3RzKTtcbiAgfSlcbik7XG5cbnByb2R1Y3RSb3V0ZXIuZ2V0KFxuICAnL2NhdGVnb3JpZXMnLFxuICBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IGNhdGVnb3JpZXMgPSBhd2FpdCBQcm9kdWN0LmZpbmQoKS5kaXN0aW5jdCgnY2F0ZWdvcnknKTtcbiAgICByZXMuc2VuZChjYXRlZ29yaWVzKTtcbiAgfSlcbik7XG5cbnByb2R1Y3RSb3V0ZXIuZ2V0KFxuICAnL3NlZWQnLFxuICBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIC8vIGF3YWl0IFByb2R1Y3QucmVtb3ZlKHt9KTtcbiAgICBjb25zdCBjcmVhdGVkUHJvZHVjdHMgPSBhd2FpdCBQcm9kdWN0Lmluc2VydE1hbnkoZGF0YS5wcm9kdWN0cyk7XG4gICAgcmVzLnNlbmQoeyBjcmVhdGVkUHJvZHVjdHMgfSk7XG4gIH0pXG4pO1xuXG5wcm9kdWN0Um91dGVyLmdldChcbiAgJy86aWQnLFxuICBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHByb2R1Y3QgPSBhd2FpdCBQcm9kdWN0LmZpbmRCeUlkKHJlcS5wYXJhbXMuaWQpLnBvcHVsYXRlKFxuICAgICAgJ3NlbGxlcicsXG4gICAgICAnc2VsbGVyLm5hbWUgc2VsbGVyLmxvZ28gc2VsbGVyLnJhdGluZyBzZWxsZXIubnVtUmV2aWV3cydcbiAgICApO1xuICAgIGlmIChwcm9kdWN0KSB7XG4gICAgICByZXMuc2VuZChwcm9kdWN0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoeyBtZXNzYWdlOiAnUHJvZHVjdCBOb3QgRm91bmQnIH0pO1xuICAgIH1cbiAgfSlcbik7XG5cbnByb2R1Y3RSb3V0ZXIucG9zdChcbiAgJy8nLFxuICBpc0F1dGgsXG4gIGlzU2VsbGVyT3JBZG1pbixcbiAgZXhwcmVzc0FzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCBwcm9kdWN0ID0gbmV3IFByb2R1Y3Qoe1xuICAgICAgbmFtZTogJ3NhbXBsZSBuYW1lICcgKyBEYXRlLm5vdygpLFxuICAgICAgc2VsbGVyOiByZXEudXNlci5faWQsXG4gICAgICBpbWFnZTogJy9pbWFnZXMvcDEuanBnJyxcbiAgICAgIHByaWNlOiAwLFxuICAgICAgY2F0ZWdvcnk6ICdzYW1wbGUgY2F0ZWdvcnknLFxuICAgICAgYnJhbmQ6ICdzYW1wbGUgYnJhbmQnLFxuICAgICAgY291bnRJblN0b2NrOiAwLFxuICAgICAgcmF0aW5nOiAwLFxuICAgICAgbnVtUmV2aWV3czogMCxcbiAgICAgIGRlc2NyaXB0aW9uOiAnc2FtcGxlIGRlc2NyaXB0aW9uJyxcbiAgICB9KTtcbiAgICBjb25zdCBjcmVhdGVkUHJvZHVjdCA9IGF3YWl0IHByb2R1Y3Quc2F2ZSgpO1xuICAgIHJlcy5zZW5kKHsgbWVzc2FnZTogJ1Byb2R1Y3QgQ3JlYXRlZCcsIHByb2R1Y3Q6IGNyZWF0ZWRQcm9kdWN0IH0pO1xuICB9KVxuKTtcbnByb2R1Y3RSb3V0ZXIucHV0KFxuICAnLzppZCcsXG4gIGlzQXV0aCxcbiAgaXNTZWxsZXJPckFkbWluLFxuICBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHByb2R1Y3RJZCA9IHJlcS5wYXJhbXMuaWQ7XG4gICAgY29uc3QgcHJvZHVjdCA9IGF3YWl0IFByb2R1Y3QuZmluZEJ5SWQocHJvZHVjdElkKTtcbiAgICBpZiAocHJvZHVjdCkge1xuICAgICAgcHJvZHVjdC5uYW1lID0gcmVxLmJvZHkubmFtZTtcbiAgICAgIHByb2R1Y3QucHJpY2UgPSByZXEuYm9keS5wcmljZTtcbiAgICAgIHByb2R1Y3QuaW1hZ2UgPSByZXEuYm9keS5pbWFnZTtcbiAgICAgIHByb2R1Y3QuY2F0ZWdvcnkgPSByZXEuYm9keS5jYXRlZ29yeTtcbiAgICAgIHByb2R1Y3QuYnJhbmQgPSByZXEuYm9keS5icmFuZDtcbiAgICAgIHByb2R1Y3QuY291bnRJblN0b2NrID0gcmVxLmJvZHkuY291bnRJblN0b2NrO1xuICAgICAgcHJvZHVjdC5kZXNjcmlwdGlvbiA9IHJlcS5ib2R5LmRlc2NyaXB0aW9uO1xuICAgICAgY29uc3QgdXBkYXRlZFByb2R1Y3QgPSBhd2FpdCBwcm9kdWN0LnNhdmUoKTtcbiAgICAgIHJlcy5zZW5kKHsgbWVzc2FnZTogJ1Byb2R1Y3QgVXBkYXRlZCcsIHByb2R1Y3Q6IHVwZGF0ZWRQcm9kdWN0IH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCh7IG1lc3NhZ2U6ICdQcm9kdWN0IE5vdCBGb3VuZCcgfSk7XG4gICAgfVxuICB9KVxuKTtcblxucHJvZHVjdFJvdXRlci5kZWxldGUoXG4gICcvOmlkJyxcbiAgaXNBdXRoLFxuICBpc0FkbWluLFxuICBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHByb2R1Y3QgPSBhd2FpdCBQcm9kdWN0LmZpbmRCeUlkKHJlcS5wYXJhbXMuaWQpO1xuICAgIGlmIChwcm9kdWN0KSB7XG4gICAgICBjb25zdCBkZWxldGVQcm9kdWN0ID0gYXdhaXQgcHJvZHVjdC5yZW1vdmUoKTtcbiAgICAgIHJlcy5zZW5kKHsgbWVzc2FnZTogJ1Byb2R1Y3QgRGVsZXRlZCcsIHByb2R1Y3Q6IGRlbGV0ZVByb2R1Y3QgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHsgbWVzc2FnZTogJ1Byb2R1Y3QgTm90IEZvdW5kJyB9KTtcbiAgICB9XG4gIH0pXG4pO1xuXG5leHBvcnQgZGVmYXVsdCBwcm9kdWN0Um91dGVyO1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "productRouter.js"
      ],
      "names": [
        "productRouter",
        "express",
        "Router",
        "get",
        "req",
        "res",
        "name",
        "query",
        "category",
        "seller",
        "order",
        "min",
        "Number",
        "max",
        "rating",
        "nameFilter",
        "$regex",
        "$options",
        "sellerFilter",
        "categoryFilter",
        "priceFilter",
        "price",
        "$gte",
        "$lte",
        "ratingFilter",
        "sortOrder",
        "_id",
        "products",
        "Product",
        "find",
        "populate",
        "sort",
        "send",
        "categories",
        "distinct",
        "createdProducts",
        "insertMany",
        "data",
        "product",
        "findById",
        "params",
        "id",
        "status",
        "message",
        "post",
        "isAuth",
        "isSellerOrAdmin",
        "Date",
        "now",
        "user",
        "image",
        "brand",
        "countInStock",
        "numReviews",
        "description",
        "createdProduct",
        "save",
        "put",
        "productId",
        "body",
        "updatedProduct",
        "delete",
        "isAdmin",
        "deleteProduct",
        "remove"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;AACA;;;;AAEA,MAAMA,aAAa,GAAGC,iBAAQC,MAAR,EAAtB;;AAEAF,aAAa,CAACG,GAAd,CACE,GADF,EAEE,kCAAoB,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AACtC,QAAMC,IAAI,GAAGF,GAAG,CAACG,KAAJ,CAAUD,IAAV,IAAkB,EAA/B;AACA,QAAME,QAAQ,GAAGJ,GAAG,CAACG,KAAJ,CAAUC,QAAV,IAAsB,EAAvC;AACA,QAAMC,MAAM,GAAGL,GAAG,CAACG,KAAJ,CAAUE,MAAV,IAAoB,EAAnC;AACA,QAAMC,KAAK,GAAGN,GAAG,CAACG,KAAJ,CAAUG,KAAV,IAAmB,EAAjC;AACA,QAAMC,GAAG,GACPP,GAAG,CAACG,KAAJ,CAAUI,GAAV,IAAiBC,MAAM,CAACR,GAAG,CAACG,KAAJ,CAAUI,GAAX,CAAN,KAA0B,CAA3C,GAA+CC,MAAM,CAACR,GAAG,CAACG,KAAJ,CAAUI,GAAX,CAArD,GAAuE,CADzE;AAEA,QAAME,GAAG,GACPT,GAAG,CAACG,KAAJ,CAAUM,GAAV,IAAiBD,MAAM,CAACR,GAAG,CAACG,KAAJ,CAAUM,GAAX,CAAN,KAA0B,CAA3C,GAA+CD,MAAM,CAACR,GAAG,CAACG,KAAJ,CAAUM,GAAX,CAArD,GAAuE,CADzE;AAEA,QAAMC,MAAM,GACVV,GAAG,CAACG,KAAJ,CAAUO,MAAV,IAAoBF,MAAM,CAACR,GAAG,CAACG,KAAJ,CAAUO,MAAX,CAAN,KAA6B,CAAjD,GACIF,MAAM,CAACR,GAAG,CAACG,KAAJ,CAAUO,MAAX,CADV,GAEI,CAHN;AAKA,QAAMC,UAAU,GAAGT,IAAI,GAAG;AAAEA,IAAAA,IAAI,EAAE;AAAEU,MAAAA,MAAM,EAAEV,IAAV;AAAgBW,MAAAA,QAAQ,EAAE;AAA1B;AAAR,GAAH,GAA+C,EAAtE;AACA,QAAMC,YAAY,GAAGT,MAAM,GAAG;AAAEA,IAAAA;AAAF,GAAH,GAAgB,EAA3C;AACA,QAAMU,cAAc,GAAGX,QAAQ,GAAG;AAAEA,IAAAA;AAAF,GAAH,GAAkB,EAAjD;AACA,QAAMY,WAAW,GAAGT,GAAG,IAAIE,GAAP,GAAa;AAAEQ,IAAAA,KAAK,EAAE;AAAEC,MAAAA,IAAI,EAAEX,GAAR;AAAaY,MAAAA,IAAI,EAAEV;AAAnB;AAAT,GAAb,GAAmD,EAAvE;AACA,QAAMW,YAAY,GAAGV,MAAM,GAAG;AAAEA,IAAAA,MAAM,EAAE;AAAEQ,MAAAA,IAAI,EAAER;AAAR;AAAV,GAAH,GAAkC,EAA7D;AACA,QAAMW,SAAS,GACbf,KAAK,KAAK,QAAV,GACI;AAAEW,IAAAA,KAAK,EAAE;AAAT,GADJ,GAEIX,KAAK,KAAK,SAAV,GACA;AAAEW,IAAAA,KAAK,EAAE,CAAC;AAAV,GADA,GAEAX,KAAK,KAAK,UAAV,GACA;AAAEI,IAAAA,MAAM,EAAE,CAAC;AAAX,GADA,GAEA;AAAEY,IAAAA,GAAG,EAAE,CAAC;AAAR,GAPN;AASA,QAAMC,QAAQ,GAAG,MAAMC,sBAAQC,IAAR,CAAa,EAClC,GAAGX,YAD+B;AAElC,OAAGH,UAF+B;AAGlC,OAAGI,cAH+B;AAIlC,OAAGC,WAJ+B;AAKlC,OAAGI;AAL+B,GAAb,EAOpBM,QAPoB,CAOX,QAPW,EAOD,yBAPC,EAQpBC,IARoB,CAQfN,SARe,CAAvB;AASApB,EAAAA,GAAG,CAAC2B,IAAJ,CAASL,QAAT;AACD,CAtCD,CAFF;AA2CA3B,aAAa,CAACG,GAAd,CACE,aADF,EAEE,kCAAoB,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AACtC,QAAM4B,UAAU,GAAG,MAAML,sBAAQC,IAAR,GAAeK,QAAf,CAAwB,UAAxB,CAAzB;AACA7B,EAAAA,GAAG,CAAC2B,IAAJ,CAASC,UAAT;AACD,CAHD,CAFF;AAQAjC,aAAa,CAACG,GAAd,CACE,OADF,EAEE,kCAAoB,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AACtC;AACA,QAAM8B,eAAe,GAAG,MAAMP,sBAAQQ,UAAR,CAAmBC,IAAI,CAACV,QAAxB,CAA9B;AACAtB,EAAAA,GAAG,CAAC2B,IAAJ,CAAS;AAAEG,IAAAA;AAAF,GAAT;AACD,CAJD,CAFF;AASAnC,aAAa,CAACG,GAAd,CACE,MADF,EAEE,kCAAoB,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AACtC,QAAMiC,OAAO,GAAG,MAAMV,sBAAQW,QAAR,CAAiBnC,GAAG,CAACoC,MAAJ,CAAWC,EAA5B,EAAgCX,QAAhC,CACpB,QADoB,EAEpB,yDAFoB,CAAtB;;AAIA,MAAIQ,OAAJ,EAAa;AACXjC,IAAAA,GAAG,CAAC2B,IAAJ,CAASM,OAAT;AACD,GAFD,MAEO;AACLjC,IAAAA,GAAG,CAACqC,MAAJ,CAAW,GAAX,EAAgBV,IAAhB,CAAqB;AAAEW,MAAAA,OAAO,EAAE;AAAX,KAArB;AACD;AACF,CAVD,CAFF;AAeA3C,aAAa,CAAC4C,IAAd,CACE,GADF,EAEEC,aAFF,EAGEC,sBAHF,EAIE,kCAAoB,OAAO1C,GAAP,EAAYC,GAAZ,KAAoB;AACtC,QAAMiC,OAAO,GAAG,IAAIV,qBAAJ,CAAY;AAC1BtB,IAAAA,IAAI,EAAE,iBAAiByC,IAAI,CAACC,GAAL,EADG;AAE1BvC,IAAAA,MAAM,EAAEL,GAAG,CAAC6C,IAAJ,CAASvB,GAFS;AAG1BwB,IAAAA,KAAK,EAAE,gBAHmB;AAI1B7B,IAAAA,KAAK,EAAE,CAJmB;AAK1Bb,IAAAA,QAAQ,EAAE,iBALgB;AAM1B2C,IAAAA,KAAK,EAAE,cANmB;AAO1BC,IAAAA,YAAY,EAAE,CAPY;AAQ1BtC,IAAAA,MAAM,EAAE,CARkB;AAS1BuC,IAAAA,UAAU,EAAE,CATc;AAU1BC,IAAAA,WAAW,EAAE;AAVa,GAAZ,CAAhB;AAYA,QAAMC,cAAc,GAAG,MAAMjB,OAAO,CAACkB,IAAR,EAA7B;AACAnD,EAAAA,GAAG,CAAC2B,IAAJ,CAAS;AAAEW,IAAAA,OAAO,EAAE,iBAAX;AAA8BL,IAAAA,OAAO,EAAEiB;AAAvC,GAAT;AACD,CAfD,CAJF;AAqBAvD,aAAa,CAACyD,GAAd,CACE,MADF,EAEEZ,aAFF,EAGEC,sBAHF,EAIE,kCAAoB,OAAO1C,GAAP,EAAYC,GAAZ,KAAoB;AACtC,QAAMqD,SAAS,GAAGtD,GAAG,CAACoC,MAAJ,CAAWC,EAA7B;AACA,QAAMH,OAAO,GAAG,MAAMV,sBAAQW,QAAR,CAAiBmB,SAAjB,CAAtB;;AACA,MAAIpB,OAAJ,EAAa;AACXA,IAAAA,OAAO,CAAChC,IAAR,GAAeF,GAAG,CAACuD,IAAJ,CAASrD,IAAxB;AACAgC,IAAAA,OAAO,CAACjB,KAAR,GAAgBjB,GAAG,CAACuD,IAAJ,CAAStC,KAAzB;AACAiB,IAAAA,OAAO,CAACY,KAAR,GAAgB9C,GAAG,CAACuD,IAAJ,CAAST,KAAzB;AACAZ,IAAAA,OAAO,CAAC9B,QAAR,GAAmBJ,GAAG,CAACuD,IAAJ,CAASnD,QAA5B;AACA8B,IAAAA,OAAO,CAACa,KAAR,GAAgB/C,GAAG,CAACuD,IAAJ,CAASR,KAAzB;AACAb,IAAAA,OAAO,CAACc,YAAR,GAAuBhD,GAAG,CAACuD,IAAJ,CAASP,YAAhC;AACAd,IAAAA,OAAO,CAACgB,WAAR,GAAsBlD,GAAG,CAACuD,IAAJ,CAASL,WAA/B;AACA,UAAMM,cAAc,GAAG,MAAMtB,OAAO,CAACkB,IAAR,EAA7B;AACAnD,IAAAA,GAAG,CAAC2B,IAAJ,CAAS;AAAEW,MAAAA,OAAO,EAAE,iBAAX;AAA8BL,MAAAA,OAAO,EAAEsB;AAAvC,KAAT;AACD,GAVD,MAUO;AACLvD,IAAAA,GAAG,CAACqC,MAAJ,CAAW,GAAX,EAAgBV,IAAhB,CAAqB;AAAEW,MAAAA,OAAO,EAAE;AAAX,KAArB;AACD;AACF,CAhBD,CAJF;AAuBA3C,aAAa,CAAC6D,MAAd,CACE,MADF,EAEEhB,aAFF,EAGEiB,cAHF,EAIE,kCAAoB,OAAO1D,GAAP,EAAYC,GAAZ,KAAoB;AACtC,QAAMiC,OAAO,GAAG,MAAMV,sBAAQW,QAAR,CAAiBnC,GAAG,CAACoC,MAAJ,CAAWC,EAA5B,CAAtB;;AACA,MAAIH,OAAJ,EAAa;AACX,UAAMyB,aAAa,GAAG,MAAMzB,OAAO,CAAC0B,MAAR,EAA5B;AACA3D,IAAAA,GAAG,CAAC2B,IAAJ,CAAS;AAAEW,MAAAA,OAAO,EAAE,iBAAX;AAA8BL,MAAAA,OAAO,EAAEyB;AAAvC,KAAT;AACD,GAHD,MAGO;AACL1D,IAAAA,GAAG,CAACqC,MAAJ,CAAW,GAAX,EAAgBV,IAAhB,CAAqB;AAAEW,MAAAA,OAAO,EAAE;AAAX,KAArB;AACD;AACF,CARD,CAJF;eAee3C,a",
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/older/backend/routes/",
      "sourcesContent": [
        "import express from 'express';\nimport expressAsyncHandler from 'express-async-handler';\nimport Product from '../schemas/productModel.js';\nimport { isAdmin, isAuth, isSellerOrAdmin } from '../utils.js';\n\nconst productRouter = express.Router();\n\nproductRouter.get(\n  '/',\n  expressAsyncHandler(async (req, res) => {\n    const name = req.query.name || '';\n    const category = req.query.category || '';\n    const seller = req.query.seller || '';\n    const order = req.query.order || '';\n    const min =\n      req.query.min && Number(req.query.min) !== 0 ? Number(req.query.min) : 0;\n    const max =\n      req.query.max && Number(req.query.max) !== 0 ? Number(req.query.max) : 0;\n    const rating =\n      req.query.rating && Number(req.query.rating) !== 0\n        ? Number(req.query.rating)\n        : 0;\n\n    const nameFilter = name ? { name: { $regex: name, $options: 'i' } } : {};\n    const sellerFilter = seller ? { seller } : {};\n    const categoryFilter = category ? { category } : {};\n    const priceFilter = min && max ? { price: { $gte: min, $lte: max } } : {};\n    const ratingFilter = rating ? { rating: { $gte: rating } } : {};\n    const sortOrder =\n      order === 'lowest'\n        ? { price: 1 }\n        : order === 'highest'\n        ? { price: -1 }\n        : order === 'toprated'\n        ? { rating: -1 }\n        : { _id: -1 };\n\n    const products = await Product.find({\n      ...sellerFilter,\n      ...nameFilter,\n      ...categoryFilter,\n      ...priceFilter,\n      ...ratingFilter,\n    })\n      .populate('seller', 'seller.name seller.logo')\n      .sort(sortOrder);\n    res.send(products);\n  })\n);\n\nproductRouter.get(\n  '/categories',\n  expressAsyncHandler(async (req, res) => {\n    const categories = await Product.find().distinct('category');\n    res.send(categories);\n  })\n);\n\nproductRouter.get(\n  '/seed',\n  expressAsyncHandler(async (req, res) => {\n    // await Product.remove({});\n    const createdProducts = await Product.insertMany(data.products);\n    res.send({ createdProducts });\n  })\n);\n\nproductRouter.get(\n  '/:id',\n  expressAsyncHandler(async (req, res) => {\n    const product = await Product.findById(req.params.id).populate(\n      'seller',\n      'seller.name seller.logo seller.rating seller.numReviews'\n    );\n    if (product) {\n      res.send(product);\n    } else {\n      res.status(404).send({ message: 'Product Not Found' });\n    }\n  })\n);\n\nproductRouter.post(\n  '/',\n  isAuth,\n  isSellerOrAdmin,\n  expressAsyncHandler(async (req, res) => {\n    const product = new Product({\n      name: 'sample name ' + Date.now(),\n      seller: req.user._id,\n      image: '/images/p1.jpg',\n      price: 0,\n      category: 'sample category',\n      brand: 'sample brand',\n      countInStock: 0,\n      rating: 0,\n      numReviews: 0,\n      description: 'sample description',\n    });\n    const createdProduct = await product.save();\n    res.send({ message: 'Product Created', product: createdProduct });\n  })\n);\nproductRouter.put(\n  '/:id',\n  isAuth,\n  isSellerOrAdmin,\n  expressAsyncHandler(async (req, res) => {\n    const productId = req.params.id;\n    const product = await Product.findById(productId);\n    if (product) {\n      product.name = req.body.name;\n      product.price = req.body.price;\n      product.image = req.body.image;\n      product.category = req.body.category;\n      product.brand = req.body.brand;\n      product.countInStock = req.body.countInStock;\n      product.description = req.body.description;\n      const updatedProduct = await product.save();\n      res.send({ message: 'Product Updated', product: updatedProduct });\n    } else {\n      res.status(404).send({ message: 'Product Not Found' });\n    }\n  })\n);\n\nproductRouter.delete(\n  '/:id',\n  isAuth,\n  isAdmin,\n  expressAsyncHandler(async (req, res) => {\n    const product = await Product.findById(req.params.id);\n    if (product) {\n      const deleteProduct = await product.remove();\n      res.send({ message: 'Product Deleted', product: deleteProduct });\n    } else {\n      res.status(404).send({ message: 'Product Not Found' });\n    }\n  })\n);\n\nexport default productRouter;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1607069250162
  },
  "{\"sourceRoot\":\"/Users/Me/Desktop/ReactProjects/older/backend/schemas/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/Me/Desktop/ReactProjects/older\",\"filename\":\"/Users/Me/Desktop/ReactProjects/older/backend/schemas/productModel.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/Me/Desktop/ReactProjects/older\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/older/backend/schemas/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/Me/Desktop/ReactProjects/older",
      "filename": "/Users/Me/Desktop/ReactProjects/older/backend/schemas/productModel.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/Me/Desktop/ReactProjects/older",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/Me/Desktop/ReactProjects/older/backend/schemas/productModel.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/Me/Desktop/ReactProjects/older/backend/schemas/productModel.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/Me/Desktop/ReactProjects/older/backend/schemas/",
        "sourceFileName": "productModel.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst productSchema = new _mongoose.default.Schema({\n  name: {\n    type: String,\n    required: true,\n    unique: true\n  },\n  seller: {\n    type: _mongoose.default.Schema.Types.ObjectID,\n    ref: 'User'\n  },\n  image: {\n    type: String,\n    required: true\n  },\n  brand: {\n    type: String,\n    required: true\n  },\n  category: {\n    type: String,\n    required: true\n  },\n  description: {\n    type: String,\n    required: true\n  },\n  price: {\n    type: Number,\n    required: true\n  },\n  countInStock: {\n    type: Number,\n    required: true\n  },\n  rating: {\n    type: Number,\n    required: true\n  },\n  numReviews: {\n    type: Number,\n    required: true\n  }\n}, {\n  timestamps: true\n});\n\nconst Product = _mongoose.default.model('Product', productSchema);\n\nvar _default = Product;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2R1Y3RNb2RlbC5qcyJdLCJuYW1lcyI6WyJwcm9kdWN0U2NoZW1hIiwibW9uZ29vc2UiLCJTY2hlbWEiLCJuYW1lIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwidW5pcXVlIiwic2VsbGVyIiwiVHlwZXMiLCJPYmplY3RJRCIsInJlZiIsImltYWdlIiwiYnJhbmQiLCJjYXRlZ29yeSIsImRlc2NyaXB0aW9uIiwicHJpY2UiLCJOdW1iZXIiLCJjb3VudEluU3RvY2siLCJyYXRpbmciLCJudW1SZXZpZXdzIiwidGltZXN0YW1wcyIsIlByb2R1Y3QiLCJtb2RlbCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7O0FBRUEsTUFBTUEsYUFBYSxHQUFHLElBQUlDLGtCQUFTQyxNQUFiLENBQ3BCO0FBQ0VDLEVBQUFBLElBQUksRUFBRTtBQUFFQyxJQUFBQSxJQUFJLEVBQUVDLE1BQVI7QUFBZ0JDLElBQUFBLFFBQVEsRUFBRSxJQUExQjtBQUFnQ0MsSUFBQUEsTUFBTSxFQUFFO0FBQXhDLEdBRFI7QUFFRUMsRUFBQUEsTUFBTSxFQUFFO0FBQUVKLElBQUFBLElBQUksRUFBRUgsa0JBQVNDLE1BQVQsQ0FBZ0JPLEtBQWhCLENBQXNCQyxRQUE5QjtBQUF3Q0MsSUFBQUEsR0FBRyxFQUFFO0FBQTdDLEdBRlY7QUFHRUMsRUFBQUEsS0FBSyxFQUFFO0FBQUVSLElBQUFBLElBQUksRUFBRUMsTUFBUjtBQUFnQkMsSUFBQUEsUUFBUSxFQUFFO0FBQTFCLEdBSFQ7QUFJRU8sRUFBQUEsS0FBSyxFQUFFO0FBQUVULElBQUFBLElBQUksRUFBRUMsTUFBUjtBQUFnQkMsSUFBQUEsUUFBUSxFQUFFO0FBQTFCLEdBSlQ7QUFLRVEsRUFBQUEsUUFBUSxFQUFFO0FBQUVWLElBQUFBLElBQUksRUFBRUMsTUFBUjtBQUFnQkMsSUFBQUEsUUFBUSxFQUFFO0FBQTFCLEdBTFo7QUFNRVMsRUFBQUEsV0FBVyxFQUFFO0FBQUVYLElBQUFBLElBQUksRUFBRUMsTUFBUjtBQUFnQkMsSUFBQUEsUUFBUSxFQUFFO0FBQTFCLEdBTmY7QUFPRVUsRUFBQUEsS0FBSyxFQUFFO0FBQUVaLElBQUFBLElBQUksRUFBRWEsTUFBUjtBQUFnQlgsSUFBQUEsUUFBUSxFQUFFO0FBQTFCLEdBUFQ7QUFRRVksRUFBQUEsWUFBWSxFQUFFO0FBQUVkLElBQUFBLElBQUksRUFBRWEsTUFBUjtBQUFnQlgsSUFBQUEsUUFBUSxFQUFFO0FBQTFCLEdBUmhCO0FBU0VhLEVBQUFBLE1BQU0sRUFBRTtBQUFFZixJQUFBQSxJQUFJLEVBQUVhLE1BQVI7QUFBZ0JYLElBQUFBLFFBQVEsRUFBRTtBQUExQixHQVRWO0FBVUVjLEVBQUFBLFVBQVUsRUFBRTtBQUFFaEIsSUFBQUEsSUFBSSxFQUFFYSxNQUFSO0FBQWdCWCxJQUFBQSxRQUFRLEVBQUU7QUFBMUI7QUFWZCxDQURvQixFQWFwQjtBQUNFZSxFQUFBQSxVQUFVLEVBQUU7QUFEZCxDQWJvQixDQUF0Qjs7QUFpQkEsTUFBTUMsT0FBTyxHQUFHckIsa0JBQVNzQixLQUFULENBQWUsU0FBZixFQUEwQnZCLGFBQTFCLENBQWhCOztlQUVlc0IsTyIsInNvdXJjZVJvb3QiOiIvVXNlcnMvTWUvRGVza3RvcC9SZWFjdFByb2plY3RzL29sZGVyL2JhY2tlbmQvc2NoZW1hcy8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xuXG5jb25zdCBwcm9kdWN0U2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYShcbiAge1xuICAgIG5hbWU6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSwgdW5pcXVlOiB0cnVlIH0sXG4gICAgc2VsbGVyOiB7IHR5cGU6IG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5PYmplY3RJRCwgcmVmOiAnVXNlcicgfSxcbiAgICBpbWFnZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgYnJhbmQ6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgIGNhdGVnb3J5OiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICBkZXNjcmlwdGlvbjogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgcHJpY2U6IHsgdHlwZTogTnVtYmVyLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgIGNvdW50SW5TdG9jazogeyB0eXBlOiBOdW1iZXIsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgcmF0aW5nOiB7IHR5cGU6IE51bWJlciwgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICBudW1SZXZpZXdzOiB7IHR5cGU6IE51bWJlciwgcmVxdWlyZWQ6IHRydWUgfSxcbiAgfSxcbiAge1xuICAgIHRpbWVzdGFtcHM6IHRydWUsXG4gIH1cbik7XG5jb25zdCBQcm9kdWN0ID0gbW9uZ29vc2UubW9kZWwoJ1Byb2R1Y3QnLCBwcm9kdWN0U2NoZW1hKTtcblxuZXhwb3J0IGRlZmF1bHQgUHJvZHVjdDtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "productModel.js"
      ],
      "names": [
        "productSchema",
        "mongoose",
        "Schema",
        "name",
        "type",
        "String",
        "required",
        "unique",
        "seller",
        "Types",
        "ObjectID",
        "ref",
        "image",
        "brand",
        "category",
        "description",
        "price",
        "Number",
        "countInStock",
        "rating",
        "numReviews",
        "timestamps",
        "Product",
        "model"
      ],
      "mappings": ";;;;;;;AAAA;;;;AAEA,MAAMA,aAAa,GAAG,IAAIC,kBAASC,MAAb,CACpB;AACEC,EAAAA,IAAI,EAAE;AAAEC,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE,IAA1B;AAAgCC,IAAAA,MAAM,EAAE;AAAxC,GADR;AAEEC,EAAAA,MAAM,EAAE;AAAEJ,IAAAA,IAAI,EAAEH,kBAASC,MAAT,CAAgBO,KAAhB,CAAsBC,QAA9B;AAAwCC,IAAAA,GAAG,EAAE;AAA7C,GAFV;AAGEC,EAAAA,KAAK,EAAE;AAAER,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAHT;AAIEO,EAAAA,KAAK,EAAE;AAAET,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAJT;AAKEQ,EAAAA,QAAQ,EAAE;AAAEV,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GALZ;AAMES,EAAAA,WAAW,EAAE;AAAEX,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GANf;AAOEU,EAAAA,KAAK,EAAE;AAAEZ,IAAAA,IAAI,EAAEa,MAAR;AAAgBX,IAAAA,QAAQ,EAAE;AAA1B,GAPT;AAQEY,EAAAA,YAAY,EAAE;AAAEd,IAAAA,IAAI,EAAEa,MAAR;AAAgBX,IAAAA,QAAQ,EAAE;AAA1B,GARhB;AASEa,EAAAA,MAAM,EAAE;AAAEf,IAAAA,IAAI,EAAEa,MAAR;AAAgBX,IAAAA,QAAQ,EAAE;AAA1B,GATV;AAUEc,EAAAA,UAAU,EAAE;AAAEhB,IAAAA,IAAI,EAAEa,MAAR;AAAgBX,IAAAA,QAAQ,EAAE;AAA1B;AAVd,CADoB,EAapB;AACEe,EAAAA,UAAU,EAAE;AADd,CAboB,CAAtB;;AAiBA,MAAMC,OAAO,GAAGrB,kBAASsB,KAAT,CAAe,SAAf,EAA0BvB,aAA1B,CAAhB;;eAEesB,O",
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/older/backend/schemas/",
      "sourcesContent": [
        "import mongoose from 'mongoose';\n\nconst productSchema = new mongoose.Schema(\n  {\n    name: { type: String, required: true, unique: true },\n    seller: { type: mongoose.Schema.Types.ObjectID, ref: 'User' },\n    image: { type: String, required: true },\n    brand: { type: String, required: true },\n    category: { type: String, required: true },\n    description: { type: String, required: true },\n    price: { type: Number, required: true },\n    countInStock: { type: Number, required: true },\n    rating: { type: Number, required: true },\n    numReviews: { type: Number, required: true },\n  },\n  {\n    timestamps: true,\n  }\n);\nconst Product = mongoose.model('Product', productSchema);\n\nexport default Product;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1606412590000
  },
  "{\"sourceRoot\":\"/Users/Me/Desktop/ReactProjects/luxeshop/backend/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/Me/Desktop/ReactProjects/luxeshop\",\"filename\":\"/Users/Me/Desktop/ReactProjects/luxeshop/backend/server.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/Me/Desktop/ReactProjects/luxeshop\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/luxeshop/backend/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/Me/Desktop/ReactProjects/luxeshop",
      "filename": "/Users/Me/Desktop/ReactProjects/luxeshop/backend/server.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/Me/Desktop/ReactProjects/luxeshop",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/Me/Desktop/ReactProjects/luxeshop/backend/server.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/Me/Desktop/ReactProjects/luxeshop/backend/server.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/Me/Desktop/ReactProjects/luxeshop/backend/",
        "sourceFileName": "server.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nvar _dotenv = _interopRequireDefault(require(\"dotenv\"));\n\nvar _path = _interopRequireDefault(require(\"path\"));\n\nvar _productRouter = _interopRequireDefault(require(\"./routes/productRouter.js\"));\n\nvar _userRouter = _interopRequireDefault(require(\"./routes/userRouter.js\"));\n\nvar _orderRouter = _interopRequireDefault(require(\"./routes/orderRouter.js\"));\n\nvar _uploadRouter = _interopRequireDefault(require(\"./routes/uploadRouter.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_dotenv.default.config();\n\nconst app = (0, _express.default)();\napp.use(_express.default.json());\napp.use(_express.default.urlencoded({\n  extended: true\n}));\n\n_mongoose.default.connect(process.env.MONGODB_URL || 'mongodb://localhost/luxeshop', {\n  useNewUrlParser: true,\n  useUnifiedTopology: true,\n  useCreateIndex: true\n});\n\napp.use('/api/uploads', _uploadRouter.default);\napp.use('/api/users', _userRouter.default);\napp.use('/api/products', _productRouter.default);\napp.use('/api/orders', _orderRouter.default);\napp.get('/api/config/paypal', (req, res) => {\n  res.send(process.env.PAYPAL_CLIENT_ID || 'sb');\n});\n\nconst _dirname = _path.default.resolve();\n\napp.use('/uploads', _express.default.static(_path.default.join(_dirname, '/uploads')));\napp.use(_express.default.static(_path.default.join(_dirname, '/frontend/build')));\napp.get('*', (req, res) => res.sendFile(_path.default.join(_dirname, '/frontend/build/index.html')));\napp.use((err, req, res, next) => {\n  res.status(500).send({\n    message: err.message\n  });\n});\nconst port = process.env.PORT || 5000;\napp.listen(port, () => {\n  console.log(`Server started at http://localhost:${port}`);\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlcnZlci5qcyJdLCJuYW1lcyI6WyJkb3RlbnYiLCJjb25maWciLCJhcHAiLCJ1c2UiLCJleHByZXNzIiwianNvbiIsInVybGVuY29kZWQiLCJleHRlbmRlZCIsIm1vbmdvb3NlIiwiY29ubmVjdCIsInByb2Nlc3MiLCJlbnYiLCJNT05HT0RCX1VSTCIsInVzZU5ld1VybFBhcnNlciIsInVzZVVuaWZpZWRUb3BvbG9neSIsInVzZUNyZWF0ZUluZGV4IiwidXBsb2FkUm91dGVyIiwidXNlclJvdXRlciIsInByb2R1Y3RSb3V0ZXIiLCJvcmRlclJvdXRlciIsImdldCIsInJlcSIsInJlcyIsInNlbmQiLCJQQVlQQUxfQ0xJRU5UX0lEIiwiX19kaXJuYW1lIiwicGF0aCIsInJlc29sdmUiLCJzdGF0aWMiLCJqb2luIiwic2VuZEZpbGUiLCJlcnIiLCJuZXh0Iiwic3RhdHVzIiwibWVzc2FnZSIsInBvcnQiLCJQT1JUIiwibGlzdGVuIiwiY29uc29sZSIsImxvZyJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7OztBQUVBQSxnQkFBT0MsTUFBUDs7QUFFQSxNQUFNQyxHQUFHLEdBQUcsdUJBQVo7QUFDQUEsR0FBRyxDQUFDQyxHQUFKLENBQVFDLGlCQUFRQyxJQUFSLEVBQVI7QUFDQUgsR0FBRyxDQUFDQyxHQUFKLENBQVFDLGlCQUFRRSxVQUFSLENBQW1CO0FBQUVDLEVBQUFBLFFBQVEsRUFBRTtBQUFaLENBQW5CLENBQVI7O0FBRUFDLGtCQUFTQyxPQUFULENBQWlCQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsV0FBWixJQUEyQiw4QkFBNUMsRUFBNEU7QUFDMUVDLEVBQUFBLGVBQWUsRUFBRSxJQUR5RDtBQUUxRUMsRUFBQUEsa0JBQWtCLEVBQUUsSUFGc0Q7QUFHMUVDLEVBQUFBLGNBQWMsRUFBRTtBQUgwRCxDQUE1RTs7QUFLQWIsR0FBRyxDQUFDQyxHQUFKLENBQVEsY0FBUixFQUF3QmEscUJBQXhCO0FBQ0FkLEdBQUcsQ0FBQ0MsR0FBSixDQUFRLFlBQVIsRUFBc0JjLG1CQUF0QjtBQUNBZixHQUFHLENBQUNDLEdBQUosQ0FBUSxlQUFSLEVBQXlCZSxzQkFBekI7QUFDQWhCLEdBQUcsQ0FBQ0MsR0FBSixDQUFRLGFBQVIsRUFBdUJnQixvQkFBdkI7QUFDQWpCLEdBQUcsQ0FBQ2tCLEdBQUosQ0FBUSxvQkFBUixFQUE4QixDQUFDQyxHQUFELEVBQU1DLEdBQU4sS0FBYztBQUMxQ0EsRUFBQUEsR0FBRyxDQUFDQyxJQUFKLENBQVNiLE9BQU8sQ0FBQ0MsR0FBUixDQUFZYSxnQkFBWixJQUFnQyxJQUF6QztBQUNELENBRkQ7O0FBR0EsTUFBTUMsUUFBUyxHQUFHQyxjQUFLQyxPQUFMLEVBQWxCOztBQUNBekIsR0FBRyxDQUFDQyxHQUFKLENBQVEsVUFBUixFQUFvQkMsaUJBQVF3QixNQUFSLENBQWVGLGNBQUtHLElBQUwsQ0FBVUosUUFBVixFQUFxQixVQUFyQixDQUFmLENBQXBCO0FBQ0F2QixHQUFHLENBQUNDLEdBQUosQ0FBUUMsaUJBQVF3QixNQUFSLENBQWVGLGNBQUtHLElBQUwsQ0FBVUosUUFBVixFQUFxQixpQkFBckIsQ0FBZixDQUFSO0FBQ0F2QixHQUFHLENBQUNrQixHQUFKLENBQVEsR0FBUixFQUFhLENBQUNDLEdBQUQsRUFBTUMsR0FBTixLQUNYQSxHQUFHLENBQUNRLFFBQUosQ0FBYUosY0FBS0csSUFBTCxDQUFVSixRQUFWLEVBQXFCLDRCQUFyQixDQUFiLENBREY7QUFLQXZCLEdBQUcsQ0FBQ0MsR0FBSixDQUFRLENBQUM0QixHQUFELEVBQU1WLEdBQU4sRUFBV0MsR0FBWCxFQUFnQlUsSUFBaEIsS0FBeUI7QUFDL0JWLEVBQUFBLEdBQUcsQ0FBQ1csTUFBSixDQUFXLEdBQVgsRUFBZ0JWLElBQWhCLENBQXFCO0FBQUVXLElBQUFBLE9BQU8sRUFBRUgsR0FBRyxDQUFDRztBQUFmLEdBQXJCO0FBQ0QsQ0FGRDtBQUlBLE1BQU1DLElBQUksR0FBR3pCLE9BQU8sQ0FBQ0MsR0FBUixDQUFZeUIsSUFBWixJQUFvQixJQUFqQztBQUNBbEMsR0FBRyxDQUFDbUMsTUFBSixDQUFXRixJQUFYLEVBQWlCLE1BQU07QUFDckJHLEVBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFhLHNDQUFxQ0osSUFBSyxFQUF2RDtBQUNELENBRkQiLCJzb3VyY2VSb290IjoiL1VzZXJzL01lL0Rlc2t0b3AvUmVhY3RQcm9qZWN0cy9sdXhlc2hvcC9iYWNrZW5kLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcbmltcG9ydCBkb3RlbnYgZnJvbSAnZG90ZW52JztcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xuaW1wb3J0IHByb2R1Y3RSb3V0ZXIgZnJvbSAnLi9yb3V0ZXMvcHJvZHVjdFJvdXRlci5qcyc7XG5pbXBvcnQgdXNlclJvdXRlciBmcm9tICcuL3JvdXRlcy91c2VyUm91dGVyLmpzJztcbmltcG9ydCBvcmRlclJvdXRlciBmcm9tICcuL3JvdXRlcy9vcmRlclJvdXRlci5qcyc7XG5pbXBvcnQgdXBsb2FkUm91dGVyIGZyb20gJy4vcm91dGVzL3VwbG9hZFJvdXRlci5qcyc7XG5cbmRvdGVudi5jb25maWcoKTtcblxuY29uc3QgYXBwID0gZXhwcmVzcygpO1xuYXBwLnVzZShleHByZXNzLmpzb24oKSk7XG5hcHAudXNlKGV4cHJlc3MudXJsZW5jb2RlZCh7IGV4dGVuZGVkOiB0cnVlIH0pKTtcblxubW9uZ29vc2UuY29ubmVjdChwcm9jZXNzLmVudi5NT05HT0RCX1VSTCB8fCAnbW9uZ29kYjovL2xvY2FsaG9zdC9sdXhlc2hvcCcsIHtcbiAgdXNlTmV3VXJsUGFyc2VyOiB0cnVlLFxuICB1c2VVbmlmaWVkVG9wb2xvZ3k6IHRydWUsXG4gIHVzZUNyZWF0ZUluZGV4OiB0cnVlLFxufSk7XG5hcHAudXNlKCcvYXBpL3VwbG9hZHMnLCB1cGxvYWRSb3V0ZXIpO1xuYXBwLnVzZSgnL2FwaS91c2VycycsIHVzZXJSb3V0ZXIpO1xuYXBwLnVzZSgnL2FwaS9wcm9kdWN0cycsIHByb2R1Y3RSb3V0ZXIpO1xuYXBwLnVzZSgnL2FwaS9vcmRlcnMnLCBvcmRlclJvdXRlcik7XG5hcHAuZ2V0KCcvYXBpL2NvbmZpZy9wYXlwYWwnLCAocmVxLCByZXMpID0+IHtcbiAgcmVzLnNlbmQocHJvY2Vzcy5lbnYuUEFZUEFMX0NMSUVOVF9JRCB8fCAnc2InKTtcbn0pO1xuY29uc3QgX19kaXJuYW1lID0gcGF0aC5yZXNvbHZlKCk7XG5hcHAudXNlKCcvdXBsb2FkcycsIGV4cHJlc3Muc3RhdGljKHBhdGguam9pbihfX2Rpcm5hbWUsICcvdXBsb2FkcycpKSk7XG5hcHAudXNlKGV4cHJlc3Muc3RhdGljKHBhdGguam9pbihfX2Rpcm5hbWUsICcvZnJvbnRlbmQvYnVpbGQnKSkpO1xuYXBwLmdldCgnKicsIChyZXEsIHJlcykgPT5cbiAgcmVzLnNlbmRGaWxlKHBhdGguam9pbihfX2Rpcm5hbWUsICcvZnJvbnRlbmQvYnVpbGQvaW5kZXguaHRtbCcpKVxuKTtcblxuXG5hcHAudXNlKChlcnIsIHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHsgbWVzc2FnZTogZXJyLm1lc3NhZ2UgfSk7XG59KTtcblxuY29uc3QgcG9ydCA9IHByb2Nlc3MuZW52LlBPUlQgfHwgNTAwMDtcbmFwcC5saXN0ZW4ocG9ydCwgKCkgPT4ge1xuICBjb25zb2xlLmxvZyhgU2VydmVyIHN0YXJ0ZWQgYXQgaHR0cDovL2xvY2FsaG9zdDoke3BvcnR9YCk7XG59KTtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "server.js"
      ],
      "names": [
        "dotenv",
        "config",
        "app",
        "use",
        "express",
        "json",
        "urlencoded",
        "extended",
        "mongoose",
        "connect",
        "process",
        "env",
        "MONGODB_URL",
        "useNewUrlParser",
        "useUnifiedTopology",
        "useCreateIndex",
        "uploadRouter",
        "userRouter",
        "productRouter",
        "orderRouter",
        "get",
        "req",
        "res",
        "send",
        "PAYPAL_CLIENT_ID",
        "__dirname",
        "path",
        "resolve",
        "static",
        "join",
        "sendFile",
        "err",
        "next",
        "status",
        "message",
        "port",
        "PORT",
        "listen",
        "console",
        "log"
      ],
      "mappings": ";;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;AAEAA,gBAAOC,MAAP;;AAEA,MAAMC,GAAG,GAAG,uBAAZ;AACAA,GAAG,CAACC,GAAJ,CAAQC,iBAAQC,IAAR,EAAR;AACAH,GAAG,CAACC,GAAJ,CAAQC,iBAAQE,UAAR,CAAmB;AAAEC,EAAAA,QAAQ,EAAE;AAAZ,CAAnB,CAAR;;AAEAC,kBAASC,OAAT,CAAiBC,OAAO,CAACC,GAAR,CAAYC,WAAZ,IAA2B,8BAA5C,EAA4E;AAC1EC,EAAAA,eAAe,EAAE,IADyD;AAE1EC,EAAAA,kBAAkB,EAAE,IAFsD;AAG1EC,EAAAA,cAAc,EAAE;AAH0D,CAA5E;;AAKAb,GAAG,CAACC,GAAJ,CAAQ,cAAR,EAAwBa,qBAAxB;AACAd,GAAG,CAACC,GAAJ,CAAQ,YAAR,EAAsBc,mBAAtB;AACAf,GAAG,CAACC,GAAJ,CAAQ,eAAR,EAAyBe,sBAAzB;AACAhB,GAAG,CAACC,GAAJ,CAAQ,aAAR,EAAuBgB,oBAAvB;AACAjB,GAAG,CAACkB,GAAJ,CAAQ,oBAAR,EAA8B,CAACC,GAAD,EAAMC,GAAN,KAAc;AAC1CA,EAAAA,GAAG,CAACC,IAAJ,CAASb,OAAO,CAACC,GAAR,CAAYa,gBAAZ,IAAgC,IAAzC;AACD,CAFD;;AAGA,MAAMC,QAAS,GAAGC,cAAKC,OAAL,EAAlB;;AACAzB,GAAG,CAACC,GAAJ,CAAQ,UAAR,EAAoBC,iBAAQwB,MAAR,CAAeF,cAAKG,IAAL,CAAUJ,QAAV,EAAqB,UAArB,CAAf,CAApB;AACAvB,GAAG,CAACC,GAAJ,CAAQC,iBAAQwB,MAAR,CAAeF,cAAKG,IAAL,CAAUJ,QAAV,EAAqB,iBAArB,CAAf,CAAR;AACAvB,GAAG,CAACkB,GAAJ,CAAQ,GAAR,EAAa,CAACC,GAAD,EAAMC,GAAN,KACXA,GAAG,CAACQ,QAAJ,CAAaJ,cAAKG,IAAL,CAAUJ,QAAV,EAAqB,4BAArB,CAAb,CADF;AAKAvB,GAAG,CAACC,GAAJ,CAAQ,CAAC4B,GAAD,EAAMV,GAAN,EAAWC,GAAX,EAAgBU,IAAhB,KAAyB;AAC/BV,EAAAA,GAAG,CAACW,MAAJ,CAAW,GAAX,EAAgBV,IAAhB,CAAqB;AAAEW,IAAAA,OAAO,EAAEH,GAAG,CAACG;AAAf,GAArB;AACD,CAFD;AAIA,MAAMC,IAAI,GAAGzB,OAAO,CAACC,GAAR,CAAYyB,IAAZ,IAAoB,IAAjC;AACAlC,GAAG,CAACmC,MAAJ,CAAWF,IAAX,EAAiB,MAAM;AACrBG,EAAAA,OAAO,CAACC,GAAR,CAAa,sCAAqCJ,IAAK,EAAvD;AACD,CAFD",
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/luxeshop/backend/",
      "sourcesContent": [
        "import express from 'express';\nimport mongoose from 'mongoose';\nimport dotenv from 'dotenv';\nimport path from 'path';\nimport productRouter from './routes/productRouter.js';\nimport userRouter from './routes/userRouter.js';\nimport orderRouter from './routes/orderRouter.js';\nimport uploadRouter from './routes/uploadRouter.js';\n\ndotenv.config();\n\nconst app = express();\napp.use(express.json());\napp.use(express.urlencoded({ extended: true }));\n\nmongoose.connect(process.env.MONGODB_URL || 'mongodb://localhost/luxeshop', {\n  useNewUrlParser: true,\n  useUnifiedTopology: true,\n  useCreateIndex: true,\n});\napp.use('/api/uploads', uploadRouter);\napp.use('/api/users', userRouter);\napp.use('/api/products', productRouter);\napp.use('/api/orders', orderRouter);\napp.get('/api/config/paypal', (req, res) => {\n  res.send(process.env.PAYPAL_CLIENT_ID || 'sb');\n});\nconst __dirname = path.resolve();\napp.use('/uploads', express.static(path.join(__dirname, '/uploads')));\napp.use(express.static(path.join(__dirname, '/frontend/build')));\napp.get('*', (req, res) =>\n  res.sendFile(path.join(__dirname, '/frontend/build/index.html'))\n);\n\n\napp.use((err, req, res, next) => {\n  res.status(500).send({ message: err.message });\n});\n\nconst port = process.env.PORT || 5000;\napp.listen(port, () => {\n  console.log(`Server started at http://localhost:${port}`);\n});\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1607066219440
  },
  "{\"sourceRoot\":\"/Users/Me/Desktop/ReactProjects/luxeshop/backend/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/Me/Desktop/ReactProjects/luxeshop\",\"filename\":\"/Users/Me/Desktop/ReactProjects/luxeshop/backend/routes/productRouter.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/Me/Desktop/ReactProjects/luxeshop\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/luxeshop/backend/routes/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/Me/Desktop/ReactProjects/luxeshop",
      "filename": "/Users/Me/Desktop/ReactProjects/luxeshop/backend/routes/productRouter.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/Me/Desktop/ReactProjects/luxeshop",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/Me/Desktop/ReactProjects/luxeshop/backend/routes/productRouter.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/Me/Desktop/ReactProjects/luxeshop/backend/routes/productRouter.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/Me/Desktop/ReactProjects/luxeshop/backend/routes/",
        "sourceFileName": "productRouter.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _expressAsyncHandler = _interopRequireDefault(require(\"express-async-handler\"));\n\nvar _productModel = _interopRequireDefault(require(\"../schemas/productModel.js\"));\n\nvar _utils = require(\"../utils.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst productRouter = _express.default.Router();\n\nproductRouter.get('/', (0, _expressAsyncHandler.default)(async (req, res) => {\n  const name = req.query.name || '';\n  const category = req.query.category || '';\n  const seller = req.query.seller || '';\n  const order = req.query.order || '';\n  const min = req.query.min && Number(req.query.min) !== 0 ? Number(req.query.min) : 0;\n  const max = req.query.max && Number(req.query.max) !== 0 ? Number(req.query.max) : 0;\n  const rating = req.query.rating && Number(req.query.rating) !== 0 ? Number(req.query.rating) : 0;\n  const nameFilter = name ? {\n    name: {\n      $regex: name,\n      $options: 'i'\n    }\n  } : {};\n  const sellerFilter = seller ? {\n    seller\n  } : {};\n  const categoryFilter = category ? {\n    category\n  } : {};\n  const priceFilter = min && max ? {\n    price: {\n      $gte: min,\n      $lte: max\n    }\n  } : {};\n  const ratingFilter = rating ? {\n    rating: {\n      $gte: rating\n    }\n  } : {};\n  const sortOrder = order === 'lowest' ? {\n    price: 1\n  } : order === 'highest' ? {\n    price: -1\n  } : order === 'toprated' ? {\n    rating: -1\n  } : {\n    _id: -1\n  };\n  const products = await _productModel.default.find({ ...sellerFilter,\n    ...nameFilter,\n    ...categoryFilter,\n    ...priceFilter,\n    ...ratingFilter\n  }).populate('seller', 'seller.name seller.logo').sort(sortOrder);\n  res.send(products);\n}));\nproductRouter.get('/categories', (0, _expressAsyncHandler.default)(async (req, res) => {\n  const categories = await _productModel.default.find().distinct('category');\n  res.send(categories);\n}));\nproductRouter.get('/seed', (0, _expressAsyncHandler.default)(async (req, res) => {\n  // await Product.remove({});\n  const createdProducts = await _productModel.default.insertMany(data.products);\n  res.send({\n    createdProducts\n  });\n}));\nproductRouter.get('/:id', (0, _expressAsyncHandler.default)(async (req, res) => {\n  const product = await _productModel.default.findById(req.params.id).populate('seller', 'seller.name seller.logo seller.rating seller.numReviews');\n\n  if (product) {\n    res.send(product);\n  } else {\n    res.status(404).send({\n      message: 'Product Not Found'\n    });\n  }\n}));\nproductRouter.post('/', _utils.isAuth, _utils.isSellerOrAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const product = new _productModel.default({\n    name: 'sample name ' + Date.now(),\n    seller: req.user._id,\n    image: '/images/p1.jpg',\n    price: 0,\n    category: 'sample category',\n    brand: 'sample brand',\n    countInStock: 0,\n    rating: 0,\n    numReviews: 0,\n    description: 'sample description'\n  });\n  const createdProduct = await product.save();\n  res.send({\n    message: 'Product Created',\n    product: createdProduct\n  });\n}));\nproductRouter.put('/:id', _utils.isAuth, _utils.isSellerOrAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const productId = req.params.id;\n  const product = await _productModel.default.findById(productId);\n\n  if (product) {\n    product.name = req.body.name;\n    product.price = req.body.price;\n    product.image = req.body.image;\n    product.category = req.body.category;\n    product.brand = req.body.brand;\n    product.countInStock = req.body.countInStock;\n    product.description = req.body.description;\n    const updatedProduct = await product.save();\n    res.send({\n      message: 'Product Updated',\n      product: updatedProduct\n    });\n  } else {\n    res.status(404).send({\n      message: 'Product Not Found'\n    });\n  }\n}));\nproductRouter.delete('/:id', _utils.isAuth, _utils.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const product = await _productModel.default.findById(req.params.id);\n\n  if (product) {\n    const deleteProduct = await product.remove();\n    res.send({\n      message: 'Product Deleted',\n      product: deleteProduct\n    });\n  } else {\n    res.status(404).send({\n      message: 'Product Not Found'\n    });\n  }\n}));\nvar _default = productRouter;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2R1Y3RSb3V0ZXIuanMiXSwibmFtZXMiOlsicHJvZHVjdFJvdXRlciIsImV4cHJlc3MiLCJSb3V0ZXIiLCJnZXQiLCJyZXEiLCJyZXMiLCJuYW1lIiwicXVlcnkiLCJjYXRlZ29yeSIsInNlbGxlciIsIm9yZGVyIiwibWluIiwiTnVtYmVyIiwibWF4IiwicmF0aW5nIiwibmFtZUZpbHRlciIsIiRyZWdleCIsIiRvcHRpb25zIiwic2VsbGVyRmlsdGVyIiwiY2F0ZWdvcnlGaWx0ZXIiLCJwcmljZUZpbHRlciIsInByaWNlIiwiJGd0ZSIsIiRsdGUiLCJyYXRpbmdGaWx0ZXIiLCJzb3J0T3JkZXIiLCJfaWQiLCJwcm9kdWN0cyIsIlByb2R1Y3QiLCJmaW5kIiwicG9wdWxhdGUiLCJzb3J0Iiwic2VuZCIsImNhdGVnb3JpZXMiLCJkaXN0aW5jdCIsImNyZWF0ZWRQcm9kdWN0cyIsImluc2VydE1hbnkiLCJkYXRhIiwicHJvZHVjdCIsImZpbmRCeUlkIiwicGFyYW1zIiwiaWQiLCJzdGF0dXMiLCJtZXNzYWdlIiwicG9zdCIsImlzQXV0aCIsImlzU2VsbGVyT3JBZG1pbiIsIkRhdGUiLCJub3ciLCJ1c2VyIiwiaW1hZ2UiLCJicmFuZCIsImNvdW50SW5TdG9jayIsIm51bVJldmlld3MiLCJkZXNjcmlwdGlvbiIsImNyZWF0ZWRQcm9kdWN0Iiwic2F2ZSIsInB1dCIsInByb2R1Y3RJZCIsImJvZHkiLCJ1cGRhdGVkUHJvZHVjdCIsImRlbGV0ZSIsImlzQWRtaW4iLCJkZWxldGVQcm9kdWN0IiwicmVtb3ZlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7QUFFQSxNQUFNQSxhQUFhLEdBQUdDLGlCQUFRQyxNQUFSLEVBQXRCOztBQUVBRixhQUFhLENBQUNHLEdBQWQsQ0FDRSxHQURGLEVBRUUsa0NBQW9CLE9BQU9DLEdBQVAsRUFBWUMsR0FBWixLQUFvQjtBQUN0QyxRQUFNQyxJQUFJLEdBQUdGLEdBQUcsQ0FBQ0csS0FB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O0FBQThCTCxNQUFBQSxPQUFPLEVBQUV5QjtBQUF2QyxLQUFUO0FBQ0QsR0FIRCxNQUdPO0FBQ0wxRCxJQUFBQSxHQUFHLENBQUNxQyxNQUFKLENBQVcsR0FBWCxFQUFnQlYsSUFBaEIsQ0FBcUI7QUFBRVcsTUFBQUEsT0FBTyxFQUFFO0FBQVgsS0FBckI7QUFDRDtBQUNGLENBUkQsQ0FKRjtlQWVlM0MsYSIsInNvdXJjZVJvb3QiOiIvVXNlcnMvTWUvRGVza3RvcC9SZWFjdFByb2plY3RzL2x1eGVzaG9wL2JhY2tlbmQvcm91dGVzLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IGV4cHJlc3NBc3luY0hhbmRsZXIgZnJvbSAnZXhwcmVzcy1hc3luYy1oYW5kbGVyJztcbmltcG9ydCBQcm9kdWN0IGZyb20gJy4uL3NjaGVtYXMvcHJvZHVjdE1vZGVsLmpzJztcbmltcG9ydCB7IGlzQWRtaW4sIGlzQXV0aCwgaXNTZWxsZXJPckFkbWluIH0gZnJvbSAnLi4vdXRpbHMuanMnO1xuXG5jb25zdCBwcm9kdWN0Um91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcblxucHJvZHVjdFJvdXRlci5nZXQoXG4gICcvJyxcbiAgZXhwcmVzc0FzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCBuYW1lID0gcmVxLnF1ZXJ5Lm5hbWUgfHwgJyc7XG4gICAgY29uc3QgY2F0ZWdvcnkgPSByZXEucXVlcnkuY2F0ZWdvcnkgfHwgJyc7XG4gICAgY29uc3Qgc2VsbGVyID0gcmVxLnF1ZXJ5LnNlbGxlciB8fCAnJztcbiAgICBjb25zdCBvcmRlciA9IHJlcS5xdWVyeS5vcmRlciB8fCAnJztcbiAgICBjb25zdCBtaW4gPVxuICAgICAgcmVxLnF1ZXJ5Lm1pbiAmJiBOdW1iZXIocmVxLnF1ZXJ5Lm1pbikgIT09IDAgPyBOdW1iZXIocmVxLnF1ZXJ5Lm1pbikgOiAwO1xuICAgIGNvbnN0IG1heCA9XG4gICAgICByZXEucXVlcnkubWF4ICYmIE51bWJlcihyZXEucXVlcnkubWF4KSAhPT0gMCA/IE51bWJlcihyZXEucXVlcnkubWF4KSA6IDA7XG4gICAgY29uc3QgcmF0aW5nID1cbiAgICAgIHJlcS5xdWVyeS5yYXRpbmcgJiYgTnVtYmVyKHJlcS5xdWVyeS5yYXRpbmcpICE9PSAwXG4gICAgICAgID8gTnVtYmVyKHJlcS5xdWVyeS5yYXRpbmcpXG4gICAgICAgIDogMDtcblxuICAgIGNvbnN0IG5hbWVGaWx0ZXIgPSBuYW1lID8geyBuYW1lOiB7ICRyZWdleDogbmFtZSwgJG9wdGlvbnM6ICdpJyB9IH0gOiB7fTtcbiAgICBjb25zdCBzZWxsZXJGaWx0ZXIgPSBzZWxsZXIgPyB7IHNlbGxlciB9IDoge307XG4gICAgY29uc3QgY2F0ZWdvcnlGaWx0ZXIgPSBjYXRlZ29yeSA/IHsgY2F0ZWdvcnkgfSA6IHt9O1xuICAgIGNvbnN0IHByaWNlRmlsdGVyID0gbWluICYmIG1heCA/IHsgcHJpY2U6IHsgJGd0ZTogbWluLCAkbHRlOiBtYXggfSB9IDoge307XG4gICAgY29uc3QgcmF0aW5nRmlsdGVyID0gcmF0aW5nID8geyByYXRpbmc6IHsgJGd0ZTogcmF0aW5nIH0gfSA6IHt9O1xuICAgIGNvbnN0IHNvcnRPcmRlciA9XG4gICAgICBvcmRlciA9PT0gJ2xvd2VzdCdcbiAgICAgICAgPyB7IHByaWNlOiAxIH1cbiAgICAgICAgOiBvcmRlciA9PT0gJ2hpZ2hlc3QnXG4gICAgICAgID8geyBwcmljZTogLTEgfVxuICAgICAgICA6IG9yZGVyID09PSAndG9wcmF0ZWQnXG4gICAgICAgID8geyByYXRpbmc6IC0xIH1cbiAgICAgICAgOiB7IF9pZDogLTEgfTtcblxuICAgIGNvbnN0IHByb2R1Y3RzID0gYXdhaXQgUHJvZHVjdC5maW5kKHtcbiAgICAgIC4uLnNlbGxlckZpbHRlcixcbiAgICAgIC4uLm5hbWVGaWx0ZXIsXG4gICAgICAuLi5jYXRlZ29yeUZpbHRlcixcbiAgICAgIC4uLnByaWNlRmlsdGVyLFxuICAgICAgLi4ucmF0aW5nRmlsdGVyLFxuICAgIH0pXG4gICAgICAucG9wdWxhdGUoJ3NlbGxlcicsICdzZWxsZXIubmFtZSBzZWxsZXIubG9nbycpXG4gICAgICAuc29ydChzb3J0T3JkZXIpO1xuICAgIHJlcy5zZW5kKHByb2R1Y3RzKTtcbiAgfSlcbik7XG5cbnByb2R1Y3RSb3V0ZXIuZ2V0KFxuICAnL2NhdGVnb3JpZXMnLFxuICBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IGNhdGVnb3JpZXMgPSBhd2FpdCBQcm9kdWN0LmZpbmQoKS5kaXN0aW5jdCgnY2F0ZWdvcnknKTtcbiAgICByZXMuc2VuZChjYXRlZ29yaWVzKTtcbiAgfSlcbik7XG5cbnByb2R1Y3RSb3V0ZXIuZ2V0KFxuICAnL3NlZWQnLFxuICBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIC8vIGF3YWl0IFByb2R1Y3QucmVtb3ZlKHt9KTtcbiAgICBjb25zdCBjcmVhdGVkUHJvZHVjdHMgPSBhd2FpdCBQcm9kdWN0Lmluc2VydE1hbnkoZGF0YS5wcm9kdWN0cyk7XG4gICAgcmVzLnNlbmQoeyBjcmVhdGVkUHJvZHVjdHMgfSk7XG4gIH0pXG4pO1xuXG5wcm9kdWN0Um91dGVyLmdldChcbiAgJy86aWQnLFxuICBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHByb2R1Y3QgPSBhd2FpdCBQcm9kdWN0LmZpbmRCeUlkKHJlcS5wYXJhbXMuaWQpLnBvcHVsYXRlKFxuICAgICAgJ3NlbGxlcicsXG4gICAgICAnc2VsbGVyLm5hbWUgc2VsbGVyLmxvZ28gc2VsbGVyLnJhdGluZyBzZWxsZXIubnVtUmV2aWV3cydcbiAgICApO1xuICAgIGlmIChwcm9kdWN0KSB7XG4gICAgICByZXMuc2VuZChwcm9kdWN0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoeyBtZXNzYWdlOiAnUHJvZHVjdCBOb3QgRm91bmQnIH0pO1xuICAgIH1cbiAgfSlcbik7XG5cbnByb2R1Y3RSb3V0ZXIucG9zdChcbiAgJy8nLFxuICBpc0F1dGgsXG4gIGlzU2VsbGVyT3JBZG1pbixcbiAgZXhwcmVzc0FzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCBwcm9kdWN0ID0gbmV3IFByb2R1Y3Qoe1xuICAgICAgbmFtZTogJ3NhbXBsZSBuYW1lICcgKyBEYXRlLm5vdygpLFxuICAgICAgc2VsbGVyOiByZXEudXNlci5faWQsXG4gICAgICBpbWFnZTogJy9pbWFnZXMvcDEuanBnJyxcbiAgICAgIHByaWNlOiAwLFxuICAgICAgY2F0ZWdvcnk6ICdzYW1wbGUgY2F0ZWdvcnknLFxuICAgICAgYnJhbmQ6ICdzYW1wbGUgYnJhbmQnLFxuICAgICAgY291bnRJblN0b2NrOiAwLFxuICAgICAgcmF0aW5nOiAwLFxuICAgICAgbnVtUmV2aWV3czogMCxcbiAgICAgIGRlc2NyaXB0aW9uOiAnc2FtcGxlIGRlc2NyaXB0aW9uJyxcbiAgICB9KTtcbiAgICBjb25zdCBjcmVhdGVkUHJvZHVjdCA9IGF3YWl0IHByb2R1Y3Quc2F2ZSgpO1xuICAgIHJlcy5zZW5kKHsgbWVzc2FnZTogJ1Byb2R1Y3QgQ3JlYXRlZCcsIHByb2R1Y3Q6IGNyZWF0ZWRQcm9kdWN0IH0pO1xuICB9KVxuKTtcbnByb2R1Y3RSb3V0ZXIucHV0KFxuICAnLzppZCcsXG4gIGlzQXV0aCxcbiAgaXNTZWxsZXJPckFkbWluLFxuICBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHByb2R1Y3RJZCA9IHJlcS5wYXJhbXMuaWQ7XG4gICAgY29uc3QgcHJvZHVjdCA9IGF3YWl0IFByb2R1Y3QuZmluZEJ5SWQocHJvZHVjdElkKTtcbiAgICBpZiAocHJvZHVjdCkge1xuICAgICAgcHJvZHVjdC5uYW1lID0gcmVxLmJvZHkubmFtZTtcbiAgICAgIHByb2R1Y3QucHJpY2UgPSByZXEuYm9keS5wcmljZTtcbiAgICAgIHByb2R1Y3QuaW1hZ2UgPSByZXEuYm9keS5pbWFnZTtcbiAgICAgIHByb2R1Y3QuY2F0ZWdvcnkgPSByZXEuYm9keS5jYXRlZ29yeTtcbiAgICAgIHByb2R1Y3QuYnJhbmQgPSByZXEuYm9keS5icmFuZDtcbiAgICAgIHByb2R1Y3QuY291bnRJblN0b2NrID0gcmVxLmJvZHkuY291bnRJblN0b2NrO1xuICAgICAgcHJvZHVjdC5kZXNjcmlwdGlvbiA9IHJlcS5ib2R5LmRlc2NyaXB0aW9uO1xuICAgICAgY29uc3QgdXBkYXRlZFByb2R1Y3QgPSBhd2FpdCBwcm9kdWN0LnNhdmUoKTtcbiAgICAgIHJlcy5zZW5kKHsgbWVzc2FnZTogJ1Byb2R1Y3QgVXBkYXRlZCcsIHByb2R1Y3Q6IHVwZGF0ZWRQcm9kdWN0IH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCh7IG1lc3NhZ2U6ICdQcm9kdWN0IE5vdCBGb3VuZCcgfSk7XG4gICAgfVxuICB9KVxuKTtcblxucHJvZHVjdFJvdXRlci5kZWxldGUoXG4gICcvOmlkJyxcbiAgaXNBdXRoLFxuICBpc0FkbWluLFxuICBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHByb2R1Y3QgPSBhd2FpdCBQcm9kdWN0LmZpbmRCeUlkKHJlcS5wYXJhbXMuaWQpO1xuICAgIGlmIChwcm9kdWN0KSB7XG4gICAgICBjb25zdCBkZWxldGVQcm9kdWN0ID0gYXdhaXQgcHJvZHVjdC5yZW1vdmUoKTtcbiAgICAgIHJlcy5zZW5kKHsgbWVzc2FnZTogJ1Byb2R1Y3QgRGVsZXRlZCcsIHByb2R1Y3Q6IGRlbGV0ZVByb2R1Y3QgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHsgbWVzc2FnZTogJ1Byb2R1Y3QgTm90IEZvdW5kJyB9KTtcbiAgICB9XG4gIH0pXG4pO1xuXG5leHBvcnQgZGVmYXVsdCBwcm9kdWN0Um91dGVyO1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "productRouter.js"
      ],
      "names": [
        "productRouter",
        "express",
        "Router",
        "get",
        "req",
        "res",
        "name",
        "query",
        "category",
        "seller",
        "order",
        "min",
        "Number",
        "max",
        "rating",
        "nameFilter",
        "$regex",
        "$options",
        "sellerFilter",
        "categoryFilter",
        "priceFilter",
        "price",
        "$gte",
        "$lte",
        "ratingFilter",
        "sortOrder",
        "_id",
        "products",
        "Product",
        "find",
        "populate",
        "sort",
        "send",
        "categories",
        "distinct",
        "createdProducts",
        "insertMany",
        "data",
        "product",
        "findById",
        "params",
        "id",
        "status",
        "message",
        "post",
        "isAuth",
        "isSellerOrAdmin",
        "Date",
        "now",
        "user",
        "image",
        "brand",
        "countInStock",
        "numReviews",
        "description",
        "createdProduct",
        "save",
        "put",
        "productId",
        "body",
        "updatedProduct",
        "delete",
        "isAdmin",
        "deleteProduct",
        "remove"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/luxeshop/backend/routes/",
      "sourcesContent": [
        "import express from 'express';\nimport expressAsyncHandler from 'express-async-handler';\nimport Product from '../schemas/productModel.js';\nimport { isAdmin, isAuth, isSellerOrAdmin } from '../utils.js';\n\nconst productRouter = express.Router();\n\nproductRouter.get(\n  '/',\n  expressAsyncHandler(async (req, res) => {\n    const name = req.query.name || '';\n    const category = req.query.category || '';\n    const seller = req.query.seller || '';\n    const order = req.query.order || '';\n    const min =\n      req.query.min && Number(req.query.min) !== 0 ? Number(req.query.min) : 0;\n    const max =\n      req.query.max && Number(req.query.max) !== 0 ? Number(req.query.max) : 0;\n    const rating =\n      req.query.rating && Number(req.query.rating) !== 0\n        ? Number(req.query.rating)\n        : 0;\n\n    const nameFilter = name ? { name: { $regex: name, $options: 'i' } } : {};\n    const sellerFilter = seller ? { seller } : {};\n    const categoryFilter = category ? { category } : {};\n    const priceFilter = min && max ? { price: { $gte: min, $lte: max } } : {};\n    const ratingFilter = rating ? { rating: { $gte: rating } } : {};\n    const sortOrder =\n      order === 'lowest'\n        ? { price: 1 }\n        : order === 'highest'\n        ? { price: -1 }\n        : order === 'toprated'\n        ? { rating: -1 }\n        : { _id: -1 };\n\n    const products = await Product.find({\n      ...sellerFilter,\n      ...nameFilter,\n      ...categoryFilter,\n      ...priceFilter,\n      ...ratingFilter,\n    })\n      .populate('seller', 'seller.name seller.logo')\n      .sort(sortOrder);\n    res.send(products);\n  })\n);\n\nproductRouter.get(\n  '/categories',\n  expressAsyncHandler(async (req, res) => {\n    const categories = await Product.find().distinct('category');\n    res.send(categories);\n  })\n);\n\nproductRouter.get(\n  '/seed',\n  expressAsyncHandler(async (req, res) => {\n    // await Product.remove({});\n    const createdProducts = await Product.insertMany(data.products);\n    res.send({ createdProducts });\n  })\n);\n\nproductRouter.get(\n  '/:id',\n  expressAsyncHandler(async (req, res) => {\n    const product = await Product.findById(req.params.id).populate(\n      'seller',\n      'seller.name seller.logo seller.rating seller.numReviews'\n    );\n    if (product) {\n      res.send(product);\n    } else {\n      res.status(404).send({ message: 'Product Not Found' });\n    }\n  })\n);\n\nproductRouter.post(\n  '/',\n  isAuth,\n  isSellerOrAdmin,\n  expressAsyncHandler(async (req, res) => {\n    const product = new Product({\n      name: 'sample name ' + Date.now(),\n      seller: req.user._id,\n      image: '/images/p1.jpg',\n      price: 0,\n      category: 'sample category',\n      brand: 'sample brand',\n      countInStock: 0,\n      rating: 0,\n      numReviews: 0,\n      description: 'sample description',\n    });\n    const createdProduct = await product.save();\n    res.send({ message: 'Product Created', product: createdProduct });\n  })\n);\nproductRouter.put(\n  '/:id',\n  isAuth,\n  isSellerOrAdmin,\n  expressAsyncHandler(async (req, res) => {\n    const productId = req.params.id;\n    const product = await Product.findById(productId);\n    if (product) {\n      product.name = req.body.name;\n      product.price = req.body.price;\n      product.image = req.body.image;\n      product.category = req.body.category;\n      product.brand = req.body.brand;\n      product.countInStock = req.body.countInStock;\n      product.description = req.body.description;\n      const updatedProduct = await product.save();\n      res.send({ message: 'Product Updated', product: updatedProduct });\n    } else {\n      res.status(404).send({ message: 'Product Not Found' });\n    }\n  })\n);\n\nproductRouter.delete(\n  '/:id',\n  isAuth,\n  isAdmin,\n  expressAsyncHandler(async (req, res) => {\n    const product = await Product.findById(req.params.id);\n    if (product) {\n      const deleteProduct = await product.remove();\n      res.send({ message: 'Product Deleted', product: deleteProduct });\n    } else {\n      res.status(404).send({ message: 'Product Not Found' });\n    }\n  })\n);\n\nexport default productRouter;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1607069250162
  },
  "{\"sourceRoot\":\"/Users/Me/Desktop/ReactProjects/luxeshop/backend/schemas/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/Me/Desktop/ReactProjects/luxeshop\",\"filename\":\"/Users/Me/Desktop/ReactProjects/luxeshop/backend/schemas/productModel.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/Me/Desktop/ReactProjects/luxeshop\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/luxeshop/backend/schemas/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/Me/Desktop/ReactProjects/luxeshop",
      "filename": "/Users/Me/Desktop/ReactProjects/luxeshop/backend/schemas/productModel.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/Me/Desktop/ReactProjects/luxeshop",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/Me/Desktop/ReactProjects/luxeshop/backend/schemas/productModel.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/Me/Desktop/ReactProjects/luxeshop/backend/schemas/productModel.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/Me/Desktop/ReactProjects/luxeshop/backend/schemas/",
        "sourceFileName": "productModel.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst productSchema = new _mongoose.default.Schema({\n  name: {\n    type: String,\n    required: true,\n    unique: true\n  },\n  seller: {\n    type: _mongoose.default.Schema.Types.ObjectID,\n    ref: 'User'\n  },\n  image: {\n    type: String,\n    required: true\n  },\n  brand: {\n    type: String,\n    required: true\n  },\n  category: {\n    type: String,\n    required: true\n  },\n  description: {\n    type: String,\n    required: true\n  },\n  price: {\n    type: Number,\n    required: true\n  },\n  countInStock: {\n    type: Number,\n    required: true\n  },\n  rating: {\n    type: Number,\n    required: true\n  },\n  numReviews: {\n    type: Number,\n    required: true\n  }\n}, {\n  timestamps: true\n});\n\nconst Product = _mongoose.default.model('Product', productSchema);\n\nvar _default = Product;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2R1Y3RNb2RlbC5qcyJdLCJuYW1lcyI6WyJwcm9kdWN0U2NoZW1hIiwibW9uZ29vc2UiLCJTY2hlbWEiLCJuYW1lIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwidW5pcXVlIiwic2VsbGVyIiwiVHlwZXMiLCJPYmplY3RJRCIsInJlZiIsImltYWdlIiwiYnJhbmQiLCJjYXRlZ29yeSIsImRlc2NyaXB0aW9uIiwicHJpY2UiLCJOdW1iZXIiLCJjb3VudEluU3RvY2siLCJyYXRpbmciLCJudW1SZXZpZXdzIiwidGltZXN0YW1wcyIsIlByb2R1Y3QiLCJtb2RlbCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7O0FBRUEsTUFBTUEsYUFBYSxHQUFHLElBQUlDLGtCQUFTQyxNQUFiLENBQ3BCO0FBQ0VDLEVBQUFBLElBQUksRUFBRTtBQUFFQyxJQUFBQSxJQUFJLEVBQUVDLE1BQVI7QUFBZ0JDLElBQUFBLFFBQVEsRUFBRSxJQUExQjtBQUFnQ0MsSUFBQUEsTUFBTSxFQUFFO0FBQXhDLEdBRFI7QUFFRUMsRUFBQUEsTUFBTSxFQUFFO0FBQUVKLElBQUFBLElBQUksRUFBRUgsa0JBQVNDLE1BQVQsQ0FBZ0JPLEtBQWhCLENBQXNCQyxRQUE5QjtBQUF3Q0MsSUFBQUEsR0FBRyxFQUFFO0FBQTdDLEdBRlY7QUFHRUMsRUFBQUEsS0FBSyxFQUFFO0FBQUVSLElBQUFBLElBQUksRUFBRUMsTUFBUjtBQUFnQkMsSUFBQUEsUUFBUSxFQUFFO0FBQTFCLEdBSFQ7QUFJRU8sRUFBQUEsS0FBSyxFQUFFO0FBQUVULElBQUFBLElBQUksRUFBRUMsTUFBUjtBQUFnQkMsSUFBQUEsUUFBUSxFQUFFO0FBQTFCLEdBSlQ7QUFLRVEsRUFBQUEsUUFBUSxFQUFFO0FBQUVWLElBQUFBLElBQUksRUFBRUMsTUFBUjtBQUFnQkMsSUFBQUEsUUFBUSxFQUFFO0FBQTFCLEdBTFo7QUFNRVMsRUFBQUEsV0FBVyxFQUFFO0FBQUVYLElBQUFBLElBQUksRUFBRUMsTUFBUjtBQUFnQkMsSUFBQUEsUUFBUSxFQUFFO0FBQTFCLEdBTmY7QUFPRVUsRUFBQUEsS0FBSyxFQUFFO0FBQUVaLElBQUFBLElBQUksRUFBRWEsTUFBUjtBQUFnQlgsSUFBQUEsUUFBUSxFQUFFO0FBQTFCLEdBUFQ7QUFRRVksRUFBQUEsWUFBWSxFQUFFO0FBQUVkLElBQUFBLElBQUksRUFBRWEsTUFBUjtBQUFnQlgsSUFBQUEsUUFBUSxFQUFFO0FBQTFCLEdBUmhCO0FBU0VhLEVBQUFBLE1BQU0sRUFBRTtBQUFFZixJQUFBQSxJQUFJLEVBQUVhLE1BQVI7QUFBZ0JYLElBQUFBLFFBQVEsRUFBRTtBQUExQixHQVRWO0FBVUVjLEVBQUFBLFVBQVUsRUFBRTtBQUFFaEIsSUFBQUEsSUFBSSxFQUFFYSxNQUFSO0FBQWdCWCxJQUFBQSxRQUFRLEVBQUU7QUFBMUI7QUFWZCxDQURvQixFQWFwQjtBQUNFZSxFQUFBQSxVQUFVLEVBQUU7QUFEZCxDQWJvQixDQUF0Qjs7QUFpQkEsTUFBTUMsT0FBTyxHQUFHckIsa0JBQVNzQixLQUFULENBQWUsU0FBZixFQUEwQnZCLGFBQTFCLENBQWhCOztlQUVlc0IsTyIsInNvdXJjZVJvb3QiOiIvVXNlcnMvTWUvRGVza3RvcC9SZWFjdFByb2plY3RzL2x1eGVzaG9wL2JhY2tlbmQvc2NoZW1hcy8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xuXG5jb25zdCBwcm9kdWN0U2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYShcbiAge1xuICAgIG5hbWU6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSwgdW5pcXVlOiB0cnVlIH0sXG4gICAgc2VsbGVyOiB7IHR5cGU6IG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5PYmplY3RJRCwgcmVmOiAnVXNlcicgfSxcbiAgICBpbWFnZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgYnJhbmQ6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgIGNhdGVnb3J5OiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICBkZXNjcmlwdGlvbjogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgcHJpY2U6IHsgdHlwZTogTnVtYmVyLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgIGNvdW50SW5TdG9jazogeyB0eXBlOiBOdW1iZXIsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgcmF0aW5nOiB7IHR5cGU6IE51bWJlciwgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICBudW1SZXZpZXdzOiB7IHR5cGU6IE51bWJlciwgcmVxdWlyZWQ6IHRydWUgfSxcbiAgfSxcbiAge1xuICAgIHRpbWVzdGFtcHM6IHRydWUsXG4gIH1cbik7XG5jb25zdCBQcm9kdWN0ID0gbW9uZ29vc2UubW9kZWwoJ1Byb2R1Y3QnLCBwcm9kdWN0U2NoZW1hKTtcblxuZXhwb3J0IGRlZmF1bHQgUHJvZHVjdDtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "productModel.js"
      ],
      "names": [
        "productSchema",
        "mongoose",
        "Schema",
        "name",
        "type",
        "String",
        "required",
        "unique",
        "seller",
        "Types",
        "ObjectID",
        "ref",
        "image",
        "brand",
        "category",
        "description",
        "price",
        "Number",
        "countInStock",
        "rating",
        "numReviews",
        "timestamps",
        "Product",
        "model"
      ],
      "mappings": ";;;;;;;AAAA;;;;AAEA,MAAMA,aAAa,GAAG,IAAIC,kBAASC,MAAb,CACpB;AACEC,EAAAA,IAAI,EAAE;AAAEC,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE,IAA1B;AAAgCC,IAAAA,MAAM,EAAE;AAAxC,GADR;AAEEC,EAAAA,MAAM,EAAE;AAAEJ,IAAAA,IAAI,EAAEH,kBAASC,MAAT,CAAgBO,KAAhB,CAAsBC,QAA9B;AAAwCC,IAAAA,GAAG,EAAE;AAA7C,GAFV;AAGEC,EAAAA,KAAK,EAAE;AAAER,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAHT;AAIEO,EAAAA,KAAK,EAAE;AAAET,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAJT;AAKEQ,EAAAA,QAAQ,EAAE;AAAEV,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GALZ;AAMES,EAAAA,WAAW,EAAE;AAAEX,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GANf;AAOEU,EAAAA,KAAK,EAAE;AAAEZ,IAAAA,IAAI,EAAEa,MAAR;AAAgBX,IAAAA,QAAQ,EAAE;AAA1B,GAPT;AAQEY,EAAAA,YAAY,EAAE;AAAEd,IAAAA,IAAI,EAAEa,MAAR;AAAgBX,IAAAA,QAAQ,EAAE;AAA1B,GARhB;AASEa,EAAAA,MAAM,EAAE;AAAEf,IAAAA,IAAI,EAAEa,MAAR;AAAgBX,IAAAA,QAAQ,EAAE;AAA1B,GATV;AAUEc,EAAAA,UAAU,EAAE;AAAEhB,IAAAA,IAAI,EAAEa,MAAR;AAAgBX,IAAAA,QAAQ,EAAE;AAA1B;AAVd,CADoB,EAapB;AACEe,EAAAA,UAAU,EAAE;AADd,CAboB,CAAtB;;AAiBA,MAAMC,OAAO,GAAGrB,kBAASsB,KAAT,CAAe,SAAf,EAA0BvB,aAA1B,CAAhB;;eAEesB,O",
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/luxeshop/backend/schemas/",
      "sourcesContent": [
        "import mongoose from 'mongoose';\n\nconst productSchema = new mongoose.Schema(\n  {\n    name: { type: String, required: true, unique: true },\n    seller: { type: mongoose.Schema.Types.ObjectID, ref: 'User' },\n    image: { type: String, required: true },\n    brand: { type: String, required: true },\n    category: { type: String, required: true },\n    description: { type: String, required: true },\n    price: { type: Number, required: true },\n    countInStock: { type: Number, required: true },\n    rating: { type: Number, required: true },\n    numReviews: { type: Number, required: true },\n  },\n  {\n    timestamps: true,\n  }\n);\nconst Product = mongoose.model('Product', productSchema);\n\nexport default Product;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1606412590000
  },
  "{\"sourceRoot\":\"/Users/Me/Desktop/ReactProjects/luxeshop/backend/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/Me/Desktop/ReactProjects/luxeshop\",\"filename\":\"/Users/Me/Desktop/ReactProjects/luxeshop/backend/utils.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/Me/Desktop/ReactProjects/luxeshop\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/luxeshop/backend/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/Me/Desktop/ReactProjects/luxeshop",
      "filename": "/Users/Me/Desktop/ReactProjects/luxeshop/backend/utils.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/Me/Desktop/ReactProjects/luxeshop",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/Me/Desktop/ReactProjects/luxeshop/backend/utils.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/Me/Desktop/ReactProjects/luxeshop/backend/utils.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/Me/Desktop/ReactProjects/luxeshop/backend/",
        "sourceFileName": "utils.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isSellerOrAdmin = exports.isSeller = exports.isAdmin = exports.isAuth = exports.generateToken = void 0;\n\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst generateToken = user => {\n  return _jsonwebtoken.default.sign({\n    _id: user._id,\n    name: user.name,\n    email: user.email,\n    isAdmin: user.isAdmin,\n    isSeller: user.isSeller\n  }, process.env.JWT_SECRET || 'somethingsecret', {\n    expiresIn: '30d'\n  });\n};\n\nexports.generateToken = generateToken;\n\nconst isAuth = (req, res, next) => {\n  const authorization = req.headers.authorization;\n\n  if (authorization) {\n    const token = authorization.slice(7, authorization.length); // Bearer XXXXXX\n\n    _jsonwebtoken.default.verify(token, process.env.JWT_SECRET || 'somethingsecret', (err, decode) => {\n      if (err) {\n        res.status(401).send({\n          message: 'Invalid Token'\n        });\n      } else {\n        req.user = decode;\n        next();\n      }\n    });\n  } else {\n    res.status(401).send({\n      message: 'No Token'\n    });\n  }\n};\n\nexports.isAuth = isAuth;\n\nconst isAdmin = (req, res, next) => {\n  if (req.user && req.user.isAdmin) {\n    next();\n  } else {\n    res.status(401).send({\n      message: 'Invalid Admin Token'\n    });\n  }\n};\n\nexports.isAdmin = isAdmin;\n\nconst isSeller = (req, res, next) => {\n  if (req.user && req.user.isSeller) {\n    next();\n  } else {\n    res.status(401).send({\n      message: 'Invalid Seller Token'\n    });\n  }\n};\n\nexports.isSeller = isSeller;\n\nconst isSellerOrAdmin = (req, res, next) => {\n  if (req.user && (req.user.isSeller || req.user.isAdmin)) {\n    next();\n  } else {\n    res.status(401).send({\n      message: 'Invalid Admin/Seller Token'\n    });\n  }\n};\n\nexports.isSellerOrAdmin = isSellerOrAdmin;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInV0aWxzLmpzIl0sIm5hbWVzIjpbImdlbmVyYXRlVG9rZW4iLCJ1c2VyIiwiand0Iiwic2lnbiIsIl9pZCIsIm5hbWUiLCJlbWFpbCIsImlzQWRtaW4iLCJpc1NlbGxlciIsInByb2Nlc3MiLCJlbnYiLCJKV1RfU0VDUkVUIiwiZXhwaXJlc0luIiwiaXNBdXRoIiwicmVxIiwicmVzIiwibmV4dCIsImF1dGhvcml6YXRpb24iLCJoZWFkZXJzIiwidG9rZW4iLCJzbGljZSIsImxlbmd0aCIsInZlcmlmeSIsImVyciIsImRlY29kZSIsInN0YXR1cyIsInNlbmQiLCJtZXNzYWdlIiwiaXNTZWxsZXJPckFkbWluIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7Ozs7QUFFTyxNQUFNQSxhQUFhLEdBQUlDLElBQUQsSUFBVTtBQUNyQyxTQUFPQyxzQkFBSUMsSUFBSixDQUNMO0FBQ0VDLElBQUFBLEdBQUcsRUFBRUgsSUFBSSxDQUFDRyxHQURaO0FBRUVDLElBQUFBLElBQUksRUFBRUosSUFBSSxDQUFDSSxJQUZiO0FBR0VDLElBQUFBLEtBQUssRUFBRUwsSUFBSSxDQUFDSyxLQUhkO0FBSUVDLElBQUFBLE9BQU8sRUFBRU4sSUFBSSxDQUFDTSxPQUpoQjtBQUtFQyxJQUFBQSxRQUFRLEVBQUVQLElBQUksQ0FBQ087QUFMakIsR0FESyxFQVFMQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsVUFBWixJQUEwQixpQkFSckIsRUFTTDtBQUNFQyxJQUFBQSxTQUFTLEVBQUU7QUFEYixHQVRLLENBQVA7QUFhRCxDQWRNOzs7O0FBZ0JBLE1BQU1DLE1BQU0sR0FBRyxDQUFDQyxHQUFELEVBQU1DLEdBQU4sRUFBV0MsSUFBWCxLQUFvQjtBQUN4QyxRQUFNQyxhQUFhLEdBQUdILEdBQUcsQ0FBQ0ksT0FBSixDQUFZRCxhQUFsQzs7QUFDQSxNQUFJQSxhQUFKLEVBQW1CO0FBQ2pCLFVBQU1FLEtBQUssR0FBR0YsYUFBYSxDQUFDRyxLQUFkLENBQW9CLENBQXBCLEVBQXVCSCxhQUFhLENBQUNJLE1BQXJDLENBQWQsQ0FEaUIsQ0FDMkM7O0FBQzVEbkIsMEJBQUlvQixNQUFKLENBQ0VILEtBREYsRUFFRVYsT0FBTyxDQUFDQyxHQUFSLENBQVlDLFVBQVosSUFBMEIsaUJBRjVCLEVBR0UsQ0FBQ1ksR0FBRCxFQUFNQyxNQUFOLEtBQWlCO0FBQ2YsVUFBSUQsR0FBSixFQUFTO0FBQ1BSLFFBQUFBLEdBQUcsQ0FBQ1UsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUVDLFVBQUFBLE9BQU8sRUFBRTtBQUFYLFNBQXJCO0FBQ0QsT0FGRCxNQUVPO0FBQ0xiLFFBQUFBLEdBQUcsQ0FBQ2IsSUFBSixHQUFXdUIsTUFBWDtBQUNBUixRQUFBQSxJQUFJO0FBQ0w7QUFDRixLQVZIO0FBWUQsR0FkRCxNQWNPO0FBQ0xELElBQUFBLEdBQUcsQ0FBQ1UsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUVDLE1BQUFBLE9BQU8sRUFBRTtBQUFYLEtBQXJCO0FBQ0Q7QUFDRixDQW5CTTs7OztBQW9CQSxNQUFNcEIsT0FBTyxHQUFHLENBQUNPLEdBQUQsRUFBTUMsR0FBTixFQUFXQyxJQUFYLEtBQW9CO0FBQ3pDLE1BQUlGLEdBQUcsQ0FBQ2IsSUFBSixJQUFZYSxHQUFHLENBQUNiLElBQUosQ0FBU00sT0FBekIsRUFBa0M7QUFDaENTLElBQUFBLElBQUk7QUFDTCxHQUZELE1BRU87QUFDTEQsSUFBQUEsR0FBRyxDQUFDVSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBRUMsTUFBQUEsT0FBTyxFQUFFO0FBQVgsS0FBckI7QUFDRDtBQUNGLENBTk07Ozs7QUFPQSxNQUFNbkIsUUFBUSxHQUFHLENBQUNNLEdBQUQsRUFBTUMsR0FBTixFQUFXQyxJQUFYLEtBQW9CO0FBQzFDLE1BQUlGLEdBQUcsQ0FBQ2IsSUFBSixJQUFZYSxHQUFHLENBQUNiLElBQUosQ0FBU08sUUFBekIsRUFBbUM7QUFDakNRLElBQUFBLElBQUk7QUFDTCxHQUZELE1BRU87QUFDTEQsSUFBQUEsR0FBRyxDQUFDVSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBRUMsTUFBQUEsT0FBTyxFQUFFO0FBQVgsS0FBckI7QUFDRDtBQUNGLENBTk07Ozs7QUFPQSxNQUFNQyxlQUFlLEdBQUcsQ0FBQ2QsR0FBRCxFQUFNQyxHQUFOLEVBQVdDLElBQVgsS0FBb0I7QUFDakQsTUFBSUYsR0FBRyxDQUFDYixJQUFKLEtBQWFhLEdBQUcsQ0FBQ2IsSUFBSixDQUFTTyxRQUFULElBQXFCTSxHQUFHLENBQUNiLElBQUosQ0FBU00sT0FBM0MsQ0FBSixFQUF5RDtBQUN2RFMsSUFBQUEsSUFBSTtBQUNMLEdBRkQsTUFFTztBQUNMRCxJQUFBQSxHQUFHLENBQUNVLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFFQyxNQUFBQSxPQUFPLEVBQUU7QUFBWCxLQUFyQjtBQUNEO0FBQ0YsQ0FOTSIsInNvdXJjZVJvb3QiOiIvVXNlcnMvTWUvRGVza3RvcC9SZWFjdFByb2plY3RzL2x1eGVzaG9wL2JhY2tlbmQvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGp3dCBmcm9tICdqc29ud2VidG9rZW4nO1xuXG5leHBvcnQgY29uc3QgZ2VuZXJhdGVUb2tlbiA9ICh1c2VyKSA9PiB7XG4gIHJldHVybiBqd3Quc2lnbihcbiAgICB7XG4gICAgICBfaWQ6IHVzZXIuX2lkLFxuICAgICAgbmFtZTogdXNlci5uYW1lLFxuICAgICAgZW1haWw6IHVzZXIuZW1haWwsXG4gICAgICBpc0FkbWluOiB1c2VyLmlzQWRtaW4sXG4gICAgICBpc1NlbGxlcjogdXNlci5pc1NlbGxlcixcbiAgICB9LFxuICAgIHByb2Nlc3MuZW52LkpXVF9TRUNSRVQgfHwgJ3NvbWV0aGluZ3NlY3JldCcsXG4gICAge1xuICAgICAgZXhwaXJlc0luOiAnMzBkJyxcbiAgICB9XG4gICk7XG59O1xuXG5leHBvcnQgY29uc3QgaXNBdXRoID0gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gIGNvbnN0IGF1dGhvcml6YXRpb24gPSByZXEuaGVhZGVycy5hdXRob3JpemF0aW9uO1xuICBpZiAoYXV0aG9yaXphdGlvbikge1xuICAgIGNvbnN0IHRva2VuID0gYXV0aG9yaXphdGlvbi5zbGljZSg3LCBhdXRob3JpemF0aW9uLmxlbmd0aCk7IC8vIEJlYXJlciBYWFhYWFhcbiAgICBqd3QudmVyaWZ5KFxuICAgICAgdG9rZW4sXG4gICAgICBwcm9jZXNzLmVudi5KV1RfU0VDUkVUIHx8ICdzb21ldGhpbmdzZWNyZXQnLFxuICAgICAgKGVyciwgZGVjb2RlKSA9PiB7XG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICByZXMuc3RhdHVzKDQwMSkuc2VuZCh7IG1lc3NhZ2U6ICdJbnZhbGlkIFRva2VuJyB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXEudXNlciA9IGRlY29kZTtcbiAgICAgICAgICBuZXh0KCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICApO1xuICB9IGVsc2Uge1xuICAgIHJlcy5zdGF0dXMoNDAxKS5zZW5kKHsgbWVzc2FnZTogJ05vIFRva2VuJyB9KTtcbiAgfVxufTtcbmV4cG9ydCBjb25zdCBpc0FkbWluID0gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gIGlmIChyZXEudXNlciAmJiByZXEudXNlci5pc0FkbWluKSB7XG4gICAgbmV4dCgpO1xuICB9IGVsc2Uge1xuICAgIHJlcy5zdGF0dXMoNDAxKS5zZW5kKHsgbWVzc2FnZTogJ0ludmFsaWQgQWRtaW4gVG9rZW4nIH0pO1xuICB9XG59O1xuZXhwb3J0IGNvbnN0IGlzU2VsbGVyID0gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gIGlmIChyZXEudXNlciAmJiByZXEudXNlci5pc1NlbGxlcikge1xuICAgIG5leHQoKTtcbiAgfSBlbHNlIHtcbiAgICByZXMuc3RhdHVzKDQwMSkuc2VuZCh7IG1lc3NhZ2U6ICdJbnZhbGlkIFNlbGxlciBUb2tlbicgfSk7XG4gIH1cbn07XG5leHBvcnQgY29uc3QgaXNTZWxsZXJPckFkbWluID0gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gIGlmIChyZXEudXNlciAmJiAocmVxLnVzZXIuaXNTZWxsZXIgfHwgcmVxLnVzZXIuaXNBZG1pbikpIHtcbiAgICBuZXh0KCk7XG4gIH0gZWxzZSB7XG4gICAgcmVzLnN0YXR1cyg0MDEpLnNlbmQoeyBtZXNzYWdlOiAnSW52YWxpZCBBZG1pbi9TZWxsZXIgVG9rZW4nIH0pO1xuICB9XG59O1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "utils.js"
      ],
      "names": [
        "generateToken",
        "user",
        "jwt",
        "sign",
        "_id",
        "name",
        "email",
        "isAdmin",
        "isSeller",
        "process",
        "env",
        "JWT_SECRET",
        "expiresIn",
        "isAuth",
        "req",
        "res",
        "next",
        "authorization",
        "headers",
        "token",
        "slice",
        "length",
        "verify",
        "err",
        "decode",
        "status",
        "send",
        "message",
        "isSellerOrAdmin"
      ],
      "mappings": ";;;;;;;AAAA;;;;AAEO,MAAMA,aAAa,GAAIC,IAAD,IAAU;AACrC,SAAOC,sBAAIC,IAAJ,CACL;AACEC,IAAAA,GAAG,EAAEH,IAAI,CAACG,GADZ;AAEEC,IAAAA,IAAI,EAAEJ,IAAI,CAACI,IAFb;AAGEC,IAAAA,KAAK,EAAEL,IAAI,CAACK,KAHd;AAIEC,IAAAA,OAAO,EAAEN,IAAI,CAACM,OAJhB;AAKEC,IAAAA,QAAQ,EAAEP,IAAI,CAACO;AALjB,GADK,EAQLC,OAAO,CAACC,GAAR,CAAYC,UAAZ,IAA0B,iBARrB,EASL;AACEC,IAAAA,SAAS,EAAE;AADb,GATK,CAAP;AAaD,CAdM;;;;AAgBA,MAAMC,MAAM,GAAG,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;AACxC,QAAMC,aAAa,GAAGH,GAAG,CAACI,OAAJ,CAAYD,aAAlC;;AACA,MAAIA,aAAJ,EAAmB;AACjB,UAAME,KAAK,GAAGF,aAAa,CAACG,KAAd,CAAoB,CAApB,EAAuBH,aAAa,CAACI,MAArC,CAAd,CADiB,CAC2C;;AAC5DnB,0BAAIoB,MAAJ,CACEH,KADF,EAEEV,OAAO,CAACC,GAAR,CAAYC,UAAZ,IAA0B,iBAF5B,EAGE,CAACY,GAAD,EAAMC,MAAN,KAAiB;AACf,UAAID,GAAJ,EAAS;AACPR,QAAAA,GAAG,CAACU,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,UAAAA,OAAO,EAAE;AAAX,SAArB;AACD,OAFD,MAEO;AACLb,QAAAA,GAAG,CAACb,IAAJ,GAAWuB,MAAX;AACAR,QAAAA,IAAI;AACL;AACF,KAVH;AAYD,GAdD,MAcO;AACLD,IAAAA,GAAG,CAACU,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,MAAAA,OAAO,EAAE;AAAX,KAArB;AACD;AACF,CAnBM;;;;AAoBA,MAAMpB,OAAO,GAAG,CAACO,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;AACzC,MAAIF,GAAG,CAACb,IAAJ,IAAYa,GAAG,CAACb,IAAJ,CAASM,OAAzB,EAAkC;AAChCS,IAAAA,IAAI;AACL,GAFD,MAEO;AACLD,IAAAA,GAAG,CAACU,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,MAAAA,OAAO,EAAE;AAAX,KAArB;AACD;AACF,CANM;;;;AAOA,MAAMnB,QAAQ,GAAG,CAACM,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;AAC1C,MAAIF,GAAG,CAACb,IAAJ,IAAYa,GAAG,CAACb,IAAJ,CAASO,QAAzB,EAAmC;AACjCQ,IAAAA,IAAI;AACL,GAFD,MAEO;AACLD,IAAAA,GAAG,CAACU,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,MAAAA,OAAO,EAAE;AAAX,KAArB;AACD;AACF,CANM;;;;AAOA,MAAMC,eAAe,GAAG,CAACd,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;AACjD,MAAIF,GAAG,CAACb,IAAJ,KAAaa,GAAG,CAACb,IAAJ,CAASO,QAAT,IAAqBM,GAAG,CAACb,IAAJ,CAASM,OAA3C,CAAJ,EAAyD;AACvDS,IAAAA,IAAI;AACL,GAFD,MAEO;AACLD,IAAAA,GAAG,CAACU,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,MAAAA,OAAO,EAAE;AAAX,KAArB;AACD;AACF,CANM",
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/luxeshop/backend/",
      "sourcesContent": [
        "import jwt from 'jsonwebtoken';\n\nexport const generateToken = (user) => {\n  return jwt.sign(\n    {\n      _id: user._id,\n      name: user.name,\n      email: user.email,\n      isAdmin: user.isAdmin,\n      isSeller: user.isSeller,\n    },\n    process.env.JWT_SECRET || 'somethingsecret',\n    {\n      expiresIn: '30d',\n    }\n  );\n};\n\nexport const isAuth = (req, res, next) => {\n  const authorization = req.headers.authorization;\n  if (authorization) {\n    const token = authorization.slice(7, authorization.length); // Bearer XXXXXX\n    jwt.verify(\n      token,\n      process.env.JWT_SECRET || 'somethingsecret',\n      (err, decode) => {\n        if (err) {\n          res.status(401).send({ message: 'Invalid Token' });\n        } else {\n          req.user = decode;\n          next();\n        }\n      }\n    );\n  } else {\n    res.status(401).send({ message: 'No Token' });\n  }\n};\nexport const isAdmin = (req, res, next) => {\n  if (req.user && req.user.isAdmin) {\n    next();\n  } else {\n    res.status(401).send({ message: 'Invalid Admin Token' });\n  }\n};\nexport const isSeller = (req, res, next) => {\n  if (req.user && req.user.isSeller) {\n    next();\n  } else {\n    res.status(401).send({ message: 'Invalid Seller Token' });\n  }\n};\nexport const isSellerOrAdmin = (req, res, next) => {\n  if (req.user && (req.user.isSeller || req.user.isAdmin)) {\n    next();\n  } else {\n    res.status(401).send({ message: 'Invalid Admin/Seller Token' });\n  }\n};\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1607065194363
  },
  "{\"sourceRoot\":\"/Users/Me/Desktop/ReactProjects/luxeshop/backend/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/Me/Desktop/ReactProjects/luxeshop\",\"filename\":\"/Users/Me/Desktop/ReactProjects/luxeshop/backend/routes/userRouter.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/Me/Desktop/ReactProjects/luxeshop\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/luxeshop/backend/routes/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/Me/Desktop/ReactProjects/luxeshop",
      "filename": "/Users/Me/Desktop/ReactProjects/luxeshop/backend/routes/userRouter.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/Me/Desktop/ReactProjects/luxeshop",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/Me/Desktop/ReactProjects/luxeshop/backend/routes/userRouter.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/Me/Desktop/ReactProjects/luxeshop/backend/routes/userRouter.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/Me/Desktop/ReactProjects/luxeshop/backend/routes/",
        "sourceFileName": "userRouter.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _expressAsyncHandler = _interopRequireDefault(require(\"express-async-handler\"));\n\nvar _bcryptjs = _interopRequireDefault(require(\"bcryptjs\"));\n\nvar _userModel = _interopRequireDefault(require(\"../schemas/userModel.js\"));\n\nvar _utils = require(\"../utils.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst userRouter = _express.default.Router();\n\nuserRouter.get('/top-sellers', (0, _expressAsyncHandler.default)(async (req, res) => {\n  const topSellers = await _userModel.default.find({\n    isSeller: true\n  }).sort({\n    'seller.rating': -1\n  }).limit(3);\n  res.send(topSellers);\n}));\nuserRouter.get('/seed', (0, _expressAsyncHandler.default)(async (req, res) => {\n  // await User.remove({});\n  const createdUsers = await _userModel.default.insertMany(data.users);\n  res.send({\n    createdUsers\n  });\n}));\nuserRouter.post('/signin', (0, _expressAsyncHandler.default)(async (req, res) => {\n  const user = await _userModel.default.findOne({\n    email: req.body.email\n  });\n\n  if (user) {\n    if (_bcryptjs.default.compareSync(req.body.password, user.password)) {\n      res.send({\n        _id: user._id,\n        name: user.name,\n        email: user.email,\n        isAdmin: user.isAdmin,\n        isSeller: user.isSeller,\n        token: (0, _utils.generateToken)(user)\n      });\n      return;\n    }\n  }\n\n  res.status(401).send({\n    message: 'Invalid email or password'\n  });\n}));\nuserRouter.post('/register', (0, _expressAsyncHandler.default)(async (req, res) => {\n  const user = new _userModel.default({\n    name: req.body.name,\n    email: req.body.email,\n    password: _bcryptjs.default.hashSync(req.body.password, 8)\n  });\n  const createdUser = await user.save();\n  res.send({\n    _id: createdUser._id,\n    name: createdUser.name,\n    email: createdUser.email,\n    isAdmin: createdUser.isAdmin,\n    isSeller: user.isSeller,\n    token: (0, _utils.generateToken)(createdUser)\n  });\n}));\nuserRouter.get('/:id', (0, _expressAsyncHandler.default)(async (req, res) => {\n  const user = await _userModel.default.findById(req.params.id);\n\n  if (user) {\n    res.send(user);\n  } else {\n    res.status(404).send({\n      message: 'User Not Found'\n    });\n  }\n}));\nuserRouter.put('/profile', _utils.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const user = await _userModel.default.findById(req.user._id);\n\n  if (user) {\n    user.name = req.body.name || user.name;\n    user.email = req.body.email || user.email;\n\n    if (user.isSeller) {\n      user.seller.name = req.body.sellerName || user.seller.name;\n      user.seller.logo = req.body.sellerLogo || user.seller.logo;\n      user.seller.description = req.body.sellerDescription || user.seller.description;\n    }\n\n    if (req.body.password) {\n      user.password = _bcryptjs.default.hashSync(req.body.password, 8);\n    }\n\n    const updatedUser = await user.save();\n    res.send({\n      _id: updatedUser._id,\n      name: updatedUser.name,\n      email: updatedUser.email,\n      isAdmin: updatedUser.isAdmin,\n      isSeller: user.isSeller,\n      token: (0, _utils.generateToken)(updatedUser)\n    });\n  }\n}));\nuserRouter.get('/', _utils.isAuth, _utils.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const users = await _userModel.default.find({});\n  res.send(users);\n}));\nuserRouter.delete('/:id', _utils.isAuth, _utils.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const user = await _userModel.default.findById(req.params.id);\n\n  if (user) {\n    if (user.email === 'admin@example.com') {\n      res.status(400).send({\n        message: 'Can Not Delete Admin User'\n      });\n      return;\n    }\n\n    const deleteUser = await user.remove();\n    res.send({\n      message: 'User Deleted',\n      user: deleteUser\n    });\n  } else {\n    res.status(404).send({\n      message: 'User Not Found'\n    });\n  }\n}));\nuserRouter.put('/:id', _utils.isAuth, _utils.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const user = await _userModel.default.findById(req.params.id);\n\n  if (user) {\n    user.name = req.body.name || user.name;\n    user.email = req.body.email || user.email;\n    user.isSeller = req.body.isSeller || user.isSeller;\n    user.isAdmin = req.body.isAdmin || user.isAdmin;\n    const updatedUser = await user.save();\n    res.send({\n      message: 'User Updated',\n      user: updatedUser\n    });\n  } else {\n    res.status(404).send({\n      message: 'User Not Found'\n    });\n  }\n}));\nvar _default = userRouter;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJSb3V0ZXIuanMiXSwibmFtZXMiOlsidXNlclJvdXRlciIsImV4cHJlc3MiLCJSb3V0ZXIiLCJnZXQiLCJyZXEiLCJyZXMiLCJ0b3BTZWxsZXJzIiwiVXNlciIsImZpbmQiLCJpc1NlbGxlciIsInNvcnQiLCJsaW1pdCIsInNlbmQiLCJjcmVhdGVkVXNlcnMiLCJpbnNlcnRNYW55IiwiZGF0YSIsInVzZXJzIiwicG9zdCIsInVzZXIiLCJmaW5kT25lIiwiZW1haWwiLCJib2R5IiwiYmNyeXB0IiwiY29tcGFyZVN5bmMiLCJwYXNzd29yZCIsIl9pZCIsIm5hbWUiLCJpc0FkbWluIiwidG9rZW4iLCJzdGF0dXMiLCJtZXNzYWdlIiwiaGFzaFN5bmMiLCJjcmVhdGVkVXNlciIsInNhdmUiLCJmaW5kQnlJZCIsInBhcmFtcyIsImlkIiwicHV0IiwiaXNBdXRoIiwic2VsbGVyIiwic2VsbGVyTmFtZSIsImxvZ28iLCJzZWxsZXJMb2dvIiwiZGVzY3JpcHRpb24iLCJzZWxsZXJEZXNjcmlwdGlvbiIsInVwZGF0ZWRVc2VyIiwiZGVsZXRlIiwiZGVsZXRlVXNlciIsInJlbW92ZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOzs7O0FBRUEsTUFBTUEsVUFBVSxHQUFHQyxpQkFBUUMsTUFBUixFQUFuQjs7QUFFQUYsVUFBVSxDQUFDRyxHQUFYLENBQ0UsY0FERixFQUVFLGtDQUFvQixPQUFPQyxHQUFQLEVBQVlDLEdBQVosS0FBb0I7QUFDdEMsUUFBTUMsVUFBVSxHQUFHLE1BQU1DLG1CQUFLQyxJQUFMLENBQVU7QUFBRUMsSUFBQUEsUUFBUSxFQUFFO0FBQVosR0FBVixFQUN0QkMsSUFEc0IsQ0FDakI7QUFBRSxxQkFBaUIsQ0FBQztBQUFwQixHQURpQixFQUV0QkMsS0FGc0IsQ0FFaEIsQ0FGZ0IsQ0FBekI7QUFHQU4sRUFBQUEsR0FBRyxDQUFDTyxJQUFKLENBQVNOLFVBQVQ7QUFDRCxDQUxELENBRkY7QUFVQU4s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QUFDUyxPQUFMLEdBQWV2QixHQUFHLENBQUNpQixJQUFKLENBQVNNLE9BQVQsSUFBb0JULElBQUksQ0FBQ1MsT0FBeEM7QUFDQSxVQUFNa0IsV0FBVyxHQUFHLE1BQU0zQixJQUFJLENBQUNlLElBQUwsRUFBMUI7QUFDQTVCLElBQUFBLEdBQUcsQ0FBQ08sSUFBSixDQUFTO0FBQUVrQixNQUFBQSxPQUFPLEVBQUUsY0FBWDtBQUEyQlosTUFBQUEsSUFBSSxFQUFFMkI7QUFBakMsS0FBVDtBQUNELEdBUEQsTUFPTztBQUNMeEMsSUFBQUEsR0FBRyxDQUFDd0IsTUFBSixDQUFXLEdBQVgsRUFBZ0JqQixJQUFoQixDQUFxQjtBQUFFa0IsTUFBQUEsT0FBTyxFQUFFO0FBQVgsS0FBckI7QUFDRDtBQUNGLENBWkQsQ0FKRjtlQW9CZTlCLFUiLCJzb3VyY2VSb290IjoiL1VzZXJzL01lL0Rlc2t0b3AvUmVhY3RQcm9qZWN0cy9sdXhlc2hvcC9iYWNrZW5kL3JvdXRlcy8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcbmltcG9ydCBleHByZXNzQXN5bmNIYW5kbGVyIGZyb20gJ2V4cHJlc3MtYXN5bmMtaGFuZGxlcic7XG5pbXBvcnQgYmNyeXB0IGZyb20gJ2JjcnlwdGpzJztcbmltcG9ydCBVc2VyIGZyb20gJy4uL3NjaGVtYXMvdXNlck1vZGVsLmpzJztcbmltcG9ydCB7IGdlbmVyYXRlVG9rZW4sIGlzQWRtaW4sIGlzQXV0aCB9IGZyb20gJy4uL3V0aWxzLmpzJztcblxuY29uc3QgdXNlclJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5cbnVzZXJSb3V0ZXIuZ2V0KFxuICAnL3RvcC1zZWxsZXJzJyxcbiAgZXhwcmVzc0FzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCB0b3BTZWxsZXJzID0gYXdhaXQgVXNlci5maW5kKHsgaXNTZWxsZXI6IHRydWUgfSlcbiAgICAgIC5zb3J0KHsgJ3NlbGxlci5yYXRpbmcnOiAtMSB9KVxuICAgICAgLmxpbWl0KDMpO1xuICAgIHJlcy5zZW5kKHRvcFNlbGxlcnMpO1xuICB9KVxuKTtcblxudXNlclJvdXRlci5nZXQoXG4gICcvc2VlZCcsXG4gIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgLy8gYXdhaXQgVXNlci5yZW1vdmUoe30pO1xuICAgIGNvbnN0IGNyZWF0ZWRVc2VycyA9IGF3YWl0IFVzZXIuaW5zZXJ0TWFueShkYXRhLnVzZXJzKTtcbiAgICByZXMuc2VuZCh7IGNyZWF0ZWRVc2VycyB9KTtcbiAgfSlcbik7XG5cbnVzZXJSb3V0ZXIucG9zdChcbiAgJy9zaWduaW4nLFxuICBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyLmZpbmRPbmUoeyBlbWFpbDogcmVxLmJvZHkuZW1haWwgfSk7XG4gICAgaWYgKHVzZXIpIHtcbiAgICAgIGlmIChiY3J5cHQuY29tcGFyZVN5bmMocmVxLmJvZHkucGFzc3dvcmQsIHVzZXIucGFzc3dvcmQpKSB7XG4gICAgICAgIHJlcy5zZW5kKHtcbiAgICAgICAgICBfaWQ6IHVzZXIuX2lkLFxuICAgICAgICAgIG5hbWU6IHVzZXIubmFtZSxcbiAgICAgICAgICBlbWFpbDogdXNlci5lbWFpbCxcbiAgICAgICAgICBpc0FkbWluOiB1c2VyLmlzQWRtaW4sXG4gICAgICAgICAgaXNTZWxsZXI6IHVzZXIuaXNTZWxsZXIsXG4gICAgICAgICAgdG9rZW46IGdlbmVyYXRlVG9rZW4odXNlciksXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICAgIHJlcy5zdGF0dXMoNDAxKS5zZW5kKHsgbWVzc2FnZTogJ0ludmFsaWQgZW1haWwgb3IgcGFzc3dvcmQnIH0pO1xuICB9KVxuKTtcblxudXNlclJvdXRlci5wb3N0KFxuICAnL3JlZ2lzdGVyJyxcbiAgZXhwcmVzc0FzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCB1c2VyID0gbmV3IFVzZXIoe1xuICAgICAgbmFtZTogcmVxLmJvZHkubmFtZSxcbiAgICAgIGVtYWlsOiByZXEuYm9keS5lbWFpbCxcbiAgICAgIHBhc3N3b3JkOiBiY3J5cHQuaGFzaFN5bmMocmVxLmJvZHkucGFzc3dvcmQsIDgpLFxuICAgIH0pO1xuICAgIGNvbnN0IGNyZWF0ZWRVc2VyID0gYXdhaXQgdXNlci5zYXZlKCk7XG4gICAgcmVzLnNlbmQoe1xuICAgICAgX2lkOiBjcmVhdGVkVXNlci5faWQsXG4gICAgICBuYW1lOiBjcmVhdGVkVXNlci5uYW1lLFxuICAgICAgZW1haWw6IGNyZWF0ZWRVc2VyLmVtYWlsLFxuICAgICAgaXNBZG1pbjogY3JlYXRlZFVzZXIuaXNBZG1pbixcbiAgICAgIGlzU2VsbGVyOiB1c2VyLmlzU2VsbGVyLFxuICAgICAgdG9rZW46IGdlbmVyYXRlVG9rZW4oY3JlYXRlZFVzZXIpLFxuICAgIH0pO1xuICB9KVxuKTtcblxudXNlclJvdXRlci5nZXQoXG4gICcvOmlkJyxcbiAgZXhwcmVzc0FzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5maW5kQnlJZChyZXEucGFyYW1zLmlkKTtcbiAgICBpZiAodXNlcikge1xuICAgICAgcmVzLnNlbmQodXNlcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHsgbWVzc2FnZTogJ1VzZXIgTm90IEZvdW5kJyB9KTtcbiAgICB9XG4gIH0pXG4pO1xudXNlclJvdXRlci5wdXQoXG4gICcvcHJvZmlsZScsXG4gIGlzQXV0aCxcbiAgZXhwcmVzc0FzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5maW5kQnlJZChyZXEudXNlci5faWQpO1xuICAgIGlmICh1c2VyKSB7XG4gICAgICB1c2VyLm5hbWUgPSByZXEuYm9keS5uYW1lIHx8IHVzZXIubmFtZTtcbiAgICAgIHVzZXIuZW1haWwgPSByZXEuYm9keS5lbWFpbCB8fCB1c2VyLmVtYWlsO1xuICAgICAgaWYgKHVzZXIuaXNTZWxsZXIpIHtcbiAgICAgICAgdXNlci5zZWxsZXIubmFtZSA9IHJlcS5ib2R5LnNlbGxlck5hbWUgfHwgdXNlci5zZWxsZXIubmFtZTtcbiAgICAgICAgdXNlci5zZWxsZXIubG9nbyA9IHJlcS5ib2R5LnNlbGxlckxvZ28gfHwgdXNlci5zZWxsZXIubG9nbztcbiAgICAgICAgdXNlci5zZWxsZXIuZGVzY3JpcHRpb24gPVxuICAgICAgICAgIHJlcS5ib2R5LnNlbGxlckRlc2NyaXB0aW9uIHx8IHVzZXIuc2VsbGVyLmRlc2NyaXB0aW9uO1xuICAgICAgfVxuICAgICAgaWYgKHJlcS5ib2R5LnBhc3N3b3JkKSB7XG4gICAgICAgIHVzZXIucGFzc3dvcmQgPSBiY3J5cHQuaGFzaFN5bmMocmVxLmJvZHkucGFzc3dvcmQsIDgpO1xuICAgICAgfVxuICAgICAgY29uc3QgdXBkYXRlZFVzZXIgPSBhd2FpdCB1c2VyLnNhdmUoKTtcbiAgICAgIHJlcy5zZW5kKHtcbiAgICAgICAgX2lkOiB1cGRhdGVkVXNlci5faWQsXG4gICAgICAgIG5hbWU6IHVwZGF0ZWRVc2VyLm5hbWUsXG4gICAgICAgIGVtYWlsOiB1cGRhdGVkVXNlci5lbWFpbCxcbiAgICAgICAgaXNBZG1pbjogdXBkYXRlZFVzZXIuaXNBZG1pbixcbiAgICAgICAgaXNTZWxsZXI6IHVzZXIuaXNTZWxsZXIsXG4gICAgICAgIHRva2VuOiBnZW5lcmF0ZVRva2VuKHVwZGF0ZWRVc2VyKSxcbiAgICAgIH0pO1xuICAgIH1cbiAgfSlcbik7XG5cbnVzZXJSb3V0ZXIuZ2V0KFxuICAnLycsXG4gIGlzQXV0aCxcbiAgaXNBZG1pbixcbiAgZXhwcmVzc0FzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCB1c2VycyA9IGF3YWl0IFVzZXIuZmluZCh7fSk7XG4gICAgcmVzLnNlbmQodXNlcnMpO1xuICB9KVxuKTtcblxudXNlclJvdXRlci5kZWxldGUoXG4gICcvOmlkJyxcbiAgaXNBdXRoLFxuICBpc0FkbWluLFxuICBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyLmZpbmRCeUlkKHJlcS5wYXJhbXMuaWQpO1xuICAgIGlmICh1c2VyKSB7XG4gICAgICBpZiAodXNlci5lbWFpbCA9PT0gJ2FkbWluQGV4YW1wbGUuY29tJykge1xuICAgICAgICByZXMuc3RhdHVzKDQwMCkuc2VuZCh7IG1lc3NhZ2U6ICdDYW4gTm90IERlbGV0ZSBBZG1pbiBVc2VyJyB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgZGVsZXRlVXNlciA9IGF3YWl0IHVzZXIucmVtb3ZlKCk7XG4gICAgICByZXMuc2VuZCh7IG1lc3NhZ2U6ICdVc2VyIERlbGV0ZWQnLCB1c2VyOiBkZWxldGVVc2VyIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCh7IG1lc3NhZ2U6ICdVc2VyIE5vdCBGb3VuZCcgfSk7XG4gICAgfVxuICB9KVxuKTtcblxudXNlclJvdXRlci5wdXQoXG4gICcvOmlkJyxcbiAgaXNBdXRoLFxuICBpc0FkbWluLFxuICBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyLmZpbmRCeUlkKHJlcS5wYXJhbXMuaWQpO1xuICAgIGlmICh1c2VyKSB7XG4gICAgICB1c2VyLm5hbWUgPSByZXEuYm9keS5uYW1lIHx8IHVzZXIubmFtZTtcbiAgICAgIHVzZXIuZW1haWwgPSByZXEuYm9keS5lbWFpbCB8fCB1c2VyLmVtYWlsO1xuICAgICAgdXNlci5pc1NlbGxlciA9IHJlcS5ib2R5LmlzU2VsbGVyIHx8IHVzZXIuaXNTZWxsZXI7XG4gICAgICB1c2VyLmlzQWRtaW4gPSByZXEuYm9keS5pc0FkbWluIHx8IHVzZXIuaXNBZG1pbjtcbiAgICAgIGNvbnN0IHVwZGF0ZWRVc2VyID0gYXdhaXQgdXNlci5zYXZlKCk7XG4gICAgICByZXMuc2VuZCh7IG1lc3NhZ2U6ICdVc2VyIFVwZGF0ZWQnLCB1c2VyOiB1cGRhdGVkVXNlciB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoeyBtZXNzYWdlOiAnVXNlciBOb3QgRm91bmQnIH0pO1xuICAgIH1cbiAgfSlcbik7XG5cblxuZXhwb3J0IGRlZmF1bHQgdXNlclJvdXRlcjtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "userRouter.js"
      ],
      "names": [
        "userRouter",
        "express",
        "Router",
        "get",
        "req",
        "res",
        "topSellers",
        "User",
        "find",
        "isSeller",
        "sort",
        "limit",
        "send",
        "createdUsers",
        "insertMany",
        "data",
        "users",
        "post",
        "user",
        "findOne",
        "email",
        "body",
        "bcrypt",
        "compareSync",
        "password",
        "_id",
        "name",
        "isAdmin",
        "token",
        "status",
        "message",
        "hashSync",
        "createdUser",
        "save",
        "findById",
        "params",
        "id",
        "put",
        "isAuth",
        "seller",
        "sellerName",
        "logo",
        "sellerLogo",
        "description",
        "sellerDescription",
        "updatedUser",
        "delete",
        "deleteUser",
        "remove"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;;;AAEA,MAAMA,UAAU,GAAGC,iBAAQC,MAAR,EAAnB;;AAEAF,UAAU,CAACG,GAAX,CACE,cADF,EAEE,kCAAoB,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AACtC,QAAMC,UAAU,GAAG,MAAMC,mBAAKC,IAAL,CAAU;AAAEC,IAAAA,QAAQ,EAAE;AAAZ,GAAV,EACtBC,IADsB,CACjB;AAAE,qBAAiB,CAAC;AAApB,GADiB,EAEtBC,KAFsB,CAEhB,CAFgB,CAAzB;AAGAN,EAAAA,GAAG,CAACO,IAAJ,CAASN,UAAT;AACD,CALD,CAFF;AAUAN,UAAU,CAACG,GAAX,CACE,OADF,EAEE,kCAAoB,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AACtC;AACA,QAAMQ,YAAY,GAAG,MAAMN,mBAAKO,UAAL,CAAgBC,IAAI,CAACC,KAArB,CAA3B;AACAX,EAAAA,GAAG,CAACO,IAAJ,CAAS;AAAEC,IAAAA;AAAF,GAAT;AACD,CAJD,CAFF;AASAb,UAAU,CAACiB,IAAX,CACE,SADF,EAEE,kCAAoB,OAAOb,GAAP,EAAYC,GAAZ,KAAoB;AACtC,QAAMa,IAAI,GAAG,MAAMX,mBAAKY,OAAL,CAAa;AAAEC,IAAAA,KAAK,EAAEhB,GAAG,CAACiB,IAAJ,CAASD;AAAlB,GAAb,CAAnB;;AACA,MAAIF,IAAJ,EAAU;AACR,QAAII,kBAAOC,WAAP,CAAmBnB,GAAG,CAACiB,IAAJ,CAASG,QAA5B,EAAsCN,IAAI,CAACM,QAA3C,CAAJ,EAA0D;AACxDnB,MAAAA,GAAG,CAACO,IAAJ,CAAS;AACPa,QAAAA,GAAG,EAAEP,IAAI,CAACO,GADH;AAEPC,QAAAA,IAAI,EAAER,IAAI,CAACQ,IAFJ;AAGPN,QAAAA,KAAK,EAAEF,IAAI,CAACE,KAHL;AAIPO,QAAAA,OAAO,EAAET,IAAI,CAACS,OAJP;AAKPlB,QAAAA,QAAQ,EAAES,IAAI,CAACT,QALR;AAMPmB,QAAAA,KAAK,EAAE,0BAAcV,IAAd;AANA,OAAT;AAQA;AACD;AACF;;AACDb,EAAAA,GAAG,CAACwB,MAAJ,CAAW,GAAX,EAAgBjB,IAAhB,CAAqB;AAAEkB,IAAAA,OAAO,EAAE;AAAX,GAArB;AACD,CAhBD,CAFF;AAqBA9B,UAAU,CAACiB,IAAX,CACE,WADF,EAEE,kCAAoB,OAAOb,GAAP,EAAYC,GAAZ,KAAoB;AACtC,QAAMa,IAAI,GAAG,IAAIX,kBAAJ,CAAS;AACpBmB,IAAAA,IAAI,EAAEtB,GAAG,CAACiB,IAAJ,CAASK,IADK;AAEpBN,IAAAA,KAAK,EAAEhB,GAAG,CAACiB,IAAJ,CAASD,KAFI;AAGpBI,IAAAA,QAAQ,EAAEF,kBAAOS,QAAP,CAAgB3B,GAAG,CAACiB,IAAJ,CAASG,QAAzB,EAAmC,CAAnC;AAHU,GAAT,CAAb;AAKA,QAAMQ,WAAW,GAAG,MAAMd,IAAI,CAACe,IAAL,EAA1B;AACA5B,EAAAA,GAAG,CAACO,IAAJ,CAAS;AACPa,IAAAA,GAAG,EAAEO,WAAW,CAACP,GADV;AAEPC,IAAAA,IAAI,EAAEM,WAAW,CAACN,IAFX;AAGPN,IAAAA,KAAK,EAAEY,WAAW,CAACZ,KAHZ;AAIPO,IAAAA,OAAO,EAAEK,WAAW,CAACL,OAJd;AAKPlB,IAAAA,QAAQ,EAAES,IAAI,CAACT,QALR;AAMPmB,IAAAA,KAAK,EAAE,0BAAcI,WAAd;AANA,GAAT;AAQD,CAfD,CAFF;AAoBAhC,UAAU,CAACG,GAAX,CACE,MADF,EAEE,kCAAoB,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AACtC,QAAMa,IAAI,GAAG,MAAMX,mBAAK2B,QAAL,CAAc9B,GAAG,CAAC+B,MAAJ,CAAWC,EAAzB,CAAnB;;AACA,MAAIlB,IAAJ,EAAU;AACRb,IAAAA,GAAG,CAACO,IAAJ,CAASM,IAAT;AACD,GAFD,MAEO;AACLb,IAAAA,GAAG,CAACwB,MAAJ,CAAW,GAAX,EAAgBjB,IAAhB,CAAqB;AAAEkB,MAAAA,OAAO,EAAE;AAAX,KAArB;AACD;AACF,CAPD,CAFF;AAWA9B,UAAU,CAACqC,GAAX,CACE,UADF,EAEEC,aAFF,EAGE,kCAAoB,OAAOlC,GAAP,EAAYC,GAAZ,KAAoB;AACtC,QAAMa,IAAI,GAAG,MAAMX,mBAAK2B,QAAL,CAAc9B,GAAG,CAACc,IAAJ,CAASO,GAAvB,CAAnB;;AACA,MAAIP,IAAJ,EAAU;AACRA,IAAAA,IAAI,CAACQ,IAAL,GAAYtB,GAAG,CAACiB,IAAJ,CAASK,IAAT,IAAiBR,IAAI,CAACQ,IAAlC;AACAR,IAAAA,IAAI,CAACE,KAAL,GAAahB,GAAG,CAACiB,IAAJ,CAASD,KAAT,IAAkBF,IAAI,CAACE,KAApC;;AACA,QAAIF,IAAI,CAACT,QAAT,EAAmB;AACjBS,MAAAA,IAAI,CAACqB,MAAL,CAAYb,IAAZ,GAAmBtB,GAAG,CAACiB,IAAJ,CAASmB,UAAT,IAAuBtB,IAAI,CAACqB,MAAL,CAAYb,IAAtD;AACAR,MAAAA,IAAI,CAACqB,MAAL,CAAYE,IAAZ,GAAmBrC,GAAG,CAACiB,IAAJ,CAASqB,UAAT,IAAuBxB,IAAI,CAACqB,MAAL,CAAYE,IAAtD;AACAvB,MAAAA,IAAI,CAACqB,MAAL,CAAYI,WAAZ,GACEvC,GAAG,CAACiB,IAAJ,CAASuB,iBAAT,IAA8B1B,IAAI,CAACqB,MAAL,CAAYI,WAD5C;AAED;;AACD,QAAIvC,GAAG,CAACiB,IAAJ,CAASG,QAAb,EAAuB;AACrBN,MAAAA,IAAI,CAACM,QAAL,GAAgBF,kBAAOS,QAAP,CAAgB3B,GAAG,CAACiB,IAAJ,CAASG,QAAzB,EAAmC,CAAnC,CAAhB;AACD;;AACD,UAAMqB,WAAW,GAAG,MAAM3B,IAAI,CAACe,IAAL,EAA1B;AACA5B,IAAAA,GAAG,CAACO,IAAJ,CAAS;AACPa,MAAAA,GAAG,EAAEoB,WAAW,CAACpB,GADV;AAEPC,MAAAA,IAAI,EAAEmB,WAAW,CAACnB,IAFX;AAGPN,MAAAA,KAAK,EAAEyB,WAAW,CAACzB,KAHZ;AAIPO,MAAAA,OAAO,EAAEkB,WAAW,CAAClB,OAJd;AAKPlB,MAAAA,QAAQ,EAAES,IAAI,CAACT,QALR;AAMPmB,MAAAA,KAAK,EAAE,0BAAciB,WAAd;AANA,KAAT;AAQD;AACF,CAxBD,CAHF;AA8BA7C,UAAU,CAACG,GAAX,CACE,GADF,EAEEmC,aAFF,EAGEX,cAHF,EAIE,kCAAoB,OAAOvB,GAAP,EAAYC,GAAZ,KAAoB;AACtC,QAAMW,KAAK,GAAG,MAAMT,mBAAKC,IAAL,CAAU,EAAV,CAApB;AACAH,EAAAA,GAAG,CAACO,IAAJ,CAASI,KAAT;AACD,CAHD,CAJF;AAUAhB,UAAU,CAAC8C,MAAX,CACE,MADF,EAEER,aAFF,EAGEX,cAHF,EAIE,kCAAoB,OAAOvB,GAAP,EAAYC,GAAZ,KAAoB;AACtC,QAAMa,IAAI,GAAG,MAAMX,mBAAK2B,QAAL,CAAc9B,GAAG,CAAC+B,MAAJ,CAAWC,EAAzB,CAAnB;;AACA,MAAIlB,IAAJ,EAAU;AACR,QAAIA,IAAI,CAACE,KAAL,KAAe,mBAAnB,EAAwC;AACtCf,MAAAA,GAAG,CAACwB,MAAJ,CAAW,GAAX,EAAgBjB,IAAhB,CAAqB;AAAEkB,QAAAA,OAAO,EAAE;AAAX,OAArB;AACA;AACD;;AACD,UAAMiB,UAAU,GAAG,MAAM7B,IAAI,CAAC8B,MAAL,EAAzB;AACA3C,IAAAA,GAAG,CAACO,IAAJ,CAAS;AAAEkB,MAAAA,OAAO,EAAE,cAAX;AAA2BZ,MAAAA,IAAI,EAAE6B;AAAjC,KAAT;AACD,GAPD,MAOO;AACL1C,IAAAA,GAAG,CAACwB,MAAJ,CAAW,GAAX,EAAgBjB,IAAhB,CAAqB;AAAEkB,MAAAA,OAAO,EAAE;AAAX,KAArB;AACD;AACF,CAZD,CAJF;AAmBA9B,UAAU,CAACqC,GAAX,CACE,MADF,EAEEC,aAFF,EAGEX,cAHF,EAIE,kCAAoB,OAAOvB,GAAP,EAAYC,GAAZ,KAAoB;AACtC,QAAMa,IAAI,GAAG,MAAMX,mBAAK2B,QAAL,CAAc9B,GAAG,CAAC+B,MAAJ,CAAWC,EAAzB,CAAnB;;AACA,MAAIlB,IAAJ,EAAU;AACRA,IAAAA,IAAI,CAACQ,IAAL,GAAYtB,GAAG,CAACiB,IAAJ,CAASK,IAAT,IAAiBR,IAAI,CAACQ,IAAlC;AACAR,IAAAA,IAAI,CAACE,KAAL,GAAahB,GAAG,CAACiB,IAAJ,CAASD,KAAT,IAAkBF,IAAI,CAACE,KAApC;AACAF,IAAAA,IAAI,CAACT,QAAL,GAAgBL,GAAG,CAACiB,IAAJ,CAASZ,QAAT,IAAqBS,IAAI,CAACT,QAA1C;AACAS,IAAAA,IAAI,CAACS,OAAL,GAAevB,GAAG,CAACiB,IAAJ,CAASM,OAAT,IAAoBT,IAAI,CAACS,OAAxC;AACA,UAAMkB,WAAW,GAAG,MAAM3B,IAAI,CAACe,IAAL,EAA1B;AACA5B,IAAAA,GAAG,CAACO,IAAJ,CAAS;AAAEkB,MAAAA,OAAO,EAAE,cAAX;AAA2BZ,MAAAA,IAAI,EAAE2B;AAAjC,KAAT;AACD,GAPD,MAOO;AACLxC,IAAAA,GAAG,CAACwB,MAAJ,CAAW,GAAX,EAAgBjB,IAAhB,CAAqB;AAAEkB,MAAAA,OAAO,EAAE;AAAX,KAArB;AACD;AACF,CAZD,CAJF;eAoBe9B,U",
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/luxeshop/backend/routes/",
      "sourcesContent": [
        "import express from 'express';\nimport expressAsyncHandler from 'express-async-handler';\nimport bcrypt from 'bcryptjs';\nimport User from '../schemas/userModel.js';\nimport { generateToken, isAdmin, isAuth } from '../utils.js';\n\nconst userRouter = express.Router();\n\nuserRouter.get(\n  '/top-sellers',\n  expressAsyncHandler(async (req, res) => {\n    const topSellers = await User.find({ isSeller: true })\n      .sort({ 'seller.rating': -1 })\n      .limit(3);\n    res.send(topSellers);\n  })\n);\n\nuserRouter.get(\n  '/seed',\n  expressAsyncHandler(async (req, res) => {\n    // await User.remove({});\n    const createdUsers = await User.insertMany(data.users);\n    res.send({ createdUsers });\n  })\n);\n\nuserRouter.post(\n  '/signin',\n  expressAsyncHandler(async (req, res) => {\n    const user = await User.findOne({ email: req.body.email });\n    if (user) {\n      if (bcrypt.compareSync(req.body.password, user.password)) {\n        res.send({\n          _id: user._id,\n          name: user.name,\n          email: user.email,\n          isAdmin: user.isAdmin,\n          isSeller: user.isSeller,\n          token: generateToken(user),\n        });\n        return;\n      }\n    }\n    res.status(401).send({ message: 'Invalid email or password' });\n  })\n);\n\nuserRouter.post(\n  '/register',\n  expressAsyncHandler(async (req, res) => {\n    const user = new User({\n      name: req.body.name,\n      email: req.body.email,\n      password: bcrypt.hashSync(req.body.password, 8),\n    });\n    const createdUser = await user.save();\n    res.send({\n      _id: createdUser._id,\n      name: createdUser.name,\n      email: createdUser.email,\n      isAdmin: createdUser.isAdmin,\n      isSeller: user.isSeller,\n      token: generateToken(createdUser),\n    });\n  })\n);\n\nuserRouter.get(\n  '/:id',\n  expressAsyncHandler(async (req, res) => {\n    const user = await User.findById(req.params.id);\n    if (user) {\n      res.send(user);\n    } else {\n      res.status(404).send({ message: 'User Not Found' });\n    }\n  })\n);\nuserRouter.put(\n  '/profile',\n  isAuth,\n  expressAsyncHandler(async (req, res) => {\n    const user = await User.findById(req.user._id);\n    if (user) {\n      user.name = req.body.name || user.name;\n      user.email = req.body.email || user.email;\n      if (user.isSeller) {\n        user.seller.name = req.body.sellerName || user.seller.name;\n        user.seller.logo = req.body.sellerLogo || user.seller.logo;\n        user.seller.description =\n          req.body.sellerDescription || user.seller.description;\n      }\n      if (req.body.password) {\n        user.password = bcrypt.hashSync(req.body.password, 8);\n      }\n      const updatedUser = await user.save();\n      res.send({\n        _id: updatedUser._id,\n        name: updatedUser.name,\n        email: updatedUser.email,\n        isAdmin: updatedUser.isAdmin,\n        isSeller: user.isSeller,\n        token: generateToken(updatedUser),\n      });\n    }\n  })\n);\n\nuserRouter.get(\n  '/',\n  isAuth,\n  isAdmin,\n  expressAsyncHandler(async (req, res) => {\n    const users = await User.find({});\n    res.send(users);\n  })\n);\n\nuserRouter.delete(\n  '/:id',\n  isAuth,\n  isAdmin,\n  expressAsyncHandler(async (req, res) => {\n    const user = await User.findById(req.params.id);\n    if (user) {\n      if (user.email === 'admin@example.com') {\n        res.status(400).send({ message: 'Can Not Delete Admin User' });\n        return;\n      }\n      const deleteUser = await user.remove();\n      res.send({ message: 'User Deleted', user: deleteUser });\n    } else {\n      res.status(404).send({ message: 'User Not Found' });\n    }\n  })\n);\n\nuserRouter.put(\n  '/:id',\n  isAuth,\n  isAdmin,\n  expressAsyncHandler(async (req, res) => {\n    const user = await User.findById(req.params.id);\n    if (user) {\n      user.name = req.body.name || user.name;\n      user.email = req.body.email || user.email;\n      user.isSeller = req.body.isSeller || user.isSeller;\n      user.isAdmin = req.body.isAdmin || user.isAdmin;\n      const updatedUser = await user.save();\n      res.send({ message: 'User Updated', user: updatedUser });\n    } else {\n      res.status(404).send({ message: 'User Not Found' });\n    }\n  })\n);\n\n\nexport default userRouter;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1607069262783
  },
  "{\"sourceRoot\":\"/Users/Me/Desktop/ReactProjects/luxeshop/backend/schemas/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/Me/Desktop/ReactProjects/luxeshop\",\"filename\":\"/Users/Me/Desktop/ReactProjects/luxeshop/backend/schemas/userModel.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/Me/Desktop/ReactProjects/luxeshop\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/luxeshop/backend/schemas/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/Me/Desktop/ReactProjects/luxeshop",
      "filename": "/Users/Me/Desktop/ReactProjects/luxeshop/backend/schemas/userModel.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/Me/Desktop/ReactProjects/luxeshop",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/Me/Desktop/ReactProjects/luxeshop/backend/schemas/userModel.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/Me/Desktop/ReactProjects/luxeshop/backend/schemas/userModel.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/Me/Desktop/ReactProjects/luxeshop/backend/schemas/",
        "sourceFileName": "userModel.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst userSchema = new _mongoose.default.Schema({\n  name: {\n    type: String,\n    required: true\n  },\n  email: {\n    type: String,\n    required: true,\n    unique: true\n  },\n  password: {\n    type: String,\n    required: true\n  },\n  isAdmin: {\n    type: Boolean,\n    default: false,\n    required: true\n  },\n  isSeller: {\n    type: Boolean,\n    default: false,\n    required: true\n  },\n  seller: {\n    name: String,\n    logo: String,\n    description: String,\n    rating: {\n      type: Number,\n      default: 0,\n      required: true\n    },\n    numReviews: {\n      type: Number,\n      default: 0,\n      required: true\n    }\n  }\n}, {\n  timestamps: true\n});\n\nconst User = _mongoose.default.model('User', userSchema);\n\nvar _default = User;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJNb2RlbC5qcyJdLCJuYW1lcyI6WyJ1c2VyU2NoZW1hIiwibW9uZ29vc2UiLCJTY2hlbWEiLCJuYW1lIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwiZW1haWwiLCJ1bmlxdWUiLCJwYXNzd29yZCIsImlzQWRtaW4iLCJCb29sZWFuIiwiZGVmYXVsdCIsImlzU2VsbGVyIiwic2VsbGVyIiwibG9nbyIsImRlc2NyaXB0aW9uIiwicmF0aW5nIiwiTnVtYmVyIiwibnVtUmV2aWV3cyIsInRpbWVzdGFtcHMiLCJVc2VyIiwibW9kZWwiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7OztBQUVBLE1BQU1BLFVBQVUsR0FBRyxJQUFJQyxrQkFBU0MsTUFBYixDQUNqQjtBQUNFQyxFQUFBQSxJQUFJLEVBQUU7QUFBRUMsSUFBQUEsSUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxJQUFBQSxRQUFRLEVBQUU7QUFBMUIsR0FEUjtBQUVFQyxFQUFBQSxLQUFLLEVBQUU7QUFBRUgsSUFBQUEsSUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxJQUFBQSxRQUFRLEVBQUUsSUFBMUI7QUFBZ0NFLElBQUFBLE1BQU0sRUFBRTtBQUF4QyxHQUZUO0FBR0VDLEVBQUFBLFFBQVEsRUFBRTtBQUFFTCxJQUFBQSxJQUFJLEVBQUVDLE1BQVI7QUFBZ0JDLElBQUFBLFFBQVEsRUFBRTtBQUExQixHQUhaO0FBSUVJLEVBQUFBLE9BQU8sRUFBRTtBQUFFTixJQUFBQSxJQUFJLEVBQUVPLE9BQVI7QUFBaUJDLElBQUFBLE9BQU8sRUFBRSxLQUExQjtBQUFpQ04sSUFBQUEsUUFBUSxFQUFFO0FBQTNDLEdBSlg7QUFLRU8sRUFBQUEsUUFBUSxFQUFFO0FBQUVULElBQUFBLElBQUksRUFBRU8sT0FBUjtBQUFpQkMsSUFBQUEsT0FBTyxFQUFFLEtBQTFCO0FBQWlDTixJQUFBQSxRQUFRLEVBQUU7QUFBM0MsR0FMWjtBQU1FUSxFQUFBQSxNQUFNLEVBQUU7QUFDTlgsSUFBQUEsSUFBSSxFQUFFRSxNQURBO0FBRU5VLElBQUFBLElBQUksRUFBRVYsTUFGQTtBQUdOVyxJQUFBQSxXQUFXLEVBQUVYLE1BSFA7QUFJTlksSUFBQUEsTUFBTSxFQUFFO0FBQUViLE1BQUFBLElBQUksRUFBRWMsTUFBUjtBQUFnQk4sTUFBQUEsT0FBTyxFQUFFLENBQXpCO0FBQTRCTixNQUFBQSxRQUFRLEVBQUU7QUFBdEMsS0FKRjtBQUtOYSxJQUFBQSxVQUFVLEVBQUU7QUFBRWYsTUFBQUEsSUFBSSxFQUFFYyxNQUFSO0FBQWdCTixNQUFBQSxPQUFPLEVBQUUsQ0FBekI7QUFBNEJOLE1BQUFBLFFBQVEsRUFBRTtBQUF0QztBQUxOO0FBTlYsQ0FEaUIsRUFlakI7QUFDRWMsRUFBQUEsVUFBVSxFQUFFO0FBRGQsQ0FmaUIsQ0FBbkI7O0FBbUJBLE1BQU1DLElBQUksR0FBR3BCLGtCQUFTcUIsS0FBVCxDQUFlLE1BQWYsRUFBdUJ0QixVQUF2QixDQUFiOztlQUNlcUIsSSIsInNvdXJjZVJvb3QiOiIvVXNlcnMvTWUvRGVza3RvcC9SZWFjdFByb2plY3RzL2x1eGVzaG9wL2JhY2tlbmQvc2NoZW1hcy8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xuXG5jb25zdCB1c2VyU2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYShcbiAge1xuICAgIG5hbWU6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgIGVtYWlsOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUsIHVuaXF1ZTogdHJ1ZSB9LFxuICAgIHBhc3N3b3JkOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICBpc0FkbWluOiB7IHR5cGU6IEJvb2xlYW4sIGRlZmF1bHQ6IGZhbHNlLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgIGlzU2VsbGVyOiB7IHR5cGU6IEJvb2xlYW4sIGRlZmF1bHQ6IGZhbHNlLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgIHNlbGxlcjoge1xuICAgICAgbmFtZTogU3RyaW5nLFxuICAgICAgbG9nbzogU3RyaW5nLFxuICAgICAgZGVzY3JpcHRpb246IFN0cmluZyxcbiAgICAgIHJhdGluZzogeyB0eXBlOiBOdW1iZXIsIGRlZmF1bHQ6IDAsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgICBudW1SZXZpZXdzOiB7IHR5cGU6IE51bWJlciwgZGVmYXVsdDogMCwgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICB9LFxuICB9LFxuICB7XG4gICAgdGltZXN0YW1wczogdHJ1ZSxcbiAgfVxuKTtcbmNvbnN0IFVzZXIgPSBtb25nb29zZS5tb2RlbCgnVXNlcicsIHVzZXJTY2hlbWEpO1xuZXhwb3J0IGRlZmF1bHQgVXNlcjtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "userModel.js"
      ],
      "names": [
        "userSchema",
        "mongoose",
        "Schema",
        "name",
        "type",
        "String",
        "required",
        "email",
        "unique",
        "password",
        "isAdmin",
        "Boolean",
        "default",
        "isSeller",
        "seller",
        "logo",
        "description",
        "rating",
        "Number",
        "numReviews",
        "timestamps",
        "User",
        "model"
      ],
      "mappings": ";;;;;;;AAAA;;;;AAEA,MAAMA,UAAU,GAAG,IAAIC,kBAASC,MAAb,CACjB;AACEC,EAAAA,IAAI,EAAE;AAAEC,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GADR;AAEEC,EAAAA,KAAK,EAAE;AAAEH,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE,IAA1B;AAAgCE,IAAAA,MAAM,EAAE;AAAxC,GAFT;AAGEC,EAAAA,QAAQ,EAAE;AAAEL,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAHZ;AAIEI,EAAAA,OAAO,EAAE;AAAEN,IAAAA,IAAI,EAAEO,OAAR;AAAiBC,IAAAA,OAAO,EAAE,KAA1B;AAAiCN,IAAAA,QAAQ,EAAE;AAA3C,GAJX;AAKEO,EAAAA,QAAQ,EAAE;AAAET,IAAAA,IAAI,EAAEO,OAAR;AAAiBC,IAAAA,OAAO,EAAE,KAA1B;AAAiCN,IAAAA,QAAQ,EAAE;AAA3C,GALZ;AAMEQ,EAAAA,MAAM,EAAE;AACNX,IAAAA,IAAI,EAAEE,MADA;AAENU,IAAAA,IAAI,EAAEV,MAFA;AAGNW,IAAAA,WAAW,EAAEX,MAHP;AAINY,IAAAA,MAAM,EAAE;AAAEb,MAAAA,IAAI,EAAEc,MAAR;AAAgBN,MAAAA,OAAO,EAAE,CAAzB;AAA4BN,MAAAA,QAAQ,EAAE;AAAtC,KAJF;AAKNa,IAAAA,UAAU,EAAE;AAAEf,MAAAA,IAAI,EAAEc,MAAR;AAAgBN,MAAAA,OAAO,EAAE,CAAzB;AAA4BN,MAAAA,QAAQ,EAAE;AAAtC;AALN;AANV,CADiB,EAejB;AACEc,EAAAA,UAAU,EAAE;AADd,CAfiB,CAAnB;;AAmBA,MAAMC,IAAI,GAAGpB,kBAASqB,KAAT,CAAe,MAAf,EAAuBtB,UAAvB,CAAb;;eACeqB,I",
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/luxeshop/backend/schemas/",
      "sourcesContent": [
        "import mongoose from 'mongoose';\n\nconst userSchema = new mongoose.Schema(\n  {\n    name: { type: String, required: true },\n    email: { type: String, required: true, unique: true },\n    password: { type: String, required: true },\n    isAdmin: { type: Boolean, default: false, required: true },\n    isSeller: { type: Boolean, default: false, required: true },\n    seller: {\n      name: String,\n      logo: String,\n      description: String,\n      rating: { type: Number, default: 0, required: true },\n      numReviews: { type: Number, default: 0, required: true },\n    },\n  },\n  {\n    timestamps: true,\n  }\n);\nconst User = mongoose.model('User', userSchema);\nexport default User;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1606412590000
  },
  "{\"sourceRoot\":\"/Users/Me/Desktop/ReactProjects/luxeshop/backend/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/Me/Desktop/ReactProjects/luxeshop\",\"filename\":\"/Users/Me/Desktop/ReactProjects/luxeshop/backend/routes/orderRouter.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/Me/Desktop/ReactProjects/luxeshop\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/luxeshop/backend/routes/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/Me/Desktop/ReactProjects/luxeshop",
      "filename": "/Users/Me/Desktop/ReactProjects/luxeshop/backend/routes/orderRouter.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/Me/Desktop/ReactProjects/luxeshop",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/Me/Desktop/ReactProjects/luxeshop/backend/routes/orderRouter.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/Me/Desktop/ReactProjects/luxeshop/backend/routes/orderRouter.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/Me/Desktop/ReactProjects/luxeshop/backend/routes/",
        "sourceFileName": "orderRouter.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _expressAsyncHandler = _interopRequireDefault(require(\"express-async-handler\"));\n\nvar _orderModel = _interopRequireDefault(require(\"../schemas/orderModel.js\"));\n\nvar _utils = require(\"../utils.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst orderRouter = _express.default.Router();\n\norderRouter.get('/', _utils.isAuth, _utils.isSellerOrAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const seller = req.query.seller || '';\n  const sellerFilter = seller ? {\n    seller\n  } : {};\n  const orders = await _orderModel.default.find({ ...sellerFilter\n  }).populate('user', 'name');\n  res.send(orders);\n}));\norderRouter.get('/mine', _utils.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const orders = await _orderModel.default.find({\n    user: req.user._id\n  });\n  res.send(orders);\n}));\norderRouter.post('/', _utils.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  if (req.body.orderItems.length === 0) {\n    res.status(400).send({\n      message: 'Cart is empty'\n    });\n  } else {\n    const order = new _orderModel.default({\n      seller: req.body.orderItems[0].seller,\n      orderItems: req.body.orderItems,\n      shippingAddress: req.body.shippingAddress,\n      paymentMethod: req.body.paymentMethod,\n      itemsPrice: req.body.itemsPrice,\n      shippingPrice: req.body.shippingPrice,\n      taxPrice: req.body.taxPrice,\n      totalPrice: req.body.totalPrice,\n      user: req.user._id\n    });\n    const createdOrder = await order.save();\n    res.status(201).send({\n      message: 'New Order Created',\n      order: createdOrder\n    });\n  }\n}));\norderRouter.get('/:id', _utils.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const order = await _orderModel.default.findById(req.params.id);\n\n  if (order) {\n    res.send(order);\n  } else {\n    res.status(404).send({\n      message: 'Order Not Found'\n    });\n  }\n}));\norderRouter.put('/:id/pay', _utils.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const order = await _orderModel.default.findById(req.params.id);\n\n  if (order) {\n    order.isPaid = true;\n    order.paidAt = Date.now();\n    order.paymentResult = {\n      id: req.body.id,\n      status: req.body.status,\n      update_time: req.body.update_time,\n      email_address: req.body.email_address\n    };\n    const updatedOrder = await order.save();\n    res.send({\n      message: 'Order Paid',\n      order: updatedOrder\n    });\n  } else {\n    res.status(404).send({\n      message: 'Order Not Found'\n    });\n  }\n}));\norderRouter.delete('/:id', _utils.isAuth, _utils.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const order = await _orderModel.default.findById(req.params.id);\n\n  if (order) {\n    const deleteOrder = await order.remove();\n    res.send({\n      message: 'Order Deleted',\n      order: deleteOrder\n    });\n  } else {\n    res.status(404).send({\n      message: 'Order Not Found'\n    });\n  }\n}));\norderRouter.put('/:id/deliver', _utils.isAuth, _utils.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const order = await _orderModel.default.findById(req.params.id);\n\n  if (order) {\n    order.isDelivered = true;\n    order.deliveredAt = Date.now();\n    const updatedOrder = await order.save();\n    res.send({\n      message: 'Order Delivered',\n      order: updatedOrder\n    });\n  } else {\n    res.status(404).send({\n      message: 'Order Not Found'\n    });\n  }\n}));\nvar _default = orderRouter;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9yZGVyUm91dGVyLmpzIl0sIm5hbWVzIjpbIm9yZGVyUm91dGVyIiwiZXhwcmVzcyIsIlJvdXRlciIsImdldCIsImlzQXV0aCIsImlzU2VsbGVyT3JBZG1pbiIsInJlcSIsInJlcyIsInNlbGxlciIsInF1ZXJ5Iiwic2VsbGVyRmlsdGVyIiwib3JkZXJzIiwiT3JkZXIiLCJmaW5kIiwicG9wdWxhdGUiLCJzZW5kIiwidXNlciIsIl9pZCIsInBvc3QiLCJib2R5Iiwib3JkZXJJdGVtcyIsImxlbmd0aCIsInN0YXR1cyIsIm1lc3NhZ2UiLCJvcmRlciIsInNoaXBwaW5nQWRkcmVzcyIsInBheW1lbnRNZXRob2QiLCJpdGVtc1ByaWNlIiwic2hpcHBpbmdQcmljZSIsInRheFByaWNlIiwidG90YWxQcmljZSIsImNyZWF0ZWRPcmRlciIsInNhdmUiLCJmaW5kQnlJZCIsInBhcmFtcyIsImlkIiwicHV0IiwiaXNQYWlkIiwicGFpZEF0IiwiRGF0ZSIsIm5vdyIsInBheW1lbnRSZXN1bHQiLCJ1cGRhdGVfdGltZSIsImVtYWlsX2FkZHJlc3MiLCJ1cGRhdGVkT3JkZXIiLCJkZWxldGUiLCJpc0FkbWluIiwiZGVsZXRlT3JkZXIiLCJyZW1vdmUiLCJpc0RlbGl2ZXJlZCIsImRlbGl2ZXJlZEF0Il0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7QUFFQSxNQUFNQSxXQUFXLEdBQUdDLGlCQUFRQyxNQUFSLEVBQXBCOztBQUNBRixXQUFXLENBQUNHLEdBQVosQ0FDRSxHQURGLEVBRUVDLGFBRkYsRUFHRUMsc0JBSEYsRUFJRSxrQ0FBb0IsT0FBT0MsR0FBUCxFQUFZQyxHQUFaLEtBQW9CO0FBQ3RDLFFBQU1DLE1BQU0sR0FBR0YsR0FBRyxDQUFDRyxLQUFKLENBQVVELE1BQVYsSUFBb0IsRUFBbkM7QUFDQSxRQUFNRSxZQUFZLEdBQUdGLE1BQU0sR0FBRztBQUFFQSxJQUFBQTtBQUFGLEdBQUgsR0FBZ0IsRUFBM0M7QUFFQSxRQUFN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RixDQVhELENBSkY7ZUFrQmV2QixXIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9NZS9EZXNrdG9wL1JlYWN0UHJvamVjdHMvbHV4ZXNob3AvYmFja2VuZC9yb3V0ZXMvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgZXhwcmVzc0FzeW5jSGFuZGxlciBmcm9tICdleHByZXNzLWFzeW5jLWhhbmRsZXInO1xuaW1wb3J0IE9yZGVyIGZyb20gJy4uL3NjaGVtYXMvb3JkZXJNb2RlbC5qcyc7XG5pbXBvcnQgeyBpc0FkbWluLCBpc0F1dGgsIGlzU2VsbGVyT3JBZG1pbiB9IGZyb20gJy4uL3V0aWxzLmpzJztcblxuY29uc3Qgb3JkZXJSb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xub3JkZXJSb3V0ZXIuZ2V0KFxuICAnLycsXG4gIGlzQXV0aCxcbiAgaXNTZWxsZXJPckFkbWluLFxuICBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHNlbGxlciA9IHJlcS5xdWVyeS5zZWxsZXIgfHwgJyc7XG4gICAgY29uc3Qgc2VsbGVyRmlsdGVyID0gc2VsbGVyID8geyBzZWxsZXIgfSA6IHt9O1xuXG4gICAgY29uc3Qgb3JkZXJzID0gYXdhaXQgT3JkZXIuZmluZCh7IC4uLnNlbGxlckZpbHRlciB9KS5wb3B1bGF0ZShcbiAgICAgICd1c2VyJyxcbiAgICAgICduYW1lJ1xuICAgICk7XG4gICAgcmVzLnNlbmQob3JkZXJzKTtcbiAgfSlcbik7XG5vcmRlclJvdXRlci5nZXQoXG4gICcvbWluZScsXG4gIGlzQXV0aCxcbiAgZXhwcmVzc0FzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCBvcmRlcnMgPSBhd2FpdCBPcmRlci5maW5kKHsgdXNlcjogcmVxLnVzZXIuX2lkIH0pO1xuICAgIHJlcy5zZW5kKG9yZGVycyk7XG4gIH0pXG4pO1xuXG5vcmRlclJvdXRlci5wb3N0KFxuICAnLycsXG4gIGlzQXV0aCxcbiAgZXhwcmVzc0FzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBpZiAocmVxLmJvZHkub3JkZXJJdGVtcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJlcy5zdGF0dXMoNDAwKS5zZW5kKHsgbWVzc2FnZTogJ0NhcnQgaXMgZW1wdHknIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBvcmRlciA9IG5ldyBPcmRlcih7XG4gICAgICAgIHNlbGxlcjogcmVxLmJvZHkub3JkZXJJdGVtc1swXS5zZWxsZXIsXG4gICAgICAgIG9yZGVySXRlbXM6IHJlcS5ib2R5Lm9yZGVySXRlbXMsXG4gICAgICAgIHNoaXBwaW5nQWRkcmVzczogcmVxLmJvZHkuc2hpcHBpbmdBZGRyZXNzLFxuICAgICAgICBwYXltZW50TWV0aG9kOiByZXEuYm9keS5wYXltZW50TWV0aG9kLFxuICAgICAgICBpdGVtc1ByaWNlOiByZXEuYm9keS5pdGVtc1ByaWNlLFxuICAgICAgICBzaGlwcGluZ1ByaWNlOiByZXEuYm9keS5zaGlwcGluZ1ByaWNlLFxuICAgICAgICB0YXhQcmljZTogcmVxLmJvZHkudGF4UHJpY2UsXG4gICAgICAgIHRvdGFsUHJpY2U6IHJlcS5ib2R5LnRvdGFsUHJpY2UsXG4gICAgICAgIHVzZXI6IHJlcS51c2VyLl9pZCxcbiAgICAgIH0pO1xuICAgICAgY29uc3QgY3JlYXRlZE9yZGVyID0gYXdhaXQgb3JkZXIuc2F2ZSgpO1xuICAgICAgcmVzXG4gICAgICAgIC5zdGF0dXMoMjAxKVxuICAgICAgICAuc2VuZCh7IG1lc3NhZ2U6ICdOZXcgT3JkZXIgQ3JlYXRlZCcsIG9yZGVyOiBjcmVhdGVkT3JkZXIgfSk7XG4gICAgfVxuICB9KVxuKTtcblxub3JkZXJSb3V0ZXIuZ2V0KFxuICAnLzppZCcsXG4gIGlzQXV0aCxcbiAgZXhwcmVzc0FzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCBvcmRlciA9IGF3YWl0IE9yZGVyLmZpbmRCeUlkKHJlcS5wYXJhbXMuaWQpO1xuICAgIGlmIChvcmRlcikge1xuICAgICAgcmVzLnNlbmQob3JkZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCh7IG1lc3NhZ2U6ICdPcmRlciBOb3QgRm91bmQnIH0pO1xuICAgIH1cbiAgfSlcbik7XG5cbm9yZGVyUm91dGVyLnB1dChcbiAgJy86aWQvcGF5JyxcbiAgaXNBdXRoLFxuICBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IG9yZGVyID0gYXdhaXQgT3JkZXIuZmluZEJ5SWQocmVxLnBhcmFtcy5pZCk7XG4gICAgaWYgKG9yZGVyKSB7XG4gICAgICBvcmRlci5pc1BhaWQgPSB0cnVlO1xuICAgICAgb3JkZXIucGFpZEF0ID0gRGF0ZS5ub3coKTtcbiAgICAgIG9yZGVyLnBheW1lbnRSZXN1bHQgPSB7XG4gICAgICAgIGlkOiByZXEuYm9keS5pZCxcbiAgICAgICAgc3RhdHVzOiByZXEuYm9keS5zdGF0dXMsXG4gICAgICAgIHVwZGF0ZV90aW1lOiByZXEuYm9keS51cGRhdGVfdGltZSxcbiAgICAgICAgZW1haWxfYWRkcmVzczogcmVxLmJvZHkuZW1haWxfYWRkcmVzcyxcbiAgICAgIH07XG4gICAgICBjb25zdCB1cGRhdGVkT3JkZXIgPSBhd2FpdCBvcmRlci5zYXZlKCk7XG4gICAgICByZXMuc2VuZCh7IG1lc3NhZ2U6ICdPcmRlciBQYWlkJywgb3JkZXI6IHVwZGF0ZWRPcmRlciB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoeyBtZXNzYWdlOiAnT3JkZXIgTm90IEZvdW5kJyB9KTtcbiAgICB9XG4gIH0pXG4pO1xuXG5vcmRlclJvdXRlci5kZWxldGUoXG4gICcvOmlkJyxcbiAgaXNBdXRoLFxuICBpc0FkbWluLFxuICBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IG9yZGVyID0gYXdhaXQgT3JkZXIuZmluZEJ5SWQocmVxLnBhcmFtcy5pZCk7XG4gICAgaWYgKG9yZGVyKSB7XG4gICAgICBjb25zdCBkZWxldGVPcmRlciA9IGF3YWl0IG9yZGVyLnJlbW92ZSgpO1xuICAgICAgcmVzLnNlbmQoeyBtZXNzYWdlOiAnT3JkZXIgRGVsZXRlZCcsIG9yZGVyOiBkZWxldGVPcmRlciB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoeyBtZXNzYWdlOiAnT3JkZXIgTm90IEZvdW5kJyB9KTtcbiAgICB9XG4gIH0pXG4pO1xuXG5vcmRlclJvdXRlci5wdXQoXG4gICcvOmlkL2RlbGl2ZXInLFxuICBpc0F1dGgsXG4gIGlzQWRtaW4sXG4gIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc3Qgb3JkZXIgPSBhd2FpdCBPcmRlci5maW5kQnlJZChyZXEucGFyYW1zLmlkKTtcbiAgICBpZiAob3JkZXIpIHtcbiAgICAgIG9yZGVyLmlzRGVsaXZlcmVkID0gdHJ1ZTtcbiAgICAgIG9yZGVyLmRlbGl2ZXJlZEF0ID0gRGF0ZS5ub3coKTtcblxuICAgICAgY29uc3QgdXBkYXRlZE9yZGVyID0gYXdhaXQgb3JkZXIuc2F2ZSgpO1xuICAgICAgcmVzLnNlbmQoeyBtZXNzYWdlOiAnT3JkZXIgRGVsaXZlcmVkJywgb3JkZXI6IHVwZGF0ZWRPcmRlciB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoeyBtZXNzYWdlOiAnT3JkZXIgTm90IEZvdW5kJyB9KTtcbiAgICB9XG4gIH0pXG4pO1xuXG5leHBvcnQgZGVmYXVsdCBvcmRlclJvdXRlcjtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "orderRouter.js"
      ],
      "names": [
        "orderRouter",
        "express",
        "Router",
        "get",
        "isAuth",
        "isSellerOrAdmin",
        "req",
        "res",
        "seller",
        "query",
        "sellerFilter",
        "orders",
        "Order",
        "find",
        "populate",
        "send",
        "user",
        "_id",
        "post",
        "body",
        "orderItems",
        "length",
        "status",
        "message",
        "order",
        "shippingAddress",
        "paymentMethod",
        "itemsPrice",
        "shippingPrice",
        "taxPrice",
        "totalPrice",
        "createdOrder",
        "save",
        "findById",
        "params",
        "id",
        "put",
        "isPaid",
        "paidAt",
        "Date",
        "now",
        "paymentResult",
        "update_time",
        "email_address",
        "updatedOrder",
        "delete",
        "isAdmin",
        "deleteOrder",
        "remove",
        "isDelivered",
        "deliveredAt"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/luxeshop/backend/routes/",
      "sourcesContent": [
        "import express from 'express';\nimport expressAsyncHandler from 'express-async-handler';\nimport Order from '../schemas/orderModel.js';\nimport { isAdmin, isAuth, isSellerOrAdmin } from '../utils.js';\n\nconst orderRouter = express.Router();\norderRouter.get(\n  '/',\n  isAuth,\n  isSellerOrAdmin,\n  expressAsyncHandler(async (req, res) => {\n    const seller = req.query.seller || '';\n    const sellerFilter = seller ? { seller } : {};\n\n    const orders = await Order.find({ ...sellerFilter }).populate(\n      'user',\n      'name'\n    );\n    res.send(orders);\n  })\n);\norderRouter.get(\n  '/mine',\n  isAuth,\n  expressAsyncHandler(async (req, res) => {\n    const orders = await Order.find({ user: req.user._id });\n    res.send(orders);\n  })\n);\n\norderRouter.post(\n  '/',\n  isAuth,\n  expressAsyncHandler(async (req, res) => {\n    if (req.body.orderItems.length === 0) {\n      res.status(400).send({ message: 'Cart is empty' });\n    } else {\n      const order = new Order({\n        seller: req.body.orderItems[0].seller,\n        orderItems: req.body.orderItems,\n        shippingAddress: req.body.shippingAddress,\n        paymentMethod: req.body.paymentMethod,\n        itemsPrice: req.body.itemsPrice,\n        shippingPrice: req.body.shippingPrice,\n        taxPrice: req.body.taxPrice,\n        totalPrice: req.body.totalPrice,\n        user: req.user._id,\n      });\n      const createdOrder = await order.save();\n      res\n        .status(201)\n        .send({ message: 'New Order Created', order: createdOrder });\n    }\n  })\n);\n\norderRouter.get(\n  '/:id',\n  isAuth,\n  expressAsyncHandler(async (req, res) => {\n    const order = await Order.findById(req.params.id);\n    if (order) {\n      res.send(order);\n    } else {\n      res.status(404).send({ message: 'Order Not Found' });\n    }\n  })\n);\n\norderRouter.put(\n  '/:id/pay',\n  isAuth,\n  expressAsyncHandler(async (req, res) => {\n    const order = await Order.findById(req.params.id);\n    if (order) {\n      order.isPaid = true;\n      order.paidAt = Date.now();\n      order.paymentResult = {\n        id: req.body.id,\n        status: req.body.status,\n        update_time: req.body.update_time,\n        email_address: req.body.email_address,\n      };\n      const updatedOrder = await order.save();\n      res.send({ message: 'Order Paid', order: updatedOrder });\n    } else {\n      res.status(404).send({ message: 'Order Not Found' });\n    }\n  })\n);\n\norderRouter.delete(\n  '/:id',\n  isAuth,\n  isAdmin,\n  expressAsyncHandler(async (req, res) => {\n    const order = await Order.findById(req.params.id);\n    if (order) {\n      const deleteOrder = await order.remove();\n      res.send({ message: 'Order Deleted', order: deleteOrder });\n    } else {\n      res.status(404).send({ message: 'Order Not Found' });\n    }\n  })\n);\n\norderRouter.put(\n  '/:id/deliver',\n  isAuth,\n  isAdmin,\n  expressAsyncHandler(async (req, res) => {\n    const order = await Order.findById(req.params.id);\n    if (order) {\n      order.isDelivered = true;\n      order.deliveredAt = Date.now();\n\n      const updatedOrder = await order.save();\n      res.send({ message: 'Order Delivered', order: updatedOrder });\n    } else {\n      res.status(404).send({ message: 'Order Not Found' });\n    }\n  })\n);\n\nexport default orderRouter;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1607069234582
  },
  "{\"sourceRoot\":\"/Users/Me/Desktop/ReactProjects/luxeshop/backend/schemas/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/Me/Desktop/ReactProjects/luxeshop\",\"filename\":\"/Users/Me/Desktop/ReactProjects/luxeshop/backend/schemas/orderModel.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/Me/Desktop/ReactProjects/luxeshop\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/luxeshop/backend/schemas/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/Me/Desktop/ReactProjects/luxeshop",
      "filename": "/Users/Me/Desktop/ReactProjects/luxeshop/backend/schemas/orderModel.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/Me/Desktop/ReactProjects/luxeshop",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/Me/Desktop/ReactProjects/luxeshop/backend/schemas/orderModel.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/Me/Desktop/ReactProjects/luxeshop/backend/schemas/orderModel.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/Me/Desktop/ReactProjects/luxeshop/backend/schemas/",
        "sourceFileName": "orderModel.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst orderSchema = new _mongoose.default.Schema({\n  orderItems: [{\n    name: {\n      type: String,\n      required: true\n    },\n    qty: {\n      type: Number,\n      required: true\n    },\n    image: {\n      type: String,\n      required: true\n    },\n    price: {\n      type: Number,\n      required: true\n    },\n    product: {\n      type: _mongoose.default.Schema.Types.ObjectId,\n      ref: 'Product',\n      required: true\n    }\n  }],\n  shippingAddress: {\n    fullName: {\n      type: String,\n      required: true\n    },\n    address: {\n      type: String,\n      required: true\n    },\n    city: {\n      type: String,\n      required: true\n    },\n    postalCode: {\n      type: String,\n      required: true\n    },\n    country: {\n      type: String,\n      required: true\n    }\n  },\n  paymentMethod: {\n    type: String,\n    required: true\n  },\n  paymentResult: {\n    id: String,\n    status: String,\n    update_time: String,\n    email_address: String\n  },\n  itemsPrice: {\n    type: Number,\n    required: true\n  },\n  shippingPrice: {\n    type: Number,\n    required: true\n  },\n  taxPrice: {\n    type: Number,\n    required: true\n  },\n  totalPrice: {\n    type: Number,\n    required: true\n  },\n  user: {\n    type: _mongoose.default.Schema.Types.ObjectId,\n    ref: 'User',\n    required: true\n  },\n  seller: {\n    type: _mongoose.default.Schema.Types.ObjectID,\n    ref: 'User'\n  },\n  isPaid: {\n    type: Boolean,\n    default: false\n  },\n  paidAt: {\n    type: Date\n  },\n  isDelivered: {\n    type: Boolean,\n    default: false\n  },\n  deliveredAt: {\n    type: Date\n  }\n}, {\n  timestamps: true\n});\n\nconst Order = _mongoose.default.model('Order', orderSchema);\n\nvar _default = Order;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9yZGVyTW9kZWwuanMiXSwibmFtZXMiOlsib3JkZXJTY2hlbWEiLCJtb25nb29zZSIsIlNjaGVtYSIsIm9yZGVySXRlbXMiLCJuYW1lIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwicXR5IiwiTnVtYmVyIiwiaW1hZ2UiLCJwcmljZSIsInByb2R1Y3QiLCJUeXBlcyIsIk9iamVjdElkIiwicmVmIiwic2hpcHBpbmdBZGRyZXNzIiwiZnVsbE5hbWUiLCJhZGRyZXNzIiwiY2l0eSIsInBvc3RhbENvZGUiLCJjb3VudHJ5IiwicGF5bWVudE1ldGhvZCIsInBheW1lbnRSZXN1bHQiLCJpZCIsInN0YXR1cyIsInVwZGF0ZV90aW1lIiwiZW1haWxfYWRkcmVzcyIsIml0ZW1zUHJpY2UiLCJzaGlwcGluZ1ByaWNlIiwidGF4UHJpY2UiLCJ0b3RhbFByaWNlIiwidXNlciIsInNlbGxlciIsIk9iamVjdElEIiwiaXNQYWlkIiwiQm9vbGVhbiIsImRlZmF1bHQiLCJwYWlkQXQiLCJEYXRlIiwiaXNEZWxpdmVyZWQiLCJkZWxpdmVyZWRBdCIsInRpbWVzdGFtcHMiLCJPcmRlciIsIm1vZGVsIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7Ozs7QUFFQSxNQUFNQSxXQUFXLEdBQUcsSUFBSUMsa0JBQVNDLE1BQWIsQ0FDbEI7QUFDRUMsRUFBQUEsVUFBVSxFQUFFLENBQ1Y7QUFDRUMsSUFBQUEsSUFBSSxFQUFFO0FBQUVDLE1BQUFBLElBQUksRUFBRUMsTUFBUjtBQUFnQkMsTUFBQUEsUUFBUSxFQUFFO0FBQTFCLEtBRFI7QUFFRUMsSUFBQUEsR0FBRyxFQUFFO0FBQUVILE1BQUFBLElBQUksRUFBRUksTUFBUjtBQUFnQkYsTUFBQUEsUUFBUSxFQUFFO0FBQTFCLEtBRlA7QUFHRUcsSUFBQUEsS0FBSyxFQUFFO0FBQUVMLE1BQUFBLElBQUksRUFBRUMsTUFBUjtBQUFnQkMsTUFBQUEsUUFBUSxFQUFFO0FBQTFCLEtBSFQ7QUFJRUksSUFBQUEsS0FBSyxFQUFFO0FB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SSxFQUFFa0M7QUFBUjtBQXJDZixDQURrQixFQXdDbEI7QUFDRUcsRUFBQUEsVUFBVSxFQUFFO0FBRGQsQ0F4Q2tCLENBQXBCOztBQTRDQSxNQUFNQyxLQUFLLEdBQUcxQyxrQkFBUzJDLEtBQVQsQ0FBZSxPQUFmLEVBQXdCNUMsV0FBeEIsQ0FBZDs7ZUFDZTJDLEsiLCJzb3VyY2VSb290IjoiL1VzZXJzL01lL0Rlc2t0b3AvUmVhY3RQcm9qZWN0cy9sdXhlc2hvcC9iYWNrZW5kL3NjaGVtYXMvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcblxuY29uc3Qgb3JkZXJTY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKFxuICB7XG4gICAgb3JkZXJJdGVtczogW1xuICAgICAge1xuICAgICAgICBuYW1lOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICAgICAgcXR5OiB7IHR5cGU6IE51bWJlciwgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICAgICAgaW1hZ2U6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgICAgICBwcmljZTogeyB0eXBlOiBOdW1iZXIsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgICAgIHByb2R1Y3Q6IHtcbiAgICAgICAgICB0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsXG4gICAgICAgICAgcmVmOiAnUHJvZHVjdCcsXG4gICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIF0sXG4gICAgc2hpcHBpbmdBZGRyZXNzOiB7XG4gICAgICBmdWxsTmFtZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgICBhZGRyZXNzOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICAgIGNpdHk6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgICAgcG9zdGFsQ29kZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgICBjb3VudHJ5OiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICB9LFxuICAgIHBheW1lbnRNZXRob2Q6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgIHBheW1lbnRSZXN1bHQ6IHtcbiAgICAgIGlkOiBTdHJpbmcsXG4gICAgICBzdGF0dXM6IFN0cmluZyxcbiAgICAgIHVwZGF0ZV90aW1lOiBTdHJpbmcsXG4gICAgICBlbWFpbF9hZGRyZXNzOiBTdHJpbmcsXG4gICAgfSxcbiAgICBpdGVtc1ByaWNlOiB7IHR5cGU6IE51bWJlciwgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICBzaGlwcGluZ1ByaWNlOiB7IHR5cGU6IE51bWJlciwgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICB0YXhQcmljZTogeyB0eXBlOiBOdW1iZXIsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgdG90YWxQcmljZTogeyB0eXBlOiBOdW1iZXIsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgdXNlcjogeyB0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsIHJlZjogJ1VzZXInLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgIHNlbGxlcjogeyB0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SUQsIHJlZjogJ1VzZXInIH0sXG4gICAgaXNQYWlkOiB7IHR5cGU6IEJvb2xlYW4sIGRlZmF1bHQ6IGZhbHNlIH0sXG4gICAgcGFpZEF0OiB7IHR5cGU6IERhdGUgfSxcbiAgICBpc0RlbGl2ZXJlZDogeyB0eXBlOiBCb29sZWFuLCBkZWZhdWx0OiBmYWxzZSB9LFxuICAgIGRlbGl2ZXJlZEF0OiB7IHR5cGU6IERhdGUgfSxcbiAgfSxcbiAge1xuICAgIHRpbWVzdGFtcHM6IHRydWUsXG4gIH1cbik7XG5jb25zdCBPcmRlciA9IG1vbmdvb3NlLm1vZGVsKCdPcmRlcicsIG9yZGVyU2NoZW1hKTtcbmV4cG9ydCBkZWZhdWx0IE9yZGVyO1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "orderModel.js"
      ],
      "names": [
        "orderSchema",
        "mongoose",
        "Schema",
        "orderItems",
        "name",
        "type",
        "String",
        "required",
        "qty",
        "Number",
        "image",
        "price",
        "product",
        "Types",
        "ObjectId",
        "ref",
        "shippingAddress",
        "fullName",
        "address",
        "city",
        "postalCode",
        "country",
        "paymentMethod",
        "paymentResult",
        "id",
        "status",
        "update_time",
        "email_address",
        "itemsPrice",
        "shippingPrice",
        "taxPrice",
        "totalPrice",
        "user",
        "seller",
        "ObjectID",
        "isPaid",
        "Boolean",
        "default",
        "paidAt",
        "Date",
        "isDelivered",
        "deliveredAt",
        "timestamps",
        "Order",
        "model"
      ],
      "mappings": ";;;;;;;AAAA;;;;AAEA,MAAMA,WAAW,GAAG,IAAIC,kBAASC,MAAb,CAClB;AACEC,EAAAA,UAAU,EAAE,CACV;AACEC,IAAAA,IAAI,EAAE;AAAEC,MAAAA,IAAI,EAAEC,MAAR;AAAgBC,MAAAA,QAAQ,EAAE;AAA1B,KADR;AAEEC,IAAAA,GAAG,EAAE;AAAEH,MAAAA,IAAI,EAAEI,MAAR;AAAgBF,MAAAA,QAAQ,EAAE;AAA1B,KAFP;AAGEG,IAAAA,KAAK,EAAE;AAAEL,MAAAA,IAAI,EAAEC,MAAR;AAAgBC,MAAAA,QAAQ,EAAE;AAA1B,KAHT;AAIEI,IAAAA,KAAK,EAAE;AAAEN,MAAAA,IAAI,EAAEI,MAAR;AAAgBF,MAAAA,QAAQ,EAAE;AAA1B,KAJT;AAKEK,IAAAA,OAAO,EAAE;AACPP,MAAAA,IAAI,EAAEJ,kBAASC,MAAT,CAAgBW,KAAhB,CAAsBC,QADrB;AAEPC,MAAAA,GAAG,EAAE,SAFE;AAGPR,MAAAA,QAAQ,EAAE;AAHH;AALX,GADU,CADd;AAcES,EAAAA,eAAe,EAAE;AACfC,IAAAA,QAAQ,EAAE;AAAEZ,MAAAA,IAAI,EAAEC,MAAR;AAAgBC,MAAAA,QAAQ,EAAE;AAA1B,KADK;AAEfW,IAAAA,OAAO,EAAE;AAAEb,MAAAA,IAAI,EAAEC,MAAR;AAAgBC,MAAAA,QAAQ,EAAE;AAA1B,KAFM;AAGfY,IAAAA,IAAI,EAAE;AAAEd,MAAAA,IAAI,EAAEC,MAAR;AAAgBC,MAAAA,QAAQ,EAAE;AAA1B,KAHS;AAIfa,IAAAA,UAAU,EAAE;AAAEf,MAAAA,IAAI,EAAEC,MAAR;AAAgBC,MAAAA,QAAQ,EAAE;AAA1B,KAJG;AAKfc,IAAAA,OAAO,EAAE;AAAEhB,MAAAA,IAAI,EAAEC,MAAR;AAAgBC,MAAAA,QAAQ,EAAE;AAA1B;AALM,GAdnB;AAqBEe,EAAAA,aAAa,EAAE;AAAEjB,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GArBjB;AAsBEgB,EAAAA,aAAa,EAAE;AACbC,IAAAA,EAAE,EAAElB,MADS;AAEbmB,IAAAA,MAAM,EAAEnB,MAFK;AAGboB,IAAAA,WAAW,EAAEpB,MAHA;AAIbqB,IAAAA,aAAa,EAAErB;AAJF,GAtBjB;AA4BEsB,EAAAA,UAAU,EAAE;AAAEvB,IAAAA,IAAI,EAAEI,MAAR;AAAgBF,IAAAA,QAAQ,EAAE;AAA1B,GA5Bd;AA6BEsB,EAAAA,aAAa,EAAE;AAAExB,IAAAA,IAAI,EAAEI,MAAR;AAAgBF,IAAAA,QAAQ,EAAE;AAA1B,GA7BjB;AA8BEuB,EAAAA,QAAQ,EAAE;AAAEzB,IAAAA,IAAI,EAAEI,MAAR;AAAgBF,IAAAA,QAAQ,EAAE;AAA1B,GA9BZ;AA+BEwB,EAAAA,UAAU,EAAE;AAAE1B,IAAAA,IAAI,EAAEI,MAAR;AAAgBF,IAAAA,QAAQ,EAAE;AAA1B,GA/Bd;AAgCEyB,EAAAA,IAAI,EAAE;AAAE3B,IAAAA,IAAI,EAAEJ,kBAASC,MAAT,CAAgBW,KAAhB,CAAsBC,QAA9B;AAAwCC,IAAAA,GAAG,EAAE,MAA7C;AAAqDR,IAAAA,QAAQ,EAAE;AAA/D,GAhCR;AAiCE0B,EAAAA,MAAM,EAAE;AAAE5B,IAAAA,IAAI,EAAEJ,kBAASC,MAAT,CAAgBW,KAAhB,CAAsBqB,QAA9B;AAAwCnB,IAAAA,GAAG,EAAE;AAA7C,GAjCV;AAkCEoB,EAAAA,MAAM,EAAE;AAAE9B,IAAAA,IAAI,EAAE+B,OAAR;AAAiBC,IAAAA,OAAO,EAAE;AAA1B,GAlCV;AAmCEC,EAAAA,MAAM,EAAE;AAAEjC,IAAAA,IAAI,EAAEkC;AAAR,GAnCV;AAoCEC,EAAAA,WAAW,EAAE;AAAEnC,IAAAA,IAAI,EAAE+B,OAAR;AAAiBC,IAAAA,OAAO,EAAE;AAA1B,GApCf;AAqCEI,EAAAA,WAAW,EAAE;AAAEpC,IAAAA,IAAI,EAAEkC;AAAR;AArCf,CADkB,EAwClB;AACEG,EAAAA,UAAU,EAAE;AADd,CAxCkB,CAApB;;AA4CA,MAAMC,KAAK,GAAG1C,kBAAS2C,KAAT,CAAe,OAAf,EAAwB5C,WAAxB,CAAd;;eACe2C,K",
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/luxeshop/backend/schemas/",
      "sourcesContent": [
        "import mongoose from 'mongoose';\n\nconst orderSchema = new mongoose.Schema(\n  {\n    orderItems: [\n      {\n        name: { type: String, required: true },\n        qty: { type: Number, required: true },\n        image: { type: String, required: true },\n        price: { type: Number, required: true },\n        product: {\n          type: mongoose.Schema.Types.ObjectId,\n          ref: 'Product',\n          required: true,\n        },\n      },\n    ],\n    shippingAddress: {\n      fullName: { type: String, required: true },\n      address: { type: String, required: true },\n      city: { type: String, required: true },\n      postalCode: { type: String, required: true },\n      country: { type: String, required: true },\n    },\n    paymentMethod: { type: String, required: true },\n    paymentResult: {\n      id: String,\n      status: String,\n      update_time: String,\n      email_address: String,\n    },\n    itemsPrice: { type: Number, required: true },\n    shippingPrice: { type: Number, required: true },\n    taxPrice: { type: Number, required: true },\n    totalPrice: { type: Number, required: true },\n    user: { type: mongoose.Schema.Types.ObjectId, ref: 'User', required: true },\n    seller: { type: mongoose.Schema.Types.ObjectID, ref: 'User' },\n    isPaid: { type: Boolean, default: false },\n    paidAt: { type: Date },\n    isDelivered: { type: Boolean, default: false },\n    deliveredAt: { type: Date },\n  },\n  {\n    timestamps: true,\n  }\n);\nconst Order = mongoose.model('Order', orderSchema);\nexport default Order;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1606412590000
  },
  "{\"sourceRoot\":\"/Users/Me/Desktop/ReactProjects/luxeshop/backend/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/Me/Desktop/ReactProjects/luxeshop\",\"filename\":\"/Users/Me/Desktop/ReactProjects/luxeshop/backend/routes/uploadRouter.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/Me/Desktop/ReactProjects/luxeshop\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/luxeshop/backend/routes/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/Me/Desktop/ReactProjects/luxeshop",
      "filename": "/Users/Me/Desktop/ReactProjects/luxeshop/backend/routes/uploadRouter.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/Me/Desktop/ReactProjects/luxeshop",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/Me/Desktop/ReactProjects/luxeshop/backend/routes/uploadRouter.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/Me/Desktop/ReactProjects/luxeshop/backend/routes/uploadRouter.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/Me/Desktop/ReactProjects/luxeshop/backend/routes/",
        "sourceFileName": "uploadRouter.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _multer = _interopRequireDefault(require(\"multer\"));\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _utils = require(\"../utils.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst uploadRouter = _express.default.Router();\n\nconst storage = _multer.default.diskStorage({\n  destination(req, file, cb) {\n    cb(null, 'uploads/');\n  },\n\n  filename(req, file, cb) {\n    cb(null, `${Date.now()}.jpg`);\n  }\n\n});\n\nconst upload = (0, _multer.default)({\n  storage\n});\nuploadRouter.post('/', _utils.isAuth, upload.single('image'), (req, res) => {\n  res.send(`/${req.file.path}`);\n});\nvar _default = uploadRouter;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVwbG9hZFJvdXRlci5qcyJdLCJuYW1lcyI6WyJ1cGxvYWRSb3V0ZXIiLCJleHByZXNzIiwiUm91dGVyIiwic3RvcmFnZSIsIm11bHRlciIsImRpc2tTdG9yYWdlIiwiZGVzdGluYXRpb24iLCJyZXEiLCJmaWxlIiwiY2IiLCJmaWxlbmFtZSIsIkRhdGUiLCJub3ciLCJ1cGxvYWQiLCJwb3N0IiwiaXNBdXRoIiwic2luZ2xlIiwicmVzIiwic2VuZCIsInBhdGgiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7OztBQUVBLE1BQU1BLFlBQVksR0FBR0MsaUJBQVFDLE1BQVIsRUFBckI7O0FBRUEsTUFBTUMsT0FBTyxHQUFHQyxnQkFBT0MsV0FBUCxDQUFtQjtBQUNqQ0MsRUFBQUEsV0FBVyxDQUFDQyxHQUFELEVBQU1DLElBQU4sRUFBWUMsRUFBWixFQUFnQjtBQUN6QkEsSUFBQUEsRUFBRSxDQUFDLElBQUQsRUFBTyxVQUFQLENBQUY7QUFDRCxHQUhnQzs7QUFJakNDLEVBQUFBLFFBQVEsQ0FBQ0gsR0FBRCxFQUFNQyxJQUFOLEVBQVlDLEVBQVosRUFBZ0I7QUFDdEJBLElBQUFBLEVBQUUsQ0FBQyxJQUFELEVBQVEsR0FBRUUsSUFBSSxDQUFDQyxHQUFMLEVBQVcsTUFBckIsQ0FBRjtBQUNEOztBQU5nQyxDQUFuQixDQUFoQjs7QUFTQSxNQUFNQyxNQUFNLEdBQUcscUJBQU87QUFBRVYsRUFBQUE7QUFBRixDQUFQLENBQWY7QUFFQUgsWUFBWSxDQUFDYyxJQUFiLENBQWtCLEdBQWxCLEVBQXVCQyxhQUF2QixFQUErQkYsTUFBTSxDQUFDRyxNQUFQLENBQWMsT0FBZCxDQUEvQixFQUF1RCxDQUFDVCxHQUFELEVBQU1VLEdBQU4sS0FBYztBQUNuRUEsRUFBQUEsR0FBRyxDQUFDQyxJQUFKLENBQVUsSUFBR1gsR0FBRyxDQUFDQyxJQUFKLENBQVNXLElBQUssRUFBM0I7QUFDRCxDQUZEO2VBSWVuQixZIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9NZS9EZXNrdG9wL1JlYWN0UHJvamVjdHMvbHV4ZXNob3AvYmFja2VuZC9yb3V0ZXMvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG11bHRlciBmcm9tICdtdWx0ZXInO1xuaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgeyBpc0F1dGggfSBmcm9tICcuLi91dGlscy5qcyc7XG5cbmNvbnN0IHVwbG9hZFJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5cbmNvbnN0IHN0b3JhZ2UgPSBtdWx0ZXIuZGlza1N0b3JhZ2Uoe1xuICBkZXN0aW5hdGlvbihyZXEsIGZpbGUsIGNiKSB7XG4gICAgY2IobnVsbCwgJ3VwbG9hZHMvJyk7XG4gIH0sXG4gIGZpbGVuYW1lKHJlcSwgZmlsZSwgY2IpIHtcbiAgICBjYihudWxsLCBgJHtEYXRlLm5vdygpfS5qcGdgKTtcbiAgfSxcbn0pO1xuXG5jb25zdCB1cGxvYWQgPSBtdWx0ZXIoeyBzdG9yYWdlIH0pO1xuXG51cGxvYWRSb3V0ZXIucG9zdCgnLycsIGlzQXV0aCwgdXBsb2FkLnNpbmdsZSgnaW1hZ2UnKSwgKHJlcSwgcmVzKSA9PiB7XG4gIHJlcy5zZW5kKGAvJHtyZXEuZmlsZS5wYXRofWApO1xufSk7XG5cbmV4cG9ydCBkZWZhdWx0IHVwbG9hZFJvdXRlcjtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "uploadRouter.js"
      ],
      "names": [
        "uploadRouter",
        "express",
        "Router",
        "storage",
        "multer",
        "diskStorage",
        "destination",
        "req",
        "file",
        "cb",
        "filename",
        "Date",
        "now",
        "upload",
        "post",
        "isAuth",
        "single",
        "res",
        "send",
        "path"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;;;AAEA,MAAMA,YAAY,GAAGC,iBAAQC,MAAR,EAArB;;AAEA,MAAMC,OAAO,GAAGC,gBAAOC,WAAP,CAAmB;AACjCC,EAAAA,WAAW,CAACC,GAAD,EAAMC,IAAN,EAAYC,EAAZ,EAAgB;AACzBA,IAAAA,EAAE,CAAC,IAAD,EAAO,UAAP,CAAF;AACD,GAHgC;;AAIjCC,EAAAA,QAAQ,CAACH,GAAD,EAAMC,IAAN,EAAYC,EAAZ,EAAgB;AACtBA,IAAAA,EAAE,CAAC,IAAD,EAAQ,GAAEE,IAAI,CAACC,GAAL,EAAW,MAArB,CAAF;AACD;;AANgC,CAAnB,CAAhB;;AASA,MAAMC,MAAM,GAAG,qBAAO;AAAEV,EAAAA;AAAF,CAAP,CAAf;AAEAH,YAAY,CAACc,IAAb,CAAkB,GAAlB,EAAuBC,aAAvB,EAA+BF,MAAM,CAACG,MAAP,CAAc,OAAd,CAA/B,EAAuD,CAACT,GAAD,EAAMU,GAAN,KAAc;AACnEA,EAAAA,GAAG,CAACC,IAAJ,CAAU,IAAGX,GAAG,CAACC,IAAJ,CAASW,IAAK,EAA3B;AACD,CAFD;eAIenB,Y",
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/luxeshop/backend/routes/",
      "sourcesContent": [
        "import multer from 'multer';\nimport express from 'express';\nimport { isAuth } from '../utils.js';\n\nconst uploadRouter = express.Router();\n\nconst storage = multer.diskStorage({\n  destination(req, file, cb) {\n    cb(null, 'uploads/');\n  },\n  filename(req, file, cb) {\n    cb(null, `${Date.now()}.jpg`);\n  },\n});\n\nconst upload = multer({ storage });\n\nuploadRouter.post('/', isAuth, upload.single('image'), (req, res) => {\n  res.send(`/${req.file.path}`);\n});\n\nexport default uploadRouter;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1607069271690
  },
  "{\"sourceRoot\":\"/Users/Me/Desktop/ReactProjects/luxeshop/backend/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/Me/Desktop/ReactProjects/luxeshop\",\"filename\":\"/Users/Me/Desktop/ReactProjects/luxeshop/backend/routes/productRouter.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/Me/Desktop/ReactProjects/luxeshop\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/luxeshop/backend/routes/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/Me/Desktop/ReactProjects/luxeshop",
      "filename": "/Users/Me/Desktop/ReactProjects/luxeshop/backend/routes/productRouter.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/Me/Desktop/ReactProjects/luxeshop",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/Me/Desktop/ReactProjects/luxeshop/backend/routes/productRouter.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/Me/Desktop/ReactProjects/luxeshop/backend/routes/productRouter.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/Me/Desktop/ReactProjects/luxeshop/backend/routes/",
        "sourceFileName": "productRouter.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _expressAsyncHandler = _interopRequireDefault(require(\"express-async-handler\"));\n\nvar _productModel = _interopRequireDefault(require(\"../schemas/productModel.js\"));\n\nvar _utils = require(\"../utils.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst productRouter = _express.default.Router();\n\nproductRouter.get('/', (0, _expressAsyncHandler.default)(async (req, res) => {\n  const name = req.query.name || '';\n  const category = req.query.category || '';\n  const seller = req.query.seller || '';\n  const order = req.query.order || '';\n  const min = req.query.min && Number(req.query.min) !== 0 ? Number(req.query.min) : 0;\n  const max = req.query.max && Number(req.query.max) !== 0 ? Number(req.query.max) : 0;\n  const rating = req.query.rating && Number(req.query.rating) !== 0 ? Number(req.query.rating) : 0;\n  const nameFilter = name ? {\n    name: {\n      $regex: name,\n      $options: 'i'\n    }\n  } : {};\n  const sellerFilter = seller ? {\n    seller\n  } : {};\n  const categoryFilter = category ? {\n    category\n  } : {};\n  const priceFilter = min && max ? {\n    price: {\n      $gte: min,\n      $lte: max\n    }\n  } : {};\n  const ratingFilter = rating ? {\n    rating: {\n      $gte: rating\n    }\n  } : {};\n  const sortOrder = order === 'lowest' ? {\n    price: 1\n  } : order === 'highest' ? {\n    price: -1\n  } : order === 'toprated' ? {\n    rating: -1\n  } : {\n    _id: -1\n  };\n  const products = await _productModel.default.find({ ...sellerFilter,\n    ...nameFilter,\n    ...categoryFilter,\n    ...priceFilter,\n    ...ratingFilter\n  }).populate('seller', 'seller.name seller.logo').sort(sortOrder);\n  res.send(products);\n}));\nproductRouter.get('/categories', (0, _expressAsyncHandler.default)(async (req, res) => {\n  const categories = await _productModel.default.find().distinct('category');\n  res.send(categories);\n}));\nproductRouter.get('/seed', (0, _expressAsyncHandler.default)(async (req, res) => {\n  // await Product.remove({});\n  const createdProducts = await _productModel.default.insertMany(data.products);\n  res.send({\n    createdProducts\n  });\n}));\nproductRouter.get('/:id', (0, _expressAsyncHandler.default)(async (req, res) => {\n  const product = await _productModel.default.findById(req.params.id).populate('seller', 'seller.name seller.logo seller.rating seller.numReviews');\n\n  if (product) {\n    res.send(product);\n  } else {\n    res.status(404).send({\n      message: 'Product Not Found'\n    });\n  }\n}));\nproductRouter.post('/', _utils.isAuth, _utils.isSellerOrAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const product = new _productModel.default({\n    name: 'sample name ' + Date.now(),\n    seller: req.user._id,\n    image: '/images/p1.jpg',\n    price: 0,\n    category: 'sample category',\n    brand: 'sample brand',\n    countInStock: 0,\n    rating: 0,\n    numReviews: 0,\n    description: 'sample description'\n  });\n  const createdProduct = await product.save();\n  res.send({\n    message: 'Product Created',\n    product: createdProduct\n  });\n}));\nproductRouter.put('/:id', _utils.isAuth, _utils.isSellerOrAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const productId = req.params.id;\n  const product = await _productModel.default.findById(productId);\n\n  if (product) {\n    product.name = req.body.name;\n    product.price = req.body.price;\n    product.image = req.body.image;\n    product.category = req.body.category;\n    product.brand = req.body.brand;\n    product.countInStock = req.body.countInStock;\n    product.description = req.body.description;\n    const updatedProduct = await product.save();\n    res.send({\n      message: 'Product Updated',\n      product: updatedProduct\n    });\n  } else {\n    res.status(404).send({\n      message: 'Product Not Found'\n    });\n  }\n}));\nproductRouter.delete('/:id', _utils.isAuth, _utils.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const product = await _productModel.default.findById(req.params.id);\n\n  if (product) {\n    const deleteProduct = await product.remove();\n    res.send({\n      message: 'Product Deleted',\n      product: deleteProduct\n    });\n  } else {\n    res.status(404).send({\n      message: 'Product Not Found'\n    });\n  }\n}));\nvar _default = productRouter;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2R1Y3RSb3V0ZXIuanMiXSwibmFtZXMiOlsicHJvZHVjdFJvdXRlciIsImV4cHJlc3MiLCJSb3V0ZXIiLCJnZXQiLCJyZXEiLCJyZXMiLCJuYW1lIiwicXVlcnkiLCJjYXRlZ29yeSIsInNlbGxlciIsIm9yZGVyIiwibWluIiwiTnVtYmVyIiwibWF4IiwicmF0aW5nIiwibmFtZUZpbHRlciIsIiRyZWdleCIsIiRvcHRpb25zIiwic2VsbGVyRmlsdGVyIiwiY2F0ZWdvcnlGaWx0ZXIiLCJwcmljZUZpbHRlciIsInByaWNlIiwiJGd0ZSIsIiRsdGUiLCJyYXRpbmdGaWx0ZXIiLCJzb3J0T3JkZXIiLCJfaWQiLCJwcm9kdWN0cyIsIlByb2R1Y3QiLCJmaW5kIiwicG9wdWxhdGUiLCJzb3J0Iiwic2VuZCIsImNhdGVnb3JpZXMiLCJkaXN0aW5jdCIsImNyZWF0ZWRQcm9kdWN0cyIsImluc2VydE1hbnkiLCJkYXRhIiwicHJvZHVjdCIsImZpbmRCeUlkIiwicGFyYW1zIiwiaWQiLCJzdGF0dXMiLCJtZXNzYWdlIiwicG9zdCIsImlzQXV0aCIsImlzU2VsbGVyT3JBZG1pbiIsIkRhdGUiLCJub3ciLCJ1c2VyIiwiaW1hZ2UiLCJicmFuZCIsImNvdW50SW5TdG9jayIsIm51bVJldmlld3MiLCJkZXNjcmlwdGlvbiIsImNyZWF0ZWRQcm9kdWN0Iiwic2F2ZSIsInB1dCIsInByb2R1Y3RJZCIsImJvZHkiLCJ1cGRhdGVkUHJvZHVjdCIsImRlbGV0ZSIsImlzQWRtaW4iLCJkZWxldGVQcm9kdWN0IiwicmVtb3ZlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7QUFFQSxNQUFNQSxhQUFhLEdBQUdDLGlCQUFRQyxNQUFSLEVBQXRCOztBQUVBRixhQUFhLENBQUNHLEdBQWQsQ0FDRSxHQURGLEVBRUUsa0NBQW9CLE9BQU9DLEdBQVAsRUFBWUMsR0FBWixLQUFvQjtBQUN0QyxRQUFNQyxJQUFJLEdBQUdGLEdBQUcsQ0FBQ0csS0FB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O0FBQThCTCxNQUFBQSxPQUFPLEVBQUV5QjtBQUF2QyxLQUFUO0FBQ0QsR0FIRCxNQUdPO0FBQ0wxRCxJQUFBQSxHQUFHLENBQUNxQyxNQUFKLENBQVcsR0FBWCxFQUFnQlYsSUFBaEIsQ0FBcUI7QUFBRVcsTUFBQUEsT0FBTyxFQUFFO0FBQVgsS0FBckI7QUFDRDtBQUNGLENBUkQsQ0FKRjtlQWVlM0MsYSIsInNvdXJjZVJvb3QiOiIvVXNlcnMvTWUvRGVza3RvcC9SZWFjdFByb2plY3RzL2x1eGVzaG9wL2JhY2tlbmQvcm91dGVzLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IGV4cHJlc3NBc3luY0hhbmRsZXIgZnJvbSAnZXhwcmVzcy1hc3luYy1oYW5kbGVyJztcbmltcG9ydCBQcm9kdWN0IGZyb20gJy4uL3NjaGVtYXMvcHJvZHVjdE1vZGVsLmpzJztcbmltcG9ydCB7IGlzQWRtaW4sIGlzQXV0aCwgaXNTZWxsZXJPckFkbWluIH0gZnJvbSAnLi4vdXRpbHMuanMnO1xuXG5jb25zdCBwcm9kdWN0Um91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcblxucHJvZHVjdFJvdXRlci5nZXQoXG4gICcvJyxcbiAgZXhwcmVzc0FzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCBuYW1lID0gcmVxLnF1ZXJ5Lm5hbWUgfHwgJyc7XG4gICAgY29uc3QgY2F0ZWdvcnkgPSByZXEucXVlcnkuY2F0ZWdvcnkgfHwgJyc7XG4gICAgY29uc3Qgc2VsbGVyID0gcmVxLnF1ZXJ5LnNlbGxlciB8fCAnJztcbiAgICBjb25zdCBvcmRlciA9IHJlcS5xdWVyeS5vcmRlciB8fCAnJztcbiAgICBjb25zdCBtaW4gPVxuICAgICAgcmVxLnF1ZXJ5Lm1pbiAmJiBOdW1iZXIocmVxLnF1ZXJ5Lm1pbikgIT09IDAgPyBOdW1iZXIocmVxLnF1ZXJ5Lm1pbikgOiAwO1xuICAgIGNvbnN0IG1heCA9XG4gICAgICByZXEucXVlcnkubWF4ICYmIE51bWJlcihyZXEucXVlcnkubWF4KSAhPT0gMCA/IE51bWJlcihyZXEucXVlcnkubWF4KSA6IDA7XG4gICAgY29uc3QgcmF0aW5nID1cbiAgICAgIHJlcS5xdWVyeS5yYXRpbmcgJiYgTnVtYmVyKHJlcS5xdWVyeS5yYXRpbmcpICE9PSAwXG4gICAgICAgID8gTnVtYmVyKHJlcS5xdWVyeS5yYXRpbmcpXG4gICAgICAgIDogMDtcblxuICAgIGNvbnN0IG5hbWVGaWx0ZXIgPSBuYW1lID8geyBuYW1lOiB7ICRyZWdleDogbmFtZSwgJG9wdGlvbnM6ICdpJyB9IH0gOiB7fTtcbiAgICBjb25zdCBzZWxsZXJGaWx0ZXIgPSBzZWxsZXIgPyB7IHNlbGxlciB9IDoge307XG4gICAgY29uc3QgY2F0ZWdvcnlGaWx0ZXIgPSBjYXRlZ29yeSA/IHsgY2F0ZWdvcnkgfSA6IHt9O1xuICAgIGNvbnN0IHByaWNlRmlsdGVyID0gbWluICYmIG1heCA/IHsgcHJpY2U6IHsgJGd0ZTogbWluLCAkbHRlOiBtYXggfSB9IDoge307XG4gICAgY29uc3QgcmF0aW5nRmlsdGVyID0gcmF0aW5nID8geyByYXRpbmc6IHsgJGd0ZTogcmF0aW5nIH0gfSA6IHt9O1xuICAgIGNvbnN0IHNvcnRPcmRlciA9XG4gICAgICBvcmRlciA9PT0gJ2xvd2VzdCdcbiAgICAgICAgPyB7IHByaWNlOiAxIH1cbiAgICAgICAgOiBvcmRlciA9PT0gJ2hpZ2hlc3QnXG4gICAgICAgID8geyBwcmljZTogLTEgfVxuICAgICAgICA6IG9yZGVyID09PSAndG9wcmF0ZWQnXG4gICAgICAgID8geyByYXRpbmc6IC0xIH1cbiAgICAgICAgOiB7IF9pZDogLTEgfTtcblxuICAgIGNvbnN0IHByb2R1Y3RzID0gYXdhaXQgUHJvZHVjdC5maW5kKHtcbiAgICAgIC4uLnNlbGxlckZpbHRlcixcbiAgICAgIC4uLm5hbWVGaWx0ZXIsXG4gICAgICAuLi5jYXRlZ29yeUZpbHRlcixcbiAgICAgIC4uLnByaWNlRmlsdGVyLFxuICAgICAgLi4ucmF0aW5nRmlsdGVyLFxuICAgIH0pXG4gICAgICAucG9wdWxhdGUoJ3NlbGxlcicsICdzZWxsZXIubmFtZSBzZWxsZXIubG9nbycpXG4gICAgICAuc29ydChzb3J0T3JkZXIpO1xuICAgIHJlcy5zZW5kKHByb2R1Y3RzKTtcbiAgfSlcbik7XG5cbnByb2R1Y3RSb3V0ZXIuZ2V0KFxuICAnL2NhdGVnb3JpZXMnLFxuICBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IGNhdGVnb3JpZXMgPSBhd2FpdCBQcm9kdWN0LmZpbmQoKS5kaXN0aW5jdCgnY2F0ZWdvcnknKTtcbiAgICByZXMuc2VuZChjYXRlZ29yaWVzKTtcbiAgfSlcbik7XG5cbnByb2R1Y3RSb3V0ZXIuZ2V0KFxuICAnL3NlZWQnLFxuICBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIC8vIGF3YWl0IFByb2R1Y3QucmVtb3ZlKHt9KTtcbiAgICBjb25zdCBjcmVhdGVkUHJvZHVjdHMgPSBhd2FpdCBQcm9kdWN0Lmluc2VydE1hbnkoZGF0YS5wcm9kdWN0cyk7XG4gICAgcmVzLnNlbmQoeyBjcmVhdGVkUHJvZHVjdHMgfSk7XG4gIH0pXG4pO1xuXG5wcm9kdWN0Um91dGVyLmdldChcbiAgJy86aWQnLFxuICBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHByb2R1Y3QgPSBhd2FpdCBQcm9kdWN0LmZpbmRCeUlkKHJlcS5wYXJhbXMuaWQpLnBvcHVsYXRlKFxuICAgICAgJ3NlbGxlcicsXG4gICAgICAnc2VsbGVyLm5hbWUgc2VsbGVyLmxvZ28gc2VsbGVyLnJhdGluZyBzZWxsZXIubnVtUmV2aWV3cydcbiAgICApO1xuICAgIGlmIChwcm9kdWN0KSB7XG4gICAgICByZXMuc2VuZChwcm9kdWN0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoeyBtZXNzYWdlOiAnUHJvZHVjdCBOb3QgRm91bmQnIH0pO1xuICAgIH1cbiAgfSlcbik7XG5cbnByb2R1Y3RSb3V0ZXIucG9zdChcbiAgJy8nLFxuICBpc0F1dGgsXG4gIGlzU2VsbGVyT3JBZG1pbixcbiAgZXhwcmVzc0FzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCBwcm9kdWN0ID0gbmV3IFByb2R1Y3Qoe1xuICAgICAgbmFtZTogJ3NhbXBsZSBuYW1lICcgKyBEYXRlLm5vdygpLFxuICAgICAgc2VsbGVyOiByZXEudXNlci5faWQsXG4gICAgICBpbWFnZTogJy9pbWFnZXMvcDEuanBnJyxcbiAgICAgIHByaWNlOiAwLFxuICAgICAgY2F0ZWdvcnk6ICdzYW1wbGUgY2F0ZWdvcnknLFxuICAgICAgYnJhbmQ6ICdzYW1wbGUgYnJhbmQnLFxuICAgICAgY291bnRJblN0b2NrOiAwLFxuICAgICAgcmF0aW5nOiAwLFxuICAgICAgbnVtUmV2aWV3czogMCxcbiAgICAgIGRlc2NyaXB0aW9uOiAnc2FtcGxlIGRlc2NyaXB0aW9uJyxcbiAgICB9KTtcbiAgICBjb25zdCBjcmVhdGVkUHJvZHVjdCA9IGF3YWl0IHByb2R1Y3Quc2F2ZSgpO1xuICAgIHJlcy5zZW5kKHsgbWVzc2FnZTogJ1Byb2R1Y3QgQ3JlYXRlZCcsIHByb2R1Y3Q6IGNyZWF0ZWRQcm9kdWN0IH0pO1xuICB9KVxuKTtcbnByb2R1Y3RSb3V0ZXIucHV0KFxuICAnLzppZCcsXG4gIGlzQXV0aCxcbiAgaXNTZWxsZXJPckFkbWluLFxuICBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHByb2R1Y3RJZCA9IHJlcS5wYXJhbXMuaWQ7XG4gICAgY29uc3QgcHJvZHVjdCA9IGF3YWl0IFByb2R1Y3QuZmluZEJ5SWQocHJvZHVjdElkKTtcbiAgICBpZiAocHJvZHVjdCkge1xuICAgICAgcHJvZHVjdC5uYW1lID0gcmVxLmJvZHkubmFtZTtcbiAgICAgIHByb2R1Y3QucHJpY2UgPSByZXEuYm9keS5wcmljZTtcbiAgICAgIHByb2R1Y3QuaW1hZ2UgPSByZXEuYm9keS5pbWFnZTtcbiAgICAgIHByb2R1Y3QuY2F0ZWdvcnkgPSByZXEuYm9keS5jYXRlZ29yeTtcbiAgICAgIHByb2R1Y3QuYnJhbmQgPSByZXEuYm9keS5icmFuZDtcbiAgICAgIHByb2R1Y3QuY291bnRJblN0b2NrID0gcmVxLmJvZHkuY291bnRJblN0b2NrO1xuICAgICAgcHJvZHVjdC5kZXNjcmlwdGlvbiA9IHJlcS5ib2R5LmRlc2NyaXB0aW9uO1xuICAgICAgY29uc3QgdXBkYXRlZFByb2R1Y3QgPSBhd2FpdCBwcm9kdWN0LnNhdmUoKTtcbiAgICAgIHJlcy5zZW5kKHsgbWVzc2FnZTogJ1Byb2R1Y3QgVXBkYXRlZCcsIHByb2R1Y3Q6IHVwZGF0ZWRQcm9kdWN0IH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCh7IG1lc3NhZ2U6ICdQcm9kdWN0IE5vdCBGb3VuZCcgfSk7XG4gICAgfVxuICB9KVxuKTtcblxucHJvZHVjdFJvdXRlci5kZWxldGUoXG4gICcvOmlkJyxcbiAgaXNBdXRoLFxuICBpc0FkbWluLFxuICBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHByb2R1Y3QgPSBhd2FpdCBQcm9kdWN0LmZpbmRCeUlkKHJlcS5wYXJhbXMuaWQpO1xuICAgIGlmIChwcm9kdWN0KSB7XG4gICAgICBjb25zdCBkZWxldGVQcm9kdWN0ID0gYXdhaXQgcHJvZHVjdC5yZW1vdmUoKTtcbiAgICAgIHJlcy5zZW5kKHsgbWVzc2FnZTogJ1Byb2R1Y3QgRGVsZXRlZCcsIHByb2R1Y3Q6IGRlbGV0ZVByb2R1Y3QgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHsgbWVzc2FnZTogJ1Byb2R1Y3QgTm90IEZvdW5kJyB9KTtcbiAgICB9XG4gIH0pXG4pO1xuXG5leHBvcnQgZGVmYXVsdCBwcm9kdWN0Um91dGVyO1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "productRouter.js"
      ],
      "names": [
        "productRouter",
        "express",
        "Router",
        "get",
        "req",
        "res",
        "name",
        "query",
        "category",
        "seller",
        "order",
        "min",
        "Number",
        "max",
        "rating",
        "nameFilter",
        "$regex",
        "$options",
        "sellerFilter",
        "categoryFilter",
        "priceFilter",
        "price",
        "$gte",
        "$lte",
        "ratingFilter",
        "sortOrder",
        "_id",
        "products",
        "Product",
        "find",
        "populate",
        "sort",
        "send",
        "categories",
        "distinct",
        "createdProducts",
        "insertMany",
        "data",
        "product",
        "findById",
        "params",
        "id",
        "status",
        "message",
        "post",
        "isAuth",
        "isSellerOrAdmin",
        "Date",
        "now",
        "user",
        "image",
        "brand",
        "countInStock",
        "numReviews",
        "description",
        "createdProduct",
        "save",
        "put",
        "productId",
        "body",
        "updatedProduct",
        "delete",
        "isAdmin",
        "deleteProduct",
        "remove"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/luxeshop/backend/routes/",
      "sourcesContent": [
        "import express from 'express';\nimport expressAsyncHandler from 'express-async-handler';\nimport Product from '../schemas/productModel.js';\nimport { isAdmin, isAuth, isSellerOrAdmin } from '../utils.js';\n\nconst productRouter = express.Router();\n\nproductRouter.get(\n  '/',\n  expressAsyncHandler(async (req, res) => {\n    const name = req.query.name || '';\n    const category = req.query.category || '';\n    const seller = req.query.seller || '';\n    const order = req.query.order || '';\n    const min =\n      req.query.min && Number(req.query.min) !== 0 ? Number(req.query.min) : 0;\n    const max =\n      req.query.max && Number(req.query.max) !== 0 ? Number(req.query.max) : 0;\n    const rating =\n      req.query.rating && Number(req.query.rating) !== 0\n        ? Number(req.query.rating)\n        : 0;\n\n    const nameFilter = name ? { name: { $regex: name, $options: 'i' } } : {};\n    const sellerFilter = seller ? { seller } : {};\n    const categoryFilter = category ? { category } : {};\n    const priceFilter = min && max ? { price: { $gte: min, $lte: max } } : {};\n    const ratingFilter = rating ? { rating: { $gte: rating } } : {};\n    const sortOrder =\n      order === 'lowest'\n        ? { price: 1 }\n        : order === 'highest'\n        ? { price: -1 }\n        : order === 'toprated'\n        ? { rating: -1 }\n        : { _id: -1 };\n\n    const products = await Product.find({\n      ...sellerFilter,\n      ...nameFilter,\n      ...categoryFilter,\n      ...priceFilter,\n      ...ratingFilter,\n    })\n      .populate('seller', 'seller.name seller.logo')\n      .sort(sortOrder);\n    res.send(products);\n  })\n);\n\nproductRouter.get(\n  '/categories',\n  expressAsyncHandler(async (req, res) => {\n    const categories = await Product.find().distinct('category');\n    res.send(categories);\n  })\n);\n\nproductRouter.get(\n  '/seed',\n  expressAsyncHandler(async (req, res) => {\n    // await Product.remove({});\n    const createdProducts = await Product.insertMany(data.products);\n    res.send({ createdProducts });\n  })\n);\n\nproductRouter.get(\n  '/:id',\n  expressAsyncHandler(async (req, res) => {\n    const product = await Product.findById(req.params.id).populate(\n      'seller',\n      'seller.name seller.logo seller.rating seller.numReviews'\n    );\n    if (product) {\n      res.send(product);\n    } else {\n      res.status(404).send({ message: 'Product Not Found' });\n    }\n  })\n);\n\nproductRouter.post(\n  '/',\n  isAuth,\n  isSellerOrAdmin,\n  expressAsyncHandler(async (req, res) => {\n    const product = new Product({\n      name: 'sample name ' + Date.now(),\n      seller: req.user._id,\n      image: '/images/p1.jpg',\n      price: 0,\n      category: 'sample category',\n      brand: 'sample brand',\n      countInStock: 0,\n      rating: 0,\n      numReviews: 0,\n      description: 'sample description',\n    });\n    const createdProduct = await product.save();\n    res.send({ message: 'Product Created', product: createdProduct });\n  })\n);\nproductRouter.put(\n  '/:id',\n  isAuth,\n  isSellerOrAdmin,\n  expressAsyncHandler(async (req, res) => {\n    const productId = req.params.id;\n    const product = await Product.findById(productId);\n    if (product) {\n      product.name = req.body.name;\n      product.price = req.body.price;\n      product.image = req.body.image;\n      product.category = req.body.category;\n      product.brand = req.body.brand;\n      product.countInStock = req.body.countInStock;\n      product.description = req.body.description;\n      const updatedProduct = await product.save();\n      res.send({ message: 'Product Updated', product: updatedProduct });\n    } else {\n      res.status(404).send({ message: 'Product Not Found' });\n    }\n  })\n);\n\nproductRouter.delete(\n  '/:id',\n  isAuth,\n  isAdmin,\n  expressAsyncHandler(async (req, res) => {\n    const product = await Product.findById(req.params.id);\n    if (product) {\n      const deleteProduct = await product.remove();\n      res.send({ message: 'Product Deleted', product: deleteProduct });\n    } else {\n      res.status(404).send({ message: 'Product Not Found' });\n    }\n  })\n);\n\nexport default productRouter;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1607069250162
  },
  "{\"sourceRoot\":\"/Users/Me/Desktop/ReactProjects/luxeshop/backend/schemas/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/Me/Desktop/ReactProjects/luxeshop\",\"filename\":\"/Users/Me/Desktop/ReactProjects/luxeshop/backend/schemas/productModel.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/Me/Desktop/ReactProjects/luxeshop\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/luxeshop/backend/schemas/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/Me/Desktop/ReactProjects/luxeshop",
      "filename": "/Users/Me/Desktop/ReactProjects/luxeshop/backend/schemas/productModel.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/Me/Desktop/ReactProjects/luxeshop",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/Me/Desktop/ReactProjects/luxeshop/backend/schemas/productModel.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/Me/Desktop/ReactProjects/luxeshop/backend/schemas/productModel.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/Me/Desktop/ReactProjects/luxeshop/backend/schemas/",
        "sourceFileName": "productModel.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst productSchema = new _mongoose.default.Schema({\n  name: {\n    type: String,\n    required: true,\n    unique: true\n  },\n  seller: {\n    type: _mongoose.default.Schema.Types.ObjectID,\n    ref: 'User'\n  },\n  image: {\n    type: String,\n    required: true\n  },\n  brand: {\n    type: String,\n    required: true\n  },\n  category: {\n    type: String,\n    required: true\n  },\n  description: {\n    type: String,\n    required: true\n  },\n  price: {\n    type: Number,\n    required: true\n  },\n  countInStock: {\n    type: Number,\n    required: true\n  },\n  rating: {\n    type: Number,\n    required: true\n  },\n  numReviews: {\n    type: Number,\n    required: true\n  }\n}, {\n  timestamps: true\n});\n\nconst Product = _mongoose.default.model('Product', productSchema);\n\nvar _default = Product;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2R1Y3RNb2RlbC5qcyJdLCJuYW1lcyI6WyJwcm9kdWN0U2NoZW1hIiwibW9uZ29vc2UiLCJTY2hlbWEiLCJuYW1lIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwidW5pcXVlIiwic2VsbGVyIiwiVHlwZXMiLCJPYmplY3RJRCIsInJlZiIsImltYWdlIiwiYnJhbmQiLCJjYXRlZ29yeSIsImRlc2NyaXB0aW9uIiwicHJpY2UiLCJOdW1iZXIiLCJjb3VudEluU3RvY2siLCJyYXRpbmciLCJudW1SZXZpZXdzIiwidGltZXN0YW1wcyIsIlByb2R1Y3QiLCJtb2RlbCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7O0FBRUEsTUFBTUEsYUFBYSxHQUFHLElBQUlDLGtCQUFTQyxNQUFiLENBQ3BCO0FBQ0VDLEVBQUFBLElBQUksRUFBRTtBQUFFQyxJQUFBQSxJQUFJLEVBQUVDLE1BQVI7QUFBZ0JDLElBQUFBLFFBQVEsRUFBRSxJQUExQjtBQUFnQ0MsSUFBQUEsTUFBTSxFQUFFO0FBQXhDLEdBRFI7QUFFRUMsRUFBQUEsTUFBTSxFQUFFO0FBQUVKLElBQUFBLElBQUksRUFBRUgsa0JBQVNDLE1BQVQsQ0FBZ0JPLEtBQWhCLENBQXNCQyxRQUE5QjtBQUF3Q0MsSUFBQUEsR0FBRyxFQUFFO0FBQTdDLEdBRlY7QUFHRUMsRUFBQUEsS0FBSyxFQUFFO0FBQUVSLElBQUFBLElBQUksRUFBRUMsTUFBUjtBQUFnQkMsSUFBQUEsUUFBUSxFQUFFO0FBQTFCLEdBSFQ7QUFJRU8sRUFBQUEsS0FBSyxFQUFFO0FBQUVULElBQUFBLElBQUksRUFBRUMsTUFBUjtBQUFnQkMsSUFBQUEsUUFBUSxFQUFFO0FBQTFCLEdBSlQ7QUFLRVEsRUFBQUEsUUFBUSxFQUFFO0FBQUVWLElBQUFBLElBQUksRUFBRUMsTUFBUjtBQUFnQkMsSUFBQUEsUUFBUSxFQUFFO0FBQTFCLEdBTFo7QUFNRVMsRUFBQUEsV0FBVyxFQUFFO0FBQUVYLElBQUFBLElBQUksRUFBRUMsTUFBUjtBQUFnQkMsSUFBQUEsUUFBUSxFQUFFO0FBQTFCLEdBTmY7QUFPRVUsRUFBQUEsS0FBSyxFQUFFO0FBQUVaLElBQUFBLElBQUksRUFBRWEsTUFBUjtBQUFnQlgsSUFBQUEsUUFBUSxFQUFFO0FBQTFCLEdBUFQ7QUFRRVksRUFBQUEsWUFBWSxFQUFFO0FBQUVkLElBQUFBLElBQUksRUFBRWEsTUFBUjtBQUFnQlgsSUFBQUEsUUFBUSxFQUFFO0FBQTFCLEdBUmhCO0FBU0VhLEVBQUFBLE1BQU0sRUFBRTtBQUFFZixJQUFBQSxJQUFJLEVBQUVhLE1BQVI7QUFBZ0JYLElBQUFBLFFBQVEsRUFBRTtBQUExQixHQVRWO0FBVUVjLEVBQUFBLFVBQVUsRUFBRTtBQUFFaEIsSUFBQUEsSUFBSSxFQUFFYSxNQUFSO0FBQWdCWCxJQUFBQSxRQUFRLEVBQUU7QUFBMUI7QUFWZCxDQURvQixFQWFwQjtBQUNFZSxFQUFBQSxVQUFVLEVBQUU7QUFEZCxDQWJvQixDQUF0Qjs7QUFpQkEsTUFBTUMsT0FBTyxHQUFHckIsa0JBQVNzQixLQUFULENBQWUsU0FBZixFQUEwQnZCLGFBQTFCLENBQWhCOztlQUVlc0IsTyIsInNvdXJjZVJvb3QiOiIvVXNlcnMvTWUvRGVza3RvcC9SZWFjdFByb2plY3RzL2x1eGVzaG9wL2JhY2tlbmQvc2NoZW1hcy8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xuXG5jb25zdCBwcm9kdWN0U2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYShcbiAge1xuICAgIG5hbWU6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSwgdW5pcXVlOiB0cnVlIH0sXG4gICAgc2VsbGVyOiB7IHR5cGU6IG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5PYmplY3RJRCwgcmVmOiAnVXNlcicgfSxcbiAgICBpbWFnZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgYnJhbmQ6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgIGNhdGVnb3J5OiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICBkZXNjcmlwdGlvbjogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgcHJpY2U6IHsgdHlwZTogTnVtYmVyLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgIGNvdW50SW5TdG9jazogeyB0eXBlOiBOdW1iZXIsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgcmF0aW5nOiB7IHR5cGU6IE51bWJlciwgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICBudW1SZXZpZXdzOiB7IHR5cGU6IE51bWJlciwgcmVxdWlyZWQ6IHRydWUgfSxcbiAgfSxcbiAge1xuICAgIHRpbWVzdGFtcHM6IHRydWUsXG4gIH1cbik7XG5jb25zdCBQcm9kdWN0ID0gbW9uZ29vc2UubW9kZWwoJ1Byb2R1Y3QnLCBwcm9kdWN0U2NoZW1hKTtcblxuZXhwb3J0IGRlZmF1bHQgUHJvZHVjdDtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "productModel.js"
      ],
      "names": [
        "productSchema",
        "mongoose",
        "Schema",
        "name",
        "type",
        "String",
        "required",
        "unique",
        "seller",
        "Types",
        "ObjectID",
        "ref",
        "image",
        "brand",
        "category",
        "description",
        "price",
        "Number",
        "countInStock",
        "rating",
        "numReviews",
        "timestamps",
        "Product",
        "model"
      ],
      "mappings": ";;;;;;;AAAA;;;;AAEA,MAAMA,aAAa,GAAG,IAAIC,kBAASC,MAAb,CACpB;AACEC,EAAAA,IAAI,EAAE;AAAEC,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE,IAA1B;AAAgCC,IAAAA,MAAM,EAAE;AAAxC,GADR;AAEEC,EAAAA,MAAM,EAAE;AAAEJ,IAAAA,IAAI,EAAEH,kBAASC,MAAT,CAAgBO,KAAhB,CAAsBC,QAA9B;AAAwCC,IAAAA,GAAG,EAAE;AAA7C,GAFV;AAGEC,EAAAA,KAAK,EAAE;AAAER,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAHT;AAIEO,EAAAA,KAAK,EAAE;AAAET,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAJT;AAKEQ,EAAAA,QAAQ,EAAE;AAAEV,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GALZ;AAMES,EAAAA,WAAW,EAAE;AAAEX,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GANf;AAOEU,EAAAA,KAAK,EAAE;AAAEZ,IAAAA,IAAI,EAAEa,MAAR;AAAgBX,IAAAA,QAAQ,EAAE;AAA1B,GAPT;AAQEY,EAAAA,YAAY,EAAE;AAAEd,IAAAA,IAAI,EAAEa,MAAR;AAAgBX,IAAAA,QAAQ,EAAE;AAA1B,GARhB;AASEa,EAAAA,MAAM,EAAE;AAAEf,IAAAA,IAAI,EAAEa,MAAR;AAAgBX,IAAAA,QAAQ,EAAE;AAA1B,GATV;AAUEc,EAAAA,UAAU,EAAE;AAAEhB,IAAAA,IAAI,EAAEa,MAAR;AAAgBX,IAAAA,QAAQ,EAAE;AAA1B;AAVd,CADoB,EAapB;AACEe,EAAAA,UAAU,EAAE;AADd,CAboB,CAAtB;;AAiBA,MAAMC,OAAO,GAAGrB,kBAASsB,KAAT,CAAe,SAAf,EAA0BvB,aAA1B,CAAhB;;eAEesB,O",
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/luxeshop/backend/schemas/",
      "sourcesContent": [
        "import mongoose from 'mongoose';\n\nconst productSchema = new mongoose.Schema(\n  {\n    name: { type: String, required: true, unique: true },\n    seller: { type: mongoose.Schema.Types.ObjectID, ref: 'User' },\n    image: { type: String, required: true },\n    brand: { type: String, required: true },\n    category: { type: String, required: true },\n    description: { type: String, required: true },\n    price: { type: Number, required: true },\n    countInStock: { type: Number, required: true },\n    rating: { type: Number, required: true },\n    numReviews: { type: Number, required: true },\n  },\n  {\n    timestamps: true,\n  }\n);\nconst Product = mongoose.model('Product', productSchema);\n\nexport default Product;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1606412590000
  },
  "{\"sourceRoot\":\"/Users/Me/Desktop/ReactProjects/luxeshop/backend/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/Me/Desktop/ReactProjects/luxeshop\",\"filename\":\"/Users/Me/Desktop/ReactProjects/luxeshop/backend/utils.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/Me/Desktop/ReactProjects/luxeshop\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/luxeshop/backend/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/Me/Desktop/ReactProjects/luxeshop",
      "filename": "/Users/Me/Desktop/ReactProjects/luxeshop/backend/utils.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/Me/Desktop/ReactProjects/luxeshop",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/Me/Desktop/ReactProjects/luxeshop/backend/utils.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/Me/Desktop/ReactProjects/luxeshop/backend/utils.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/Me/Desktop/ReactProjects/luxeshop/backend/",
        "sourceFileName": "utils.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isSellerOrAdmin = exports.isSeller = exports.isAdmin = exports.isAuth = exports.generateToken = void 0;\n\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst generateToken = user => {\n  return _jsonwebtoken.default.sign({\n    _id: user._id,\n    name: user.name,\n    email: user.email,\n    isAdmin: user.isAdmin,\n    isSeller: user.isSeller\n  }, process.env.JWT_SECRET || 'somethingsecret', {\n    expiresIn: '30d'\n  });\n};\n\nexports.generateToken = generateToken;\n\nconst isAuth = (req, res, next) => {\n  const authorization = req.headers.authorization;\n\n  if (authorization) {\n    const token = authorization.slice(7, authorization.length); // Bearer XXXXXX\n\n    _jsonwebtoken.default.verify(token, process.env.JWT_SECRET || 'somethingsecret', (err, decode) => {\n      if (err) {\n        res.status(401).send({\n          message: 'Invalid Token'\n        });\n      } else {\n        req.user = decode;\n        next();\n      }\n    });\n  } else {\n    res.status(401).send({\n      message: 'No Token'\n    });\n  }\n};\n\nexports.isAuth = isAuth;\n\nconst isAdmin = (req, res, next) => {\n  if (req.user && req.user.isAdmin) {\n    next();\n  } else {\n    res.status(401).send({\n      message: 'Invalid Admin Token'\n    });\n  }\n};\n\nexports.isAdmin = isAdmin;\n\nconst isSeller = (req, res, next) => {\n  if (req.user && req.user.isSeller) {\n    next();\n  } else {\n    res.status(401).send({\n      message: 'Invalid Seller Token'\n    });\n  }\n};\n\nexports.isSeller = isSeller;\n\nconst isSellerOrAdmin = (req, res, next) => {\n  if (req.user && (req.user.isSeller || req.user.isAdmin)) {\n    next();\n  } else {\n    res.status(401).send({\n      message: 'Invalid Admin/Seller Token'\n    });\n  }\n};\n\nexports.isSellerOrAdmin = isSellerOrAdmin;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInV0aWxzLmpzIl0sIm5hbWVzIjpbImdlbmVyYXRlVG9rZW4iLCJ1c2VyIiwiand0Iiwic2lnbiIsIl9pZCIsIm5hbWUiLCJlbWFpbCIsImlzQWRtaW4iLCJpc1NlbGxlciIsInByb2Nlc3MiLCJlbnYiLCJKV1RfU0VDUkVUIiwiZXhwaXJlc0luIiwiaXNBdXRoIiwicmVxIiwicmVzIiwibmV4dCIsImF1dGhvcml6YXRpb24iLCJoZWFkZXJzIiwidG9rZW4iLCJzbGljZSIsImxlbmd0aCIsInZlcmlmeSIsImVyciIsImRlY29kZSIsInN0YXR1cyIsInNlbmQiLCJtZXNzYWdlIiwiaXNTZWxsZXJPckFkbWluIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7Ozs7QUFFTyxNQUFNQSxhQUFhLEdBQUlDLElBQUQsSUFBVTtBQUNyQyxTQUFPQyxzQkFBSUMsSUFBSixDQUNMO0FBQ0VDLElBQUFBLEdBQUcsRUFBRUgsSUFBSSxDQUFDRyxHQURaO0FBRUVDLElBQUFBLElBQUksRUFBRUosSUFBSSxDQUFDSSxJQUZiO0FBR0VDLElBQUFBLEtBQUssRUFBRUwsSUFBSSxDQUFDSyxLQUhkO0FBSUVDLElBQUFBLE9BQU8sRUFBRU4sSUFBSSxDQUFDTSxPQUpoQjtBQUtFQyxJQUFBQSxRQUFRLEVBQUVQLElBQUksQ0FBQ087QUFMakIsR0FESyxFQVFMQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsVUFBWixJQUEwQixpQkFSckIsRUFTTDtBQUNFQyxJQUFBQSxTQUFTLEVBQUU7QUFEYixHQVRLLENBQVA7QUFhRCxDQWRNOzs7O0FBZ0JBLE1BQU1DLE1BQU0sR0FBRyxDQUFDQyxHQUFELEVBQU1DLEdBQU4sRUFBV0MsSUFBWCxLQUFvQjtBQUN4QyxRQUFNQyxhQUFhLEdBQUdILEdBQUcsQ0FBQ0ksT0FBSixDQUFZRCxhQUFsQzs7QUFDQSxNQUFJQSxhQUFKLEVBQW1CO0FBQ2pCLFVBQU1FLEtBQUssR0FBR0YsYUFBYSxDQUFDRyxLQUFkLENBQW9CLENBQXBCLEVBQXVCSCxhQUFhLENBQUNJLE1BQXJDLENBQWQsQ0FEaUIsQ0FDMkM7O0FBQzVEbkIsMEJBQUlvQixNQUFKLENBQ0VILEtBREYsRUFFRVYsT0FBTyxDQUFDQyxHQUFSLENBQVlDLFVBQVosSUFBMEIsaUJBRjVCLEVBR0UsQ0FBQ1ksR0FBRCxFQUFNQyxNQUFOLEtBQWlCO0FBQ2YsVUFBSUQsR0FBSixFQUFTO0FBQ1BSLFFBQUFBLEdBQUcsQ0FBQ1UsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUVDLFVBQUFBLE9BQU8sRUFBRTtBQUFYLFNBQXJCO0FBQ0QsT0FGRCxNQUVPO0FBQ0xiLFFBQUFBLEdBQUcsQ0FBQ2IsSUFBSixHQUFXdUIsTUFBWDtBQUNBUixRQUFBQSxJQUFJO0FBQ0w7QUFDRixLQVZIO0FBWUQsR0FkRCxNQWNPO0FBQ0xELElBQUFBLEdBQUcsQ0FBQ1UsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUVDLE1BQUFBLE9BQU8sRUFBRTtBQUFYLEtBQXJCO0FBQ0Q7QUFDRixDQW5CTTs7OztBQW9CQSxNQUFNcEIsT0FBTyxHQUFHLENBQUNPLEdBQUQsRUFBTUMsR0FBTixFQUFXQyxJQUFYLEtBQW9CO0FBQ3pDLE1BQUlGLEdBQUcsQ0FBQ2IsSUFBSixJQUFZYSxHQUFHLENBQUNiLElBQUosQ0FBU00sT0FBekIsRUFBa0M7QUFDaENTLElBQUFBLElBQUk7QUFDTCxHQUZELE1BRU87QUFDTEQsSUFBQUEsR0FBRyxDQUFDVSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBRUMsTUFBQUEsT0FBTyxFQUFFO0FBQVgsS0FBckI7QUFDRDtBQUNGLENBTk07Ozs7QUFPQSxNQUFNbkIsUUFBUSxHQUFHLENBQUNNLEdBQUQsRUFBTUMsR0FBTixFQUFXQyxJQUFYLEtBQW9CO0FBQzFDLE1BQUlGLEdBQUcsQ0FBQ2IsSUFBSixJQUFZYSxHQUFHLENBQUNiLElBQUosQ0FBU08sUUFBekIsRUFBbUM7QUFDakNRLElBQUFBLElBQUk7QUFDTCxHQUZELE1BRU87QUFDTEQsSUFBQUEsR0FBRyxDQUFDVSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBRUMsTUFBQUEsT0FBTyxFQUFFO0FBQVgsS0FBckI7QUFDRDtBQUNGLENBTk07Ozs7QUFPQSxNQUFNQyxlQUFlLEdBQUcsQ0FBQ2QsR0FBRCxFQUFNQyxHQUFOLEVBQVdDLElBQVgsS0FBb0I7QUFDakQsTUFBSUYsR0FBRyxDQUFDYixJQUFKLEtBQWFhLEdBQUcsQ0FBQ2IsSUFBSixDQUFTTyxRQUFULElBQXFCTSxHQUFHLENBQUNiLElBQUosQ0FBU00sT0FBM0MsQ0FBSixFQUF5RDtBQUN2RFMsSUFBQUEsSUFBSTtBQUNMLEdBRkQsTUFFTztBQUNMRCxJQUFBQSxHQUFHLENBQUNVLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFFQyxNQUFBQSxPQUFPLEVBQUU7QUFBWCxLQUFyQjtBQUNEO0FBQ0YsQ0FOTSIsInNvdXJjZVJvb3QiOiIvVXNlcnMvTWUvRGVza3RvcC9SZWFjdFByb2plY3RzL2x1eGVzaG9wL2JhY2tlbmQvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGp3dCBmcm9tICdqc29ud2VidG9rZW4nO1xuXG5leHBvcnQgY29uc3QgZ2VuZXJhdGVUb2tlbiA9ICh1c2VyKSA9PiB7XG4gIHJldHVybiBqd3Quc2lnbihcbiAgICB7XG4gICAgICBfaWQ6IHVzZXIuX2lkLFxuICAgICAgbmFtZTogdXNlci5uYW1lLFxuICAgICAgZW1haWw6IHVzZXIuZW1haWwsXG4gICAgICBpc0FkbWluOiB1c2VyLmlzQWRtaW4sXG4gICAgICBpc1NlbGxlcjogdXNlci5pc1NlbGxlcixcbiAgICB9LFxuICAgIHByb2Nlc3MuZW52LkpXVF9TRUNSRVQgfHwgJ3NvbWV0aGluZ3NlY3JldCcsXG4gICAge1xuICAgICAgZXhwaXJlc0luOiAnMzBkJyxcbiAgICB9XG4gICk7XG59O1xuXG5leHBvcnQgY29uc3QgaXNBdXRoID0gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gIGNvbnN0IGF1dGhvcml6YXRpb24gPSByZXEuaGVhZGVycy5hdXRob3JpemF0aW9uO1xuICBpZiAoYXV0aG9yaXphdGlvbikge1xuICAgIGNvbnN0IHRva2VuID0gYXV0aG9yaXphdGlvbi5zbGljZSg3LCBhdXRob3JpemF0aW9uLmxlbmd0aCk7IC8vIEJlYXJlciBYWFhYWFhcbiAgICBqd3QudmVyaWZ5KFxuICAgICAgdG9rZW4sXG4gICAgICBwcm9jZXNzLmVudi5KV1RfU0VDUkVUIHx8ICdzb21ldGhpbmdzZWNyZXQnLFxuICAgICAgKGVyciwgZGVjb2RlKSA9PiB7XG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICByZXMuc3RhdHVzKDQwMSkuc2VuZCh7IG1lc3NhZ2U6ICdJbnZhbGlkIFRva2VuJyB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXEudXNlciA9IGRlY29kZTtcbiAgICAgICAgICBuZXh0KCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICApO1xuICB9IGVsc2Uge1xuICAgIHJlcy5zdGF0dXMoNDAxKS5zZW5kKHsgbWVzc2FnZTogJ05vIFRva2VuJyB9KTtcbiAgfVxufTtcbmV4cG9ydCBjb25zdCBpc0FkbWluID0gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gIGlmIChyZXEudXNlciAmJiByZXEudXNlci5pc0FkbWluKSB7XG4gICAgbmV4dCgpO1xuICB9IGVsc2Uge1xuICAgIHJlcy5zdGF0dXMoNDAxKS5zZW5kKHsgbWVzc2FnZTogJ0ludmFsaWQgQWRtaW4gVG9rZW4nIH0pO1xuICB9XG59O1xuZXhwb3J0IGNvbnN0IGlzU2VsbGVyID0gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gIGlmIChyZXEudXNlciAmJiByZXEudXNlci5pc1NlbGxlcikge1xuICAgIG5leHQoKTtcbiAgfSBlbHNlIHtcbiAgICByZXMuc3RhdHVzKDQwMSkuc2VuZCh7IG1lc3NhZ2U6ICdJbnZhbGlkIFNlbGxlciBUb2tlbicgfSk7XG4gIH1cbn07XG5leHBvcnQgY29uc3QgaXNTZWxsZXJPckFkbWluID0gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gIGlmIChyZXEudXNlciAmJiAocmVxLnVzZXIuaXNTZWxsZXIgfHwgcmVxLnVzZXIuaXNBZG1pbikpIHtcbiAgICBuZXh0KCk7XG4gIH0gZWxzZSB7XG4gICAgcmVzLnN0YXR1cyg0MDEpLnNlbmQoeyBtZXNzYWdlOiAnSW52YWxpZCBBZG1pbi9TZWxsZXIgVG9rZW4nIH0pO1xuICB9XG59O1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "utils.js"
      ],
      "names": [
        "generateToken",
        "user",
        "jwt",
        "sign",
        "_id",
        "name",
        "email",
        "isAdmin",
        "isSeller",
        "process",
        "env",
        "JWT_SECRET",
        "expiresIn",
        "isAuth",
        "req",
        "res",
        "next",
        "authorization",
        "headers",
        "token",
        "slice",
        "length",
        "verify",
        "err",
        "decode",
        "status",
        "send",
        "message",
        "isSellerOrAdmin"
      ],
      "mappings": ";;;;;;;AAAA;;;;AAEO,MAAMA,aAAa,GAAIC,IAAD,IAAU;AACrC,SAAOC,sBAAIC,IAAJ,CACL;AACEC,IAAAA,GAAG,EAAEH,IAAI,CAACG,GADZ;AAEEC,IAAAA,IAAI,EAAEJ,IAAI,CAACI,IAFb;AAGEC,IAAAA,KAAK,EAAEL,IAAI,CAACK,KAHd;AAIEC,IAAAA,OAAO,EAAEN,IAAI,CAACM,OAJhB;AAKEC,IAAAA,QAAQ,EAAEP,IAAI,CAACO;AALjB,GADK,EAQLC,OAAO,CAACC,GAAR,CAAYC,UAAZ,IAA0B,iBARrB,EASL;AACEC,IAAAA,SAAS,EAAE;AADb,GATK,CAAP;AAaD,CAdM;;;;AAgBA,MAAMC,MAAM,GAAG,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;AACxC,QAAMC,aAAa,GAAGH,GAAG,CAACI,OAAJ,CAAYD,aAAlC;;AACA,MAAIA,aAAJ,EAAmB;AACjB,UAAME,KAAK,GAAGF,aAAa,CAACG,KAAd,CAAoB,CAApB,EAAuBH,aAAa,CAACI,MAArC,CAAd,CADiB,CAC2C;;AAC5DnB,0BAAIoB,MAAJ,CACEH,KADF,EAEEV,OAAO,CAACC,GAAR,CAAYC,UAAZ,IAA0B,iBAF5B,EAGE,CAACY,GAAD,EAAMC,MAAN,KAAiB;AACf,UAAID,GAAJ,EAAS;AACPR,QAAAA,GAAG,CAACU,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,UAAAA,OAAO,EAAE;AAAX,SAArB;AACD,OAFD,MAEO;AACLb,QAAAA,GAAG,CAACb,IAAJ,GAAWuB,MAAX;AACAR,QAAAA,IAAI;AACL;AACF,KAVH;AAYD,GAdD,MAcO;AACLD,IAAAA,GAAG,CAACU,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,MAAAA,OAAO,EAAE;AAAX,KAArB;AACD;AACF,CAnBM;;;;AAoBA,MAAMpB,OAAO,GAAG,CAACO,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;AACzC,MAAIF,GAAG,CAACb,IAAJ,IAAYa,GAAG,CAACb,IAAJ,CAASM,OAAzB,EAAkC;AAChCS,IAAAA,IAAI;AACL,GAFD,MAEO;AACLD,IAAAA,GAAG,CAACU,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,MAAAA,OAAO,EAAE;AAAX,KAArB;AACD;AACF,CANM;;;;AAOA,MAAMnB,QAAQ,GAAG,CAACM,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;AAC1C,MAAIF,GAAG,CAACb,IAAJ,IAAYa,GAAG,CAACb,IAAJ,CAASO,QAAzB,EAAmC;AACjCQ,IAAAA,IAAI;AACL,GAFD,MAEO;AACLD,IAAAA,GAAG,CAACU,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,MAAAA,OAAO,EAAE;AAAX,KAArB;AACD;AACF,CANM;;;;AAOA,MAAMC,eAAe,GAAG,CAACd,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;AACjD,MAAIF,GAAG,CAACb,IAAJ,KAAaa,GAAG,CAACb,IAAJ,CAASO,QAAT,IAAqBM,GAAG,CAACb,IAAJ,CAASM,OAA3C,CAAJ,EAAyD;AACvDS,IAAAA,IAAI;AACL,GAFD,MAEO;AACLD,IAAAA,GAAG,CAACU,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,MAAAA,OAAO,EAAE;AAAX,KAArB;AACD;AACF,CANM",
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/luxeshop/backend/",
      "sourcesContent": [
        "import jwt from 'jsonwebtoken';\n\nexport const generateToken = (user) => {\n  return jwt.sign(\n    {\n      _id: user._id,\n      name: user.name,\n      email: user.email,\n      isAdmin: user.isAdmin,\n      isSeller: user.isSeller,\n    },\n    process.env.JWT_SECRET || 'somethingsecret',\n    {\n      expiresIn: '30d',\n    }\n  );\n};\n\nexport const isAuth = (req, res, next) => {\n  const authorization = req.headers.authorization;\n  if (authorization) {\n    const token = authorization.slice(7, authorization.length); // Bearer XXXXXX\n    jwt.verify(\n      token,\n      process.env.JWT_SECRET || 'somethingsecret',\n      (err, decode) => {\n        if (err) {\n          res.status(401).send({ message: 'Invalid Token' });\n        } else {\n          req.user = decode;\n          next();\n        }\n      }\n    );\n  } else {\n    res.status(401).send({ message: 'No Token' });\n  }\n};\nexport const isAdmin = (req, res, next) => {\n  if (req.user && req.user.isAdmin) {\n    next();\n  } else {\n    res.status(401).send({ message: 'Invalid Admin Token' });\n  }\n};\nexport const isSeller = (req, res, next) => {\n  if (req.user && req.user.isSeller) {\n    next();\n  } else {\n    res.status(401).send({ message: 'Invalid Seller Token' });\n  }\n};\nexport const isSellerOrAdmin = (req, res, next) => {\n  if (req.user && (req.user.isSeller || req.user.isAdmin)) {\n    next();\n  } else {\n    res.status(401).send({ message: 'Invalid Admin/Seller Token' });\n  }\n};\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1607065194363
  },
  "{\"sourceRoot\":\"/Users/Me/Desktop/ReactProjects/luxeshop/backend/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/Me/Desktop/ReactProjects/luxeshop\",\"filename\":\"/Users/Me/Desktop/ReactProjects/luxeshop/backend/routes/userRouter.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/Me/Desktop/ReactProjects/luxeshop\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/luxeshop/backend/routes/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/Me/Desktop/ReactProjects/luxeshop",
      "filename": "/Users/Me/Desktop/ReactProjects/luxeshop/backend/routes/userRouter.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/Me/Desktop/ReactProjects/luxeshop",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/Me/Desktop/ReactProjects/luxeshop/backend/routes/userRouter.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/Me/Desktop/ReactProjects/luxeshop/backend/routes/userRouter.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/Me/Desktop/ReactProjects/luxeshop/backend/routes/",
        "sourceFileName": "userRouter.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _expressAsyncHandler = _interopRequireDefault(require(\"express-async-handler\"));\n\nvar _bcryptjs = _interopRequireDefault(require(\"bcryptjs\"));\n\nvar _userModel = _interopRequireDefault(require(\"../schemas/userModel.js\"));\n\nvar _utils = require(\"../utils.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst userRouter = _express.default.Router();\n\nuserRouter.get('/top-sellers', (0, _expressAsyncHandler.default)(async (req, res) => {\n  const topSellers = await _userModel.default.find({\n    isSeller: true\n  }).sort({\n    'seller.rating': -1\n  }).limit(3);\n  res.send(topSellers);\n}));\nuserRouter.get('/seed', (0, _expressAsyncHandler.default)(async (req, res) => {\n  // await User.remove({});\n  const createdUsers = await _userModel.default.insertMany(data.users);\n  res.send({\n    createdUsers\n  });\n}));\nuserRouter.post('/signin', (0, _expressAsyncHandler.default)(async (req, res) => {\n  const user = await _userModel.default.findOne({\n    email: req.body.email\n  });\n\n  if (user) {\n    if (_bcryptjs.default.compareSync(req.body.password, user.password)) {\n      res.send({\n        _id: user._id,\n        name: user.name,\n        email: user.email,\n        isAdmin: user.isAdmin,\n        isSeller: user.isSeller,\n        token: (0, _utils.generateToken)(user)\n      });\n      return;\n    }\n  }\n\n  res.status(401).send({\n    message: 'Invalid email or password'\n  });\n}));\nuserRouter.post('/register', (0, _expressAsyncHandler.default)(async (req, res) => {\n  const user = new _userModel.default({\n    name: req.body.name,\n    email: req.body.email,\n    password: _bcryptjs.default.hashSync(req.body.password, 8)\n  });\n  const createdUser = await user.save();\n  res.send({\n    _id: createdUser._id,\n    name: createdUser.name,\n    email: createdUser.email,\n    isAdmin: createdUser.isAdmin,\n    isSeller: user.isSeller,\n    token: (0, _utils.generateToken)(createdUser)\n  });\n}));\nuserRouter.get('/:id', (0, _expressAsyncHandler.default)(async (req, res) => {\n  const user = await _userModel.default.findById(req.params.id);\n\n  if (user) {\n    res.send(user);\n  } else {\n    res.status(404).send({\n      message: 'User Not Found'\n    });\n  }\n}));\nuserRouter.put('/profile', _utils.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const user = await _userModel.default.findById(req.user._id);\n\n  if (user) {\n    user.name = req.body.name || user.name;\n    user.email = req.body.email || user.email;\n\n    if (user.isSeller) {\n      user.seller.name = req.body.sellerName || user.seller.name;\n      user.seller.logo = req.body.sellerLogo || user.seller.logo;\n      user.seller.description = req.body.sellerDescription || user.seller.description;\n    }\n\n    if (req.body.password) {\n      user.password = _bcryptjs.default.hashSync(req.body.password, 8);\n    }\n\n    const updatedUser = await user.save();\n    res.send({\n      _id: updatedUser._id,\n      name: updatedUser.name,\n      email: updatedUser.email,\n      isAdmin: updatedUser.isAdmin,\n      isSeller: user.isSeller,\n      token: (0, _utils.generateToken)(updatedUser)\n    });\n  }\n}));\nuserRouter.get('/', _utils.isAuth, _utils.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const users = await _userModel.default.find({});\n  res.send(users);\n}));\nuserRouter.delete('/:id', _utils.isAuth, _utils.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const user = await _userModel.default.findById(req.params.id);\n\n  if (user) {\n    if (user.email === 'admin@example.com') {\n      res.status(400).send({\n        message: 'Can Not Delete Admin User'\n      });\n      return;\n    }\n\n    const deleteUser = await user.remove();\n    res.send({\n      message: 'User Deleted',\n      user: deleteUser\n    });\n  } else {\n    res.status(404).send({\n      message: 'User Not Found'\n    });\n  }\n}));\nuserRouter.put('/:id', _utils.isAuth, _utils.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const user = await _userModel.default.findById(req.params.id);\n\n  if (user) {\n    user.name = req.body.name || user.name;\n    user.email = req.body.email || user.email;\n    user.isSeller = req.body.isSeller || user.isSeller;\n    user.isAdmin = req.body.isAdmin || user.isAdmin;\n    const updatedUser = await user.save();\n    res.send({\n      message: 'User Updated',\n      user: updatedUser\n    });\n  } else {\n    res.status(404).send({\n      message: 'User Not Found'\n    });\n  }\n}));\nvar _default = userRouter;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJSb3V0ZXIuanMiXSwibmFtZXMiOlsidXNlclJvdXRlciIsImV4cHJlc3MiLCJSb3V0ZXIiLCJnZXQiLCJyZXEiLCJyZXMiLCJ0b3BTZWxsZXJzIiwiVXNlciIsImZpbmQiLCJpc1NlbGxlciIsInNvcnQiLCJsaW1pdCIsInNlbmQiLCJjcmVhdGVkVXNlcnMiLCJpbnNlcnRNYW55IiwiZGF0YSIsInVzZXJzIiwicG9zdCIsInVzZXIiLCJmaW5kT25lIiwiZW1haWwiLCJib2R5IiwiYmNyeXB0IiwiY29tcGFyZVN5bmMiLCJwYXNzd29yZCIsIl9pZCIsIm5hbWUiLCJpc0FkbWluIiwidG9rZW4iLCJzdGF0dXMiLCJtZXNzYWdlIiwiaGFzaFN5bmMiLCJjcmVhdGVkVXNlciIsInNhdmUiLCJmaW5kQnlJZCIsInBhcmFtcyIsImlkIiwicHV0IiwiaXNBdXRoIiwic2VsbGVyIiwic2VsbGVyTmFtZSIsImxvZ28iLCJzZWxsZXJMb2dvIiwiZGVzY3JpcHRpb24iLCJzZWxsZXJEZXNjcmlwdGlvbiIsInVwZGF0ZWRVc2VyIiwiZGVsZXRlIiwiZGVsZXRlVXNlciIsInJlbW92ZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOzs7O0FBRUEsTUFBTUEsVUFBVSxHQUFHQyxpQkFBUUMsTUFBUixFQUFuQjs7QUFFQUYsVUFBVSxDQUFDRyxHQUFYLENBQ0UsY0FERixFQUVFLGtDQUFvQixPQUFPQyxHQUFQLEVBQVlDLEdBQVosS0FBb0I7QUFDdEMsUUFBTUMsVUFBVSxHQUFHLE1BQU1DLG1CQUFLQyxJQUFMLENBQVU7QUFBRUMsSUFBQUEsUUFBUSxFQUFFO0FBQVosR0FBVixFQUN0QkMsSUFEc0IsQ0FDakI7QUFBRSxxQkFBaUIsQ0FBQztBQUFwQixHQURpQixFQUV0QkMsS0FGc0IsQ0FFaEIsQ0FGZ0IsQ0FBekI7QUFHQU4sRUFBQUEsR0FBRyxDQUFDTyxJQUFKLENBQVNOLFVBQVQ7QUFDRCxDQUxELENBRkY7QUFVQU4s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QUFDUyxPQUFMLEdBQWV2QixHQUFHLENBQUNpQixJQUFKLENBQVNNLE9BQVQsSUFBb0JULElBQUksQ0FBQ1MsT0FBeEM7QUFDQSxVQUFNa0IsV0FBVyxHQUFHLE1BQU0zQixJQUFJLENBQUNlLElBQUwsRUFBMUI7QUFDQTVCLElBQUFBLEdBQUcsQ0FBQ08sSUFBSixDQUFTO0FBQUVrQixNQUFBQSxPQUFPLEVBQUUsY0FBWDtBQUEyQlosTUFBQUEsSUFBSSxFQUFFMkI7QUFBakMsS0FBVDtBQUNELEdBUEQsTUFPTztBQUNMeEMsSUFBQUEsR0FBRyxDQUFDd0IsTUFBSixDQUFXLEdBQVgsRUFBZ0JqQixJQUFoQixDQUFxQjtBQUFFa0IsTUFBQUEsT0FBTyxFQUFFO0FBQVgsS0FBckI7QUFDRDtBQUNGLENBWkQsQ0FKRjtlQW9CZTlCLFUiLCJzb3VyY2VSb290IjoiL1VzZXJzL01lL0Rlc2t0b3AvUmVhY3RQcm9qZWN0cy9sdXhlc2hvcC9iYWNrZW5kL3JvdXRlcy8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcbmltcG9ydCBleHByZXNzQXN5bmNIYW5kbGVyIGZyb20gJ2V4cHJlc3MtYXN5bmMtaGFuZGxlcic7XG5pbXBvcnQgYmNyeXB0IGZyb20gJ2JjcnlwdGpzJztcbmltcG9ydCBVc2VyIGZyb20gJy4uL3NjaGVtYXMvdXNlck1vZGVsLmpzJztcbmltcG9ydCB7IGdlbmVyYXRlVG9rZW4sIGlzQWRtaW4sIGlzQXV0aCB9IGZyb20gJy4uL3V0aWxzLmpzJztcblxuY29uc3QgdXNlclJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5cbnVzZXJSb3V0ZXIuZ2V0KFxuICAnL3RvcC1zZWxsZXJzJyxcbiAgZXhwcmVzc0FzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCB0b3BTZWxsZXJzID0gYXdhaXQgVXNlci5maW5kKHsgaXNTZWxsZXI6IHRydWUgfSlcbiAgICAgIC5zb3J0KHsgJ3NlbGxlci5yYXRpbmcnOiAtMSB9KVxuICAgICAgLmxpbWl0KDMpO1xuICAgIHJlcy5zZW5kKHRvcFNlbGxlcnMpO1xuICB9KVxuKTtcblxudXNlclJvdXRlci5nZXQoXG4gICcvc2VlZCcsXG4gIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgLy8gYXdhaXQgVXNlci5yZW1vdmUoe30pO1xuICAgIGNvbnN0IGNyZWF0ZWRVc2VycyA9IGF3YWl0IFVzZXIuaW5zZXJ0TWFueShkYXRhLnVzZXJzKTtcbiAgICByZXMuc2VuZCh7IGNyZWF0ZWRVc2VycyB9KTtcbiAgfSlcbik7XG5cbnVzZXJSb3V0ZXIucG9zdChcbiAgJy9zaWduaW4nLFxuICBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyLmZpbmRPbmUoeyBlbWFpbDogcmVxLmJvZHkuZW1haWwgfSk7XG4gICAgaWYgKHVzZXIpIHtcbiAgICAgIGlmIChiY3J5cHQuY29tcGFyZVN5bmMocmVxLmJvZHkucGFzc3dvcmQsIHVzZXIucGFzc3dvcmQpKSB7XG4gICAgICAgIHJlcy5zZW5kKHtcbiAgICAgICAgICBfaWQ6IHVzZXIuX2lkLFxuICAgICAgICAgIG5hbWU6IHVzZXIubmFtZSxcbiAgICAgICAgICBlbWFpbDogdXNlci5lbWFpbCxcbiAgICAgICAgICBpc0FkbWluOiB1c2VyLmlzQWRtaW4sXG4gICAgICAgICAgaXNTZWxsZXI6IHVzZXIuaXNTZWxsZXIsXG4gICAgICAgICAgdG9rZW46IGdlbmVyYXRlVG9rZW4odXNlciksXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICAgIHJlcy5zdGF0dXMoNDAxKS5zZW5kKHsgbWVzc2FnZTogJ0ludmFsaWQgZW1haWwgb3IgcGFzc3dvcmQnIH0pO1xuICB9KVxuKTtcblxudXNlclJvdXRlci5wb3N0KFxuICAnL3JlZ2lzdGVyJyxcbiAgZXhwcmVzc0FzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCB1c2VyID0gbmV3IFVzZXIoe1xuICAgICAgbmFtZTogcmVxLmJvZHkubmFtZSxcbiAgICAgIGVtYWlsOiByZXEuYm9keS5lbWFpbCxcbiAgICAgIHBhc3N3b3JkOiBiY3J5cHQuaGFzaFN5bmMocmVxLmJvZHkucGFzc3dvcmQsIDgpLFxuICAgIH0pO1xuICAgIGNvbnN0IGNyZWF0ZWRVc2VyID0gYXdhaXQgdXNlci5zYXZlKCk7XG4gICAgcmVzLnNlbmQoe1xuICAgICAgX2lkOiBjcmVhdGVkVXNlci5faWQsXG4gICAgICBuYW1lOiBjcmVhdGVkVXNlci5uYW1lLFxuICAgICAgZW1haWw6IGNyZWF0ZWRVc2VyLmVtYWlsLFxuICAgICAgaXNBZG1pbjogY3JlYXRlZFVzZXIuaXNBZG1pbixcbiAgICAgIGlzU2VsbGVyOiB1c2VyLmlzU2VsbGVyLFxuICAgICAgdG9rZW46IGdlbmVyYXRlVG9rZW4oY3JlYXRlZFVzZXIpLFxuICAgIH0pO1xuICB9KVxuKTtcblxudXNlclJvdXRlci5nZXQoXG4gICcvOmlkJyxcbiAgZXhwcmVzc0FzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5maW5kQnlJZChyZXEucGFyYW1zLmlkKTtcbiAgICBpZiAodXNlcikge1xuICAgICAgcmVzLnNlbmQodXNlcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHsgbWVzc2FnZTogJ1VzZXIgTm90IEZvdW5kJyB9KTtcbiAgICB9XG4gIH0pXG4pO1xudXNlclJvdXRlci5wdXQoXG4gICcvcHJvZmlsZScsXG4gIGlzQXV0aCxcbiAgZXhwcmVzc0FzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5maW5kQnlJZChyZXEudXNlci5faWQpO1xuICAgIGlmICh1c2VyKSB7XG4gICAgICB1c2VyLm5hbWUgPSByZXEuYm9keS5uYW1lIHx8IHVzZXIubmFtZTtcbiAgICAgIHVzZXIuZW1haWwgPSByZXEuYm9keS5lbWFpbCB8fCB1c2VyLmVtYWlsO1xuICAgICAgaWYgKHVzZXIuaXNTZWxsZXIpIHtcbiAgICAgICAgdXNlci5zZWxsZXIubmFtZSA9IHJlcS5ib2R5LnNlbGxlck5hbWUgfHwgdXNlci5zZWxsZXIubmFtZTtcbiAgICAgICAgdXNlci5zZWxsZXIubG9nbyA9IHJlcS5ib2R5LnNlbGxlckxvZ28gfHwgdXNlci5zZWxsZXIubG9nbztcbiAgICAgICAgdXNlci5zZWxsZXIuZGVzY3JpcHRpb24gPVxuICAgICAgICAgIHJlcS5ib2R5LnNlbGxlckRlc2NyaXB0aW9uIHx8IHVzZXIuc2VsbGVyLmRlc2NyaXB0aW9uO1xuICAgICAgfVxuICAgICAgaWYgKHJlcS5ib2R5LnBhc3N3b3JkKSB7XG4gICAgICAgIHVzZXIucGFzc3dvcmQgPSBiY3J5cHQuaGFzaFN5bmMocmVxLmJvZHkucGFzc3dvcmQsIDgpO1xuICAgICAgfVxuICAgICAgY29uc3QgdXBkYXRlZFVzZXIgPSBhd2FpdCB1c2VyLnNhdmUoKTtcbiAgICAgIHJlcy5zZW5kKHtcbiAgICAgICAgX2lkOiB1cGRhdGVkVXNlci5faWQsXG4gICAgICAgIG5hbWU6IHVwZGF0ZWRVc2VyLm5hbWUsXG4gICAgICAgIGVtYWlsOiB1cGRhdGVkVXNlci5lbWFpbCxcbiAgICAgICAgaXNBZG1pbjogdXBkYXRlZFVzZXIuaXNBZG1pbixcbiAgICAgICAgaXNTZWxsZXI6IHVzZXIuaXNTZWxsZXIsXG4gICAgICAgIHRva2VuOiBnZW5lcmF0ZVRva2VuKHVwZGF0ZWRVc2VyKSxcbiAgICAgIH0pO1xuICAgIH1cbiAgfSlcbik7XG5cbnVzZXJSb3V0ZXIuZ2V0KFxuICAnLycsXG4gIGlzQXV0aCxcbiAgaXNBZG1pbixcbiAgZXhwcmVzc0FzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCB1c2VycyA9IGF3YWl0IFVzZXIuZmluZCh7fSk7XG4gICAgcmVzLnNlbmQodXNlcnMpO1xuICB9KVxuKTtcblxudXNlclJvdXRlci5kZWxldGUoXG4gICcvOmlkJyxcbiAgaXNBdXRoLFxuICBpc0FkbWluLFxuICBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyLmZpbmRCeUlkKHJlcS5wYXJhbXMuaWQpO1xuICAgIGlmICh1c2VyKSB7XG4gICAgICBpZiAodXNlci5lbWFpbCA9PT0gJ2FkbWluQGV4YW1wbGUuY29tJykge1xuICAgICAgICByZXMuc3RhdHVzKDQwMCkuc2VuZCh7IG1lc3NhZ2U6ICdDYW4gTm90IERlbGV0ZSBBZG1pbiBVc2VyJyB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgZGVsZXRlVXNlciA9IGF3YWl0IHVzZXIucmVtb3ZlKCk7XG4gICAgICByZXMuc2VuZCh7IG1lc3NhZ2U6ICdVc2VyIERlbGV0ZWQnLCB1c2VyOiBkZWxldGVVc2VyIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCh7IG1lc3NhZ2U6ICdVc2VyIE5vdCBGb3VuZCcgfSk7XG4gICAgfVxuICB9KVxuKTtcblxudXNlclJvdXRlci5wdXQoXG4gICcvOmlkJyxcbiAgaXNBdXRoLFxuICBpc0FkbWluLFxuICBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyLmZpbmRCeUlkKHJlcS5wYXJhbXMuaWQpO1xuICAgIGlmICh1c2VyKSB7XG4gICAgICB1c2VyLm5hbWUgPSByZXEuYm9keS5uYW1lIHx8IHVzZXIubmFtZTtcbiAgICAgIHVzZXIuZW1haWwgPSByZXEuYm9keS5lbWFpbCB8fCB1c2VyLmVtYWlsO1xuICAgICAgdXNlci5pc1NlbGxlciA9IHJlcS5ib2R5LmlzU2VsbGVyIHx8IHVzZXIuaXNTZWxsZXI7XG4gICAgICB1c2VyLmlzQWRtaW4gPSByZXEuYm9keS5pc0FkbWluIHx8IHVzZXIuaXNBZG1pbjtcbiAgICAgIGNvbnN0IHVwZGF0ZWRVc2VyID0gYXdhaXQgdXNlci5zYXZlKCk7XG4gICAgICByZXMuc2VuZCh7IG1lc3NhZ2U6ICdVc2VyIFVwZGF0ZWQnLCB1c2VyOiB1cGRhdGVkVXNlciB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoeyBtZXNzYWdlOiAnVXNlciBOb3QgRm91bmQnIH0pO1xuICAgIH1cbiAgfSlcbik7XG5cblxuZXhwb3J0IGRlZmF1bHQgdXNlclJvdXRlcjtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "userRouter.js"
      ],
      "names": [
        "userRouter",
        "express",
        "Router",
        "get",
        "req",
        "res",
        "topSellers",
        "User",
        "find",
        "isSeller",
        "sort",
        "limit",
        "send",
        "createdUsers",
        "insertMany",
        "data",
        "users",
        "post",
        "user",
        "findOne",
        "email",
        "body",
        "bcrypt",
        "compareSync",
        "password",
        "_id",
        "name",
        "isAdmin",
        "token",
        "status",
        "message",
        "hashSync",
        "createdUser",
        "save",
        "findById",
        "params",
        "id",
        "put",
        "isAuth",
        "seller",
        "sellerName",
        "logo",
        "sellerLogo",
        "description",
        "sellerDescription",
        "updatedUser",
        "delete",
        "deleteUser",
        "remove"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/Me/Desktop/ReactProjects/luxeshop/backend/routes/",
      "sourcesContent": [
        "import express from 'express';\nimport expressAsyncHandler from 'express-async-handler';\nimport bcrypt from 'bcryptjs';\nimport User from '../schemas/userModel.js';\nimport { generateToken, isAdmin, isAuth } from '../utils.js';\n\nconst userRouter = express.Router();\n\nuserRouter.get(\n  '/top-sellers',\n  expressAsyncHandler(async (req, res) => {\n    const topSellers = await User.find({ isSeller: true })\n      .sort({ 'seller.rating': -1 })\n      .limit(3);\n    res.send(topSellers);\n  })\n);\n\nuserRouter.get(\n  '/seed',\n  expressAsyncHandler(async (req, res) => {\n    // await User.remove({});\n    const createdUsers = await User.insertMany(data.users);\n    res.send({ createdUsers });\n  })\n);\n\nuserRouter.post(\n  '/signin',\n  expressAsyncHandler(async (req, res) => {\n    const user = await User.findOne({ email: req.body.email });\n    if (user) {\n      if (bcrypt.compareSync(req.body.password, user.password)) {\n        res.send({\n          _id: user._id,\n          name: user.name,\n          email: user.email,\n          isAdmin: user.isAdmin,\n          isSeller: user.isSeller,\n          token: generateToken(user),\n        });\n        return;\n      }\n    }\n    res.status(401).send({ message: 'Invalid email or password' });\n  })\n);\n\nuserRouter.post(\n  '/register',\n  expressAsyncHandler(async (req, res) => {\n    const user = new User({\n      name: req.body.name,\n      email: req.body.email,\n      password: bcrypt.hashSync(req.body.password, 8),\n    });\n    const createdUser = await user.save();\n    res.send({\n      _id: createdUser._id,\n      name: createdUser.name,\n      email: createdUser.email,\n      isAdmin: createdUser.isAdmin,\n      isSeller: user.isSeller,\n      token: generateToken(createdUser),\n    });\n  })\n);\n\nuserRouter.get(\n  '/:id',\n  expressAsyncHandler(async (req, res) => {\n    const user = await User.findById(req.params.id);\n    if (user) {\n      res.send(user);\n    } else {\n      res.status(404).send({ message: 'User Not Found' });\n    }\n  })\n);\nuserRouter.put(\n  '/profile',\n  isAuth,\n  expressAsyncHandler(async (req, res) => {\n    const user = await User.findById(req.user._id);\n    if (user) {\n      user.name = req.body.name || user.name;\n      user.email = req.body.email || user.email;\n      if (user.isSeller) {\n        user.seller.name = req.body.sellerName || user.seller.name;\n        user.seller.logo = req.body.sellerLogo || user.seller.logo;\n        user.seller.description =\n          req.body.sellerDescription || user.seller.description;\n      }\n      if (req.body.password) {\n        user.password = bcrypt.hashSync(req.body.password, 8);\n      }\n      const updatedUser = await user.save();\n      res.send({\n        _id: updatedUser._id,\n        name: updatedUser.name,\n        email: updatedUser.email,\n        isAdmin: updatedUser.isAdmin,\n        isSeller: user.isSeller,\n        token: generateToken(updatedUser),\n      });\n    }\n  })\n);\n\nuserRouter.get(\n  '/',\n  isAuth,\n  isAdmin,\n  expressAsyncHandler(async (req, res) => {\n    const users = await User.find({});\n    res.send(users);\n  })\n);\n\nuserRouter.delete(\n  '/:id',\n  isAuth,\n  isAdmin,\n  expressAsyncHandler(async (req, res) => {\n    const user = await User.findById(req.params.id);\n    if (user) {\n      if (user.email === 'admin@example.com') {\n        res.status(400).send({ message: 'Can Not Delete Admin User' });\n        return;\n      }\n      const deleteUser = await user.remove();\n      res.send({ message: 'User Deleted', user: deleteUser });\n    } else {\n      res.status(404).send({ message: 'User Not Found' });\n    }\n  })\n);\n\nuserRouter.put(\n  '/:id',\n  isAuth,\n  isAdmin,\n  expressAsyncHandler(async (req, res) => {\n    const user = await User.findById(req.params.id);\n    if (user) {\n      user.name = req.body.name || user.name;\n      user.email = req.body.email || user.email;\n      user.isSeller = req.body.isSeller || user.isSeller;\n      user.isAdmin = req.body.isAdmin || user.isAdmin;\n      const updatedUser = await user.save();\n      res.send({ message: 'User Updated', user: updatedUser });\n    } else {\n      res.status(404).send({ message: 'User Not Found' });\n    }\n  })\n);\n\n\nexport default userRouter;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1607069262783
  }
}